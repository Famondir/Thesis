<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Discussion | Extraction of tabular data from annual reports with LLMs</title>
  <meta name="description" content="6 Discussion | Extraction of tabular data from annual reports with LLMs" />
  <meta name="generator" content="bookdown 0.43.2 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Discussion | Extraction of tabular data from annual reports with LLMs" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Discussion | Extraction of tabular data from annual reports with LLMs" />
  
  
  

<meta name="author" content="Simon SchÃ¤fer" />


<meta name="date" content="2025-09-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/codefolding-lua-1.1/codefolding-lua.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.33/datatables.js"></script>
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="libs/dt-ext-rowgroup-1.13.6/css/rowGroup.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-rowgroup-1.13.6/js/dataTables.rowGroup.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glider-js@1/glider.min.css">
<script src="https://cdn.jsdelivr.net/npm/glider-js@1/glider.min.js"></script> -->


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="report_misc/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="images/BHT_Logo_horizontal_Anthrazit_transparent.svg"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#motivation"><i class="fa fa-check"></i><b>1.1</b> Motivation</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#objectives"><i class="fa fa-check"></i><b>1.2</b> Objectives</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#introduction-methodology"><i class="fa fa-check"></i><b>1.3</b> Methodology</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#thesis-outline"><i class="fa fa-check"></i><b>1.4</b> Thesis Outline</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#summary"><i class="fa fa-check"></i><b>1.5</b> Summary</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#to-place-in-chapters-above"><i class="fa fa-check"></i><b>1.6</b> To place in chapters above</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#unstrukturierte-daten"><i class="fa fa-check"></i><b>1.7</b> Unstrukturierte Daten</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="introduction.html"><a href="introduction.html#portable-document-format"><i class="fa fa-check"></i><b>1.7.1</b> Portable Document Format</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="literature-review.html"><a href="literature-review.html"><i class="fa fa-check"></i><b>2</b> Literature review</a>
<ul>
<li class="chapter" data-level="2.1" data-path="literature-review.html"><a href="literature-review.html#information-retrieval"><i class="fa fa-check"></i><b>2.1</b> Information extraction / retrieval</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="literature-review.html"><a href="literature-review.html#term-frequency"><i class="fa fa-check"></i><b>2.1.1</b> Term frequency</a></li>
<li class="chapter" data-level="2.1.2" data-path="literature-review.html"><a href="literature-review.html#text-processing"><i class="fa fa-check"></i><b>2.1.2</b> Text processing</a></li>
<li class="chapter" data-level="2.1.3" data-path="literature-review.html"><a href="literature-review.html#regular-expressions"><i class="fa fa-check"></i><b>2.1.3</b> Regular expressions</a></li>
<li class="chapter" data-level="2.1.4" data-path="literature-review.html"><a href="literature-review.html#llm-theory"><i class="fa fa-check"></i><b>2.1.4</b> Large Language Models</a>
<ul>
<li class="chapter" data-level="2.1.4.1" data-path="literature-review.html"><a href="literature-review.html#transformers"><i class="fa fa-check"></i><b>2.1.4.1</b> Transformers</a></li>
<li class="chapter" data-level="2.1.4.2" data-path="literature-review.html"><a href="literature-review.html#encoder"><i class="fa fa-check"></i><b>2.1.4.2</b> Encoder</a></li>
<li class="chapter" data-level="2.1.4.3" data-path="literature-review.html"><a href="literature-review.html#decoder"><i class="fa fa-check"></i><b>2.1.4.3</b> Decoder</a></li>
<li class="chapter" data-level="2.1.4.4" data-path="literature-review.html"><a href="literature-review.html#gpt-generative-pretrained-transformers"><i class="fa fa-check"></i><b>2.1.4.4</b> GPT (Generative Pretrained Transformers)</a></li>
<li class="chapter" data-level="2.1.4.5" data-path="literature-review.html"><a href="literature-review.html#mixture-of-experts"><i class="fa fa-check"></i><b>2.1.4.5</b> Mixture of Experts</a></li>
<li class="chapter" data-level="2.1.4.6" data-path="literature-review.html"><a href="literature-review.html#mixed-modal"><i class="fa fa-check"></i><b>2.1.4.6</b> Mixed modal</a></li>
</ul></li>
<li class="chapter" data-level="2.1.5" data-path="literature-review.html"><a href="literature-review.html#llm-methods"><i class="fa fa-check"></i><b>2.1.5</b> Methods for LLM application</a>
<ul>
<li class="chapter" data-level="2.1.5.1" data-path="literature-review.html"><a href="literature-review.html#few-shot-learning"><i class="fa fa-check"></i><b>2.1.5.1</b> Few-shot Learning</a></li>
<li class="chapter" data-level="2.1.5.2" data-path="literature-review.html"><a href="literature-review.html#rag"><i class="fa fa-check"></i><b>2.1.5.2</b> RAG</a></li>
<li class="chapter" data-level="2.1.5.3" data-path="literature-review.html"><a href="literature-review.html#guided-and-restricted-decoding"><i class="fa fa-check"></i><b>2.1.5.3</b> Guided and restricted decoding</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="literature-review.html"><a href="literature-review.html#other-concepts"><i class="fa fa-check"></i><b>2.2</b> Other concepts</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="literature-review.html"><a href="literature-review.html#sample-distribution-visualization-methods"><i class="fa fa-check"></i><b>2.2.1</b> Sample distribution visualization methods</a></li>
<li class="chapter" data-level="2.2.2" data-path="literature-review.html"><a href="literature-review.html#tree-based-machine-learning-algorithms"><i class="fa fa-check"></i><b>2.2.2</b> Tree based machine learning algorithms</a></li>
<li class="chapter" data-level="2.2.3" data-path="literature-review.html"><a href="literature-review.html#shap"><i class="fa fa-check"></i><b>2.2.3</b> Model agnostic explanation models</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="literature-review.html"><a href="literature-review.html#summary-0.5-p"><i class="fa fa-check"></i><b>2.3</b> Summary (0.5 p)</a></li>
<li class="chapter" data-level="2.4" data-path="literature-review.html"><a href="literature-review.html#to-place-in-chapters-above-1"><i class="fa fa-check"></i><b>2.4</b> To place in chapters above</a></li>
<li class="chapter" data-level="2.5" data-path="literature-review.html"><a href="literature-review.html#table-extraction-tasks"><i class="fa fa-check"></i><b>2.5</b> Table extraction tasks</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="literature-review.html"><a href="literature-review.html#difficulties"><i class="fa fa-check"></i><b>2.5.1</b> Difficulties</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="literature-review.html"><a href="literature-review.html#document-extraction-process"><i class="fa fa-check"></i><b>2.6</b> Document Extraction Process</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="literature-review.html"><a href="literature-review.html#document-layout-analysis"><i class="fa fa-check"></i><b>2.6.1</b> Document Layout Analysis</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="literature-review.html"><a href="literature-review.html#tools"><i class="fa fa-check"></i><b>2.7</b> Tools</a>
<ul>
<li class="chapter" data-level="2.7.0.1" data-path="literature-review.html"><a href="literature-review.html#vision-grid-transformer"><i class="fa fa-check"></i><b>2.7.0.1</b> Vision Grid Transformer</a></li>
<li class="chapter" data-level="2.7.0.2" data-path="literature-review.html"><a href="literature-review.html#tableformer"><i class="fa fa-check"></i><b>2.7.0.2</b> TableFormer</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="methodology.html"><a href="methodology.html"><i class="fa fa-check"></i><b>3</b> Methodology</a>
<ul>
<li class="chapter" data-level="3.1" data-path="methodology.html"><a href="methodology.html#problem-definition"><i class="fa fa-check"></i><b>3.1</b> Problem Definition</a></li>
<li class="chapter" data-level="3.2" data-path="methodology.html"><a href="methodology.html#research-design-philosophy"><i class="fa fa-check"></i><b>3.2</b> Research Design &amp; Philosophy</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="methodology.html"><a href="methodology.html#research-questions"><i class="fa fa-check"></i><b>3.2.1</b> Research questions</a></li>
<li class="chapter" data-level="3.2.2" data-path="methodology.html"><a href="methodology.html#evaluation-framework"><i class="fa fa-check"></i><b>3.2.2</b> Evaluation framework</a></li>
<li class="chapter" data-level="3.2.3" data-path="methodology.html"><a href="methodology.html#evaluation-research"><i class="fa fa-check"></i><b>3.2.3</b> Evaluation research</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="methodology.html"><a href="methodology.html#evaluation-strategy"><i class="fa fa-check"></i><b>3.3</b> Evaluation Strategy</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="methodology.html"><a href="methodology.html#metrics"><i class="fa fa-check"></i><b>3.3.1</b> Metrics</a></li>
<li class="chapter" data-level="3.3.2" data-path="methodology.html"><a href="methodology.html#benchmarking"><i class="fa fa-check"></i><b>3.3.2</b> Benchmarking</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="methodology.html"><a href="methodology.html#data-strategy"><i class="fa fa-check"></i><b>3.4</b> Data Strategy</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="methodology.html"><a href="methodology.html#sampling-methodology"><i class="fa fa-check"></i><b>3.4.1</b> Sampling methodology</a></li>
<li class="chapter" data-level="3.4.2" data-path="methodology.html"><a href="methodology.html#ground-truth-creation-process"><i class="fa fa-check"></i><b>3.4.2</b> Ground truth creation process</a></li>
<li class="chapter" data-level="3.4.3" data-path="methodology.html"><a href="methodology.html#preprocessing"><i class="fa fa-check"></i><b>3.4.3</b> Preprocessing</a></li>
<li class="chapter" data-level="3.4.4" data-path="methodology.html"><a href="methodology.html#data-splitting"><i class="fa fa-check"></i><b>3.4.4</b> Data splitting</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="methodology.html"><a href="methodology.html#experimental-framework"><i class="fa fa-check"></i><b>3.5</b> Experimental Framework</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="methodology.html"><a href="methodology.html#llm-overview"><i class="fa fa-check"></i><b>3.5.1</b> LLM overview</a></li>
<li class="chapter" data-level="3.5.2" data-path="methodology.html"><a href="methodology.html#approaches"><i class="fa fa-check"></i><b>3.5.2</b> Approaches</a>
<ul>
<li class="chapter" data-level="3.5.2.1" data-path="methodology.html"><a href="methodology.html#page-identification-4"><i class="fa fa-check"></i><b>3.5.2.1</b> Page identification</a></li>
<li class="chapter" data-level="3.5.2.2" data-path="methodology.html"><a href="methodology.html#information-extraction-3"><i class="fa fa-check"></i><b>3.5.2.2</b> Information extraction</a></li>
</ul></li>
<li class="chapter" data-level="3.5.3" data-path="methodology.html"><a href="methodology.html#gpu-benchmark"><i class="fa fa-check"></i><b>3.5.3</b> Hardware normalization</a></li>
<li class="chapter" data-level="3.5.4" data-path="methodology.html"><a href="methodology.html#error-analysis"><i class="fa fa-check"></i><b>3.5.4</b> Error analysis</a></li>
<li class="chapter" data-level="3.5.5" data-path="methodology.html"><a href="methodology.html#baseline-selection-rationale"><i class="fa fa-check"></i><b>3.5.5</b> Baseline selection rationale</a></li>
<li class="chapter" data-level="3.5.6" data-path="methodology.html"><a href="methodology.html#evaluation-methods"><i class="fa fa-check"></i><b>3.5.6</b> Evaluation methods</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="methodology.html"><a href="methodology.html#ethical-practical-considerations-eher-am-ende-oder-weg"><i class="fa fa-check"></i><b>3.6</b> Ethical &amp; Practical Considerations (eher am Ende oder weg?)</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="methodology.html"><a href="methodology.html#pdf-extraction-limitations"><i class="fa fa-check"></i><b>3.6.1</b> PDF extraction limitations</a></li>
<li class="chapter" data-level="3.6.2" data-path="methodology.html"><a href="methodology.html#computational-constraints"><i class="fa fa-check"></i><b>3.6.2</b> Computational constraints</a></li>
<li class="chapter" data-level="3.6.3" data-path="methodology.html"><a href="methodology.html#generalizability-scope"><i class="fa fa-check"></i><b>3.6.3</b> Generalizability scope</a></li>
<li class="chapter" data-level="3.6.4" data-path="methodology.html"><a href="methodology.html#ethical-considerations"><i class="fa fa-check"></i><b>3.6.4</b> Ethical considerations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="implementation.html"><a href="implementation.html"><i class="fa fa-check"></i><b>4</b> Implementation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="implementation.html"><a href="implementation.html#environments"><i class="fa fa-check"></i><b>4.1</b> Environments</a></li>
<li class="chapter" data-level="4.2" data-path="implementation.html"><a href="implementation.html#evaluation-and-reporting"><i class="fa fa-check"></i><b>4.2</b> Evaluation and Reporting</a></li>
<li class="chapter" data-level="4.3" data-path="implementation.html"><a href="implementation.html#software-packages"><i class="fa fa-check"></i><b>4.3</b> Software Packages</a></li>
<li class="chapter" data-level="4.4" data-path="implementation.html"><a href="implementation.html#speedup-with-vllm-and-batching"><i class="fa fa-check"></i><b>4.4</b> Speedup with vLLM and batching</a></li>
<li class="chapter" data-level="4.5" data-path="implementation.html"><a href="implementation.html#text-extraction"><i class="fa fa-check"></i><b>4.5</b> Text extraction</a></li>
<li class="chapter" data-level="4.6" data-path="implementation.html"><a href="implementation.html#data-processing"><i class="fa fa-check"></i><b>4.6</b> Data processing</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#page-identification-introduction"><i class="fa fa-check"></i><b>5.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#approaches-1"><i class="fa fa-check"></i><b>5.1.1</b> Approaches</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#comparison-page-identification"><i class="fa fa-check"></i><b>5.1.2</b> Comparison</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#table-extraction-introduction"><i class="fa fa-check"></i><b>5.2</b> Information extraction</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#approaches-2"><i class="fa fa-check"></i><b>5.2.1</b> Approaches</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#comparing-table-extraction-methods"><i class="fa fa-check"></i><b>5.2.2</b> Comparison</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#error-rate-guidance-results"><i class="fa fa-check"></i><b>5.3</b> Error rate guidance</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#page-identification-error-rate-results"><i class="fa fa-check"></i><b>5.3.1</b> Page identification</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#information-extraction-error-rate-results"><i class="fa fa-check"></i><b>5.3.2</b> Information extraction</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#summary-results"><i class="fa fa-check"></i><b>5.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>6</b> Discussion</a>
<ul>
<li class="chapter" data-level="6.1" data-path="discussion.html"><a href="discussion.html#page-identification-5"><i class="fa fa-check"></i><b>6.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="discussion.html"><a href="discussion.html#general-performance"><i class="fa fa-check"></i><b>6.1.1</b> General performance</a></li>
<li class="chapter" data-level="6.1.2" data-path="discussion.html"><a href="discussion.html#energy-usage-and-runtime-1"><i class="fa fa-check"></i><b>6.1.2</b> Energy usage and runtime</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="discussion.html"><a href="discussion.html#information-extraction-4"><i class="fa fa-check"></i><b>6.2</b> Information extraction</a></li>
<li class="chapter" data-level="6.3" data-path="discussion.html"><a href="discussion.html#error-rate-guidance-1"><i class="fa fa-check"></i><b>6.3</b> Error rate guidance</a></li>
<li class="chapter" data-level="6.4" data-path="discussion.html"><a href="discussion.html#table-extraction"><i class="fa fa-check"></i><b>6.4</b> Table extraction</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="discussion.html"><a href="discussion.html#general-performance-1"><i class="fa fa-check"></i><b>6.4.1</b> General performance</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="discussion.html"><a href="discussion.html#summary-1"><i class="fa fa-check"></i><b>6.5</b> Summary</a>
<ul>
<li class="chapter" data-level="6.5.0.1" data-path="discussion.html"><a href="discussion.html#regular-expression-approach"><i class="fa fa-check"></i><b>6.5.0.1</b> Regular expression approach</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="discussion.html"><a href="discussion.html#limitations-4"><i class="fa fa-check"></i><b>6.6</b> Limitations</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="discussion.html"><a href="discussion.html#table-extraction-1"><i class="fa fa-check"></i><b>6.6.1</b> table extraction</a>
<ul>
<li class="chapter" data-level="6.6.1.1" data-path="discussion.html"><a href="discussion.html#regex-baseline"><i class="fa fa-check"></i><b>6.6.1.1</b> Regex baseline</a></li>
</ul></li>
<li class="chapter" data-level="6.6.2" data-path="discussion.html"><a href="discussion.html#classification"><i class="fa fa-check"></i><b>6.6.2</b> classification</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="discussion.html"><a href="discussion.html#not-covered"><i class="fa fa-check"></i><b>6.7</b> Not covered</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="discussion.html"><a href="discussion.html#table-detection-extraction"><i class="fa fa-check"></i><b>6.7.1</b> Table detection / extraction</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="discussion.html"><a href="discussion.html#outlook"><i class="fa fa-check"></i><b>6.8</b> Outlook</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="discussion.html"><a href="discussion.html#vision-model"><i class="fa fa-check"></i><b>6.8.1</b> Vision Model</a></li>
<li class="chapter" data-level="6.8.2" data-path="discussion.html"><a href="discussion.html#table-extraction-2"><i class="fa fa-check"></i><b>6.8.2</b> Table extraction</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="discussion.html"><a href="discussion.html#error-analysis-1"><i class="fa fa-check"></i><b>6.9</b> Error analysis</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="discussion.html"><a href="discussion.html#conclusion"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i>Glossary</a></li>
<li class="chapter" data-level="8" data-path="page-identification-report.html"><a href="page-identification-report.html"><i class="fa fa-check"></i><b>8</b> Appendix A - Page identification report</a>
<ul>
<li class="chapter" data-level="8.1" data-path="page-identification-report.html"><a href="page-identification-report.html#regex-page-identification"><i class="fa fa-check"></i><b>8.1</b> Baseline: Regex</a></li>
<li class="chapter" data-level="8.2" data-path="page-identification-report.html"><a href="page-identification-report.html#toc-understanding"><i class="fa fa-check"></i><b>8.2</b> Table of Contents understanding</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="page-identification-report.html"><a href="page-identification-report.html#text-based-toc-understanding"><i class="fa fa-check"></i><b>8.2.1</b> Details for the approaches</a></li>
<li class="chapter" data-level="8.2.2" data-path="page-identification-report.html"><a href="page-identification-report.html#results-5"><i class="fa fa-check"></i><b>8.2.2</b> Results</a></li>
<li class="chapter" data-level="8.2.3" data-path="page-identification-report.html"><a href="page-identification-report.html#machine-readable-toc-approach-specific-results"><i class="fa fa-check"></i><b>8.2.3</b> Machine readable TOC approach specific results</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="page-identification-report.html"><a href="page-identification-report.html#llm-page-identification"><i class="fa fa-check"></i><b>8.3</b> Classification with LLMs</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="page-identification-report.html"><a href="page-identification-report.html#binary-classification-1"><i class="fa fa-check"></i><b>8.3.1</b> Binary classification</a></li>
<li class="chapter" data-level="8.3.2" data-path="page-identification-report.html"><a href="page-identification-report.html#multi-class-classification-1"><i class="fa fa-check"></i><b>8.3.2</b> Multi-class classification</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="page-identification-report.html"><a href="page-identification-report.html#tf-classifier"><i class="fa fa-check"></i><b>8.4</b> Term frequency based classifier</a></li>
<li class="chapter" data-level="8.5" data-path="page-identification-report.html"><a href="page-identification-report.html#summary-3"><i class="fa fa-check"></i><b>8.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="appendix-b---information-extraction-report.html"><a href="appendix-b---information-extraction-report.html"><i class="fa fa-check"></i><b>9</b> Appendix B - Information extraction report</a>
<ul>
<li class="chapter" data-level="9.1" data-path="appendix-b---information-extraction-report.html"><a href="appendix-b---information-extraction-report.html#baseline-regex"><i class="fa fa-check"></i><b>9.1</b> Baseline: Regex</a></li>
<li class="chapter" data-level="9.2" data-path="appendix-b---information-extraction-report.html"><a href="appendix-b---information-extraction-report.html#extraction-with-llms-real-tables"><i class="fa fa-check"></i><b>9.2</b> Extraction with LLMs</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="appendix-b---information-extraction-report.html"><a href="appendix-b---information-extraction-report.html#real-table-extraction-results"><i class="fa fa-check"></i><b>9.2.1</b> Real tables</a></li>
<li class="chapter" data-level="9.2.2" data-path="appendix-b---information-extraction-report.html"><a href="appendix-b---information-extraction-report.html#synthetic-table-extraction"><i class="fa fa-check"></i><b>9.2.2</b> Synthetic tables</a></li>
<li class="chapter" data-level="9.2.3" data-path="appendix-b---information-extraction-report.html"><a href="appendix-b---information-extraction-report.html#real-table-extraction-synth-context"><i class="fa fa-check"></i><b>9.2.3</b> Hybrid approach</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="appendix-b---information-extraction-report.html"><a href="appendix-b---information-extraction-report.html#summary-4"><i class="fa fa-check"></i><b>9.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="appendix-c---error-rate-guidance-report.html"><a href="appendix-c---error-rate-guidance-report.html"><i class="fa fa-check"></i><b>10</b> Appendix C - Error rate guidance report</a>
<ul>
<li class="chapter" data-level="10.1" data-path="appendix-c---error-rate-guidance-report.html"><a href="appendix-c---error-rate-guidance-report.html#page-identification-6"><i class="fa fa-check"></i><b>10.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="appendix-c---error-rate-guidance-report.html"><a href="appendix-c---error-rate-guidance-report.html#binary-classification-2"><i class="fa fa-check"></i><b>10.1.1</b> Binary classification</a></li>
<li class="chapter" data-level="10.1.2" data-path="appendix-c---error-rate-guidance-report.html"><a href="appendix-c---error-rate-guidance-report.html#multi-class-classification-2"><i class="fa fa-check"></i><b>10.1.2</b> Multi-class classification</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="appendix-c---error-rate-guidance-report.html"><a href="appendix-c---error-rate-guidance-report.html#extraction-with-llms"><i class="fa fa-check"></i><b>10.2</b> Extraction with LLMs</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="appendix-c---error-rate-guidance-report.html"><a href="appendix-c---error-rate-guidance-report.html#real-tables-3"><i class="fa fa-check"></i><b>10.2.1</b> Real tables</a></li>
<li class="chapter" data-level="10.2.2" data-path="appendix-c---error-rate-guidance-report.html"><a href="appendix-c---error-rate-guidance-report.html#synthetic-tables-3"><i class="fa fa-check"></i><b>10.2.2</b> Synthetic tables</a></li>
<li class="chapter" data-level="10.2.3" data-path="appendix-c---error-rate-guidance-report.html"><a href="appendix-c---error-rate-guidance-report.html#hybrid-aproach"><i class="fa fa-check"></i><b>10.2.3</b> Hybrid aproach</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="appendix-d---feature-effect-analysis.html"><a href="appendix-d---feature-effect-analysis.html"><i class="fa fa-check"></i><b>11</b> Appendix D - Feature effect analysis</a>
<ul>
<li class="chapter" data-level="11.1" data-path="appendix-d---feature-effect-analysis.html"><a href="appendix-d---feature-effect-analysis.html#regular-expressions-5"><i class="fa fa-check"></i><b>11.1</b> Regular expressions</a></li>
<li class="chapter" data-level="11.2" data-path="appendix-d---feature-effect-analysis.html"><a href="appendix-d---feature-effect-analysis.html#real-tables-4"><i class="fa fa-check"></i><b>11.2</b> Real tables</a></li>
<li class="chapter" data-level="11.3" data-path="appendix-d---feature-effect-analysis.html"><a href="appendix-d---feature-effect-analysis.html#hybrid-approach-3"><i class="fa fa-check"></i><b>11.3</b> Hybrid approach</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html"><i class="fa fa-check"></i><b>12</b> Appendix E - Miscellaneous</a>
<ul>
<li class="chapter" data-level="12.1" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#hitl"><i class="fa fa-check"></i><b>12.1</b> Human in the loop application</a></li>
<li class="chapter" data-level="12.2" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#local-machine"><i class="fa fa-check"></i><b>12.2</b> Local machine</a></li>
<li class="chapter" data-level="12.3" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#benchmarks"><i class="fa fa-check"></i><b>12.3</b> Benchmarks</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#text-extraction-benchmark"><i class="fa fa-check"></i><b>12.3.1</b> Text extraction</a></li>
<li class="chapter" data-level="12.3.2" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#table-detection-benchmark"><i class="fa fa-check"></i><b>12.3.2</b> Table detection</a>
<ul>
<li class="chapter" data-level="12.3.2.1" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#old-classification-with-llm"><i class="fa fa-check"></i><b>12.3.2.1</b> old classification with llm</a></li>
<li class="chapter" data-level="12.3.2.2" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#yolo"><i class="fa fa-check"></i><b>12.3.2.2</b> yolo benchmark and table transformer</a></li>
</ul></li>
<li class="chapter" data-level="12.3.3" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#vllm-batch-speed"><i class="fa fa-check"></i><b>12.3.3</b> Large language model process speed</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#prompts"><i class="fa fa-check"></i><b>12.4</b> Prompts</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#toc-understanding-promts"><i class="fa fa-check"></i><b>12.4.1</b> TOC understanding</a></li>
<li class="chapter" data-level="12.4.2" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#classification-prompts"><i class="fa fa-check"></i><b>12.4.2</b> Classification</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#regex-page-identification-code"><i class="fa fa-check"></i><b>12.5</b> Regular expressions</a></li>
<li class="chapter" data-level="12.6" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#annual-comprehensive-financial-report-balance-sheet"><i class="fa fa-check"></i><b>12.6</b> Annual Comprehensive Financial Report Balance Sheet</a></li>
<li class="chapter" data-level="12.7" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#extraction-framework-flow-chart"><i class="fa fa-check"></i><b>12.7</b> Extraction framework flow chart</a></li>
<li class="chapter" data-level="12.8" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#regex-extraction-mistakes"><i class="fa fa-check"></i><b>12.8</b> Table extraction with regular expressions</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>13</b> Tables</a>
<ul>
<li class="chapter" data-level="13.1" data-path="tables.html"><a href="tables.html#classification-1"><i class="fa fa-check"></i><b>13.1</b> Classification</a></li>
<li class="chapter" data-level="13.2" data-path="tables.html"><a href="tables.html#table-extraction-3"><i class="fa fa-check"></i><b>13.2</b> Table extraction</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="tables.html"><a href="tables.html#hybrid-approach-4"><i class="fa fa-check"></i><b>13.2.1</b> Hybrid approach</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="figures.html"><a href="figures.html"><i class="fa fa-check"></i><b>14</b> Figures</a>
<ul>
<li class="chapter" data-level="14.1" data-path="figures.html"><a href="figures.html#page-identification-7"><i class="fa fa-check"></i><b>14.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="figures.html"><a href="figures.html#regex-baseline-1"><i class="fa fa-check"></i><b>14.1.1</b> Regex baseline</a></li>
<li class="chapter" data-level="14.1.2" data-path="figures.html"><a href="figures.html#toc-understanding-1"><i class="fa fa-check"></i><b>14.1.2</b> TOC understanding</a></li>
<li class="chapter" data-level="14.1.3" data-path="figures.html"><a href="figures.html#classification-2"><i class="fa fa-check"></i><b>14.1.3</b> Classification</a>
<ul>
<li class="chapter" data-level="14.1.3.1" data-path="figures.html"><a href="figures.html#binary"><i class="fa fa-check"></i><b>14.1.3.1</b> Binary</a></li>
<li class="chapter" data-level="14.1.3.2" data-path="figures.html"><a href="figures.html#multi-class-classification-3"><i class="fa fa-check"></i><b>14.1.3.2</b> Multi-class classification</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="figures.html"><a href="figures.html#table-extraction-4"><i class="fa fa-check"></i><b>14.2</b> Table extraction</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="figures.html"><a href="figures.html#regex-approach"><i class="fa fa-check"></i><b>14.2.1</b> Regex approach</a>
<ul>
<li class="chapter" data-level="14.2.1.1" data-path="figures.html"><a href="figures.html#real-tables-5"><i class="fa fa-check"></i><b>14.2.1.1</b> Real tables</a></li>
<li class="chapter" data-level="14.2.1.2" data-path="figures.html"><a href="figures.html#synthetic-tables-4"><i class="fa fa-check"></i><b>14.2.1.2</b> Synthetic tables</a></li>
</ul></li>
<li class="chapter" data-level="14.2.2" data-path="figures.html"><a href="figures.html#real-tables-6"><i class="fa fa-check"></i><b>14.2.2</b> Real tables</a>
<ul>
<li class="chapter" data-level="14.2.2.1" data-path="figures.html"><a href="figures.html#examples-from-same-company"><i class="fa fa-check"></i><b>14.2.2.1</b> Examples from same company</a></li>
<li class="chapter" data-level="14.2.2.2" data-path="figures.html"><a href="figures.html#openai-models-1"><i class="fa fa-check"></i><b>14.2.2.2</b> OpenAI models</a></li>
<li class="chapter" data-level="14.2.2.3" data-path="figures.html"><a href="figures.html#hypotheses-5"><i class="fa fa-check"></i><b>14.2.2.3</b> Hypotheses</a></li>
</ul></li>
<li class="chapter" data-level="14.2.3" data-path="figures.html"><a href="figures.html#synthetic-tables-5"><i class="fa fa-check"></i><b>14.2.3</b> Synthetic tables</a>
<ul>
<li class="chapter" data-level="14.2.3.1" data-path="figures.html"><a href="figures.html#confidence-4"><i class="fa fa-check"></i><b>14.2.3.1</b> Confidence</a></li>
</ul></li>
<li class="chapter" data-level="14.2.4" data-path="figures.html"><a href="figures.html#hybrid-approach-5"><i class="fa fa-check"></i><b>14.2.4</b> Hybrid approach</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="layout-testing.html"><a href="layout-testing.html"><i class="fa fa-check"></i><b>15</b> Layout testing</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Extraction of tabular data from annual reports with LLMs</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="discussion" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Discussion<a href="discussion.html#discussion" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="page-identification-5" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Page identification<a href="discussion.html#page-identification-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="general-performance" class="section level3 hasAnchor" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> General performance<a href="discussion.html#general-performance" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="results-1" class="section level5 hasAnchor paragraph-start" number="6.1.1.0.1">
<h5><span class="header-section-number">6.1.1.0.1</span> Results<a href="discussion.html#results-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The page identification task is solved with higher F1 scores for every target class than the human reference F1 score. It is solved completely on the created dataset for predicting the class <strong>Aktiva</strong>. In two cases the multi-class classification wit Llama 4 Scout is best. For classifying <strong>GuV</strong> the binary classification with Ministral is even better.</p>
</div>
<div id="interpretations" class="section level5 hasAnchor paragraph-start" number="6.1.1.0.2">
<h5><span class="header-section-number">6.1.1.0.2</span> Interpretations<a href="discussion.html#interpretations" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="compare-with-previous-work" class="section level5 hasAnchor paragraph-start" number="6.1.1.0.3">
<h5><span class="header-section-number">6.1.1.0.3</span> Compare with previous work<a href="discussion.html#compare-with-previous-work" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We are able to narrow down the page range to five pages without using a <a href="glossary.html#acronyms_LLM">LLM</a>. With the <a href="glossary.html#acronyms_LLM">LLM</a> we are guaranteed, to find the correct pages within a range of two pages. Most of the time the first page in the <a href="glossary.html#acronyms_LLM">LLM</a> ranking is the correct one. <span class="citation">H. Li, Gao, et al. (<a href="#ref-liExtractingFinancialData2023">2023</a>)</span> do not present a concrete number of pages, they have to process after page refinement. The <a href="glossary.html#acronyms_TOC">TOC</a> does not work as well as expected from their report.</p>
</div>
<div id="implications" class="section level5 hasAnchor paragraph-start" number="6.1.1.0.4">
<h5><span class="header-section-number">6.1.1.0.4</span> Implications<a href="discussion.html#implications" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="limitations" class="section level5 hasAnchor paragraph-start" number="6.1.1.0.5">
<h5><span class="header-section-number">6.1.1.0.5</span> Limitations<a href="discussion.html#limitations" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The term frequency and <a href="glossary.html#acronyms_LLM">LLM</a> classification might perform worse, if the information searched for, is just making up a small part of the pages content. If the information is not even in a table, but part of a regular sentence, it might get difficult to find the correct page with this approach. Maybe the <a href="glossary.html#acronyms_TOC">TOC</a> approach could be used for page range refinement in this case.</p>
</div>
<p>For detecting (smaller) tables Yolo can be used (see <a href="appendix-e---miscellaneous.html#yolo">12.3.2.2</a>).</p>
<div id="unexpected-results" class="section level5 hasAnchor paragraph-start" number="6.1.1.0.6">
<h5><span class="header-section-number">6.1.1.0.6</span> Unexpected results<a href="discussion.html#unexpected-results" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li>Ministral is performing unexpected well.</li>
<li><a href="glossary.html#acronyms_TOC">TOC</a> approach performs not good</li>
</ul>
</div>
<div id="recommendations" class="section level5 hasAnchor paragraph-start" number="6.1.1.0.7">
<h5><span class="header-section-number">6.1.1.0.7</span> Recommendations<a href="discussion.html#recommendations" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We recommend, if possible, to refine the page range, using a term frequency approach. Afterwards a <a href="glossary.html#acronyms_LLM">LLM</a> can be used to perform a multi-class classification those pages. Use the page with the highest score for the information extraction. Keep the ranking.</p>
</div>
<p>Do not include a obligatory step, to confirm the selected page, but start the information extraction right away. When the user is checking the results, a wrong page will be noticed immedeatly. Then other pages can be inspected manually, following the order in the ranking.</p>
<p>Save the examples already classified in a vector database and use those in future tasks. Include documents from the same company. Build the database document by document in the beginning, before starting with batch wise processing.</p>
<div id="possible-improvement" class="section level5 hasAnchor paragraph-start" number="6.1.1.0.8">
<h5><span class="header-section-number">6.1.1.0.8</span> Possible improvement<a href="discussion.html#possible-improvement" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li><p>Instead of the simple term frequency the <a href="glossary.html#acronyms_TF-IDF">TF-IDF</a> measure could be implemented.</p></li>
<li><p>With more expertise and few shot learning the <a href="glossary.html#acronyms_TOC">TOC</a> approach could perform better.</p></li>
</ul>
</div>
<div id="conclusion" class="section level5 hasAnchor paragraph-start" number="6.1.1.0.9">
<h5><span class="header-section-number">6.1.1.0.9</span> Conclusion<a href="discussion.html#conclusion" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
</div>
<div id="energy-usage-and-runtime-1" class="section level3 hasAnchor" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> Energy usage and runtime<a href="discussion.html#energy-usage-and-runtime-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The fastest and least energy consuming strategy, using only <a href="glossary.html#acronyms_LLM">LLM</a>s is to use a small model as Ministral-8B-Instruct for the multi-class approach. This is more effective than running three binary classifications.</p>
<p>An alternative approach could be to binary predict if the page is of any target type and then perform a classification, which type exactly the page is of. But the results of the multi-class strategy are good enough. In both strategies the k required for perfect recall is three, using the Ministral-8B-Instruct model<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a>.</p>
<p>Nevertheless, it is more promising, to reduce the number of pages, to classify with the <a href="glossary.html#acronyms_LLM">LLM</a> in the first place. This can be achieved, by running the term-frequency approach first to refine the page range, and then use the <a href="glossary.html#acronyms_LLM">LLM</a> approach.</p>
<div id="compare-with-manual-page-identification" class="section level6 hasAnchor paragraph-start" number="6.1.2.0.0.1">
<h6><span class="header-section-number">6.1.2.0.0.1</span> Compare with manual page identification<a href="discussion.html#compare-with-manual-page-identification" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<p>The manual approach is the slowest. We identified the pages of interest for all target classes in ten random documents for the benchmark. We used the <a href="glossary.html#acronyms_TOC">TOC</a> and the search function to find key words like <strong>Aktiva</strong> or <strong>Bilanz</strong>. Anyhow, its almost as fast as the multi-classification using Llama 4 Scout, while consuming eight times less energy. Comparing it to Ministral-8B-Instruct it take three times longer but consumes less then half of the energy.</p>
</div>
<p>Not taken into account fo this comparison are factors as:</p>
<ul>
<li><p>costs to buy and maintain hardware (i.e.Â a GPU cluster).</p></li>
<li><p>higher costs per runtime if the <a href="glossary.html#acronyms_LLM">LLM</a> compute is purchased from cloud providers. CLOUD: price if LLM is in the cloud &lt;â print tokens used</p>
<ul>
<li><p>four classes (3 random examples): 11 k tokens</p></li>
<li><p>binary (3 random examples): 6.5 k tokens</p></li>
</ul></li>
<li><p>payment and insurance to pay for a human (e.g . student coworker).</p></li>
<li><p>the training time and energy consumption for training either</p>
<ul>
<li><p>a <a href="glossary.html#acronyms_LLM">LLM</a> (probably done by the <a href="glossary.html#acronyms_LLM">LLM</a> provider).</p></li>
<li><p>a human (growing up, getting educated).</p></li>
</ul></li>
<li><p>the energy consumed with the food humans eat.</p></li>
</ul>
</div>
</div>
<div id="information-extraction-4" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Information extraction<a href="discussion.html#information-extraction-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="results-2" class="section level5 hasAnchor paragraph-start" number="6.2.0.0.1">
<h5><span class="header-section-number">6.2.0.0.1</span> Results<a href="discussion.html#results-2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The best performing model - Qwen3-235B-A22B-Instruct - almost reaches human performance on real <strong>Aktiva</strong> tables, but is much faster. Both measures, percentage of correct numeric predictions (98.0 %) and F1 score (98.1 %) are not perfect yet and could be improved. It achieves perfect results on synthetic tables provided in <a href="glossary.html#acronyms_HTML">HTML</a> format.</p>
</div>
<div id="interpretations-1" class="section level5 hasAnchor paragraph-start" number="6.2.0.0.2">
<h5><span class="header-section-number">6.2.0.0.2</span> Interpretations<a href="discussion.html#interpretations-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The strong performance observed means, that Qwen3-235B is performing numeric transformations, respecting the currency units, in many cases. Otherwise the upper limit for correct numeric extraction would be 80.8 %, since 19.2 % of all numeric values have <em>Tâ¬</em> as unit.</p>
</div>
<p>Furthermore, we can see that it is possible to achieve perfect output, if the input is perfect structured and without unknown row identifiers. Perfect in, perfect out. Thus, we show that there is no <a href="glossary.html#acronyms_LLM">LLM</a> approach inherent mechanism, that prevents perfect information extraction of numeric values.</p>
<p>synth: The 0.1 % incorrect prediction from the PDF documents could be caused by faulty text extracts by <em>pdfium</em>.</p>
<p>investigate F1 score</p>
<div id="compare-with-previous-work-1" class="section level5 hasAnchor paragraph-start" number="6.2.0.0.3">
<h5><span class="header-section-number">6.2.0.0.3</span> Compare with previous work<a href="discussion.html#compare-with-previous-work-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><span class="citation">H. Li, Gao, et al. (<a href="#ref-liExtractingFinancialData2023">2023</a>)</span> achieved a perfect extraction result, after refining their approach. (strated at 96.1 %) including omissions when the LLM was instructed to extract a list of line items, misjudgment of units (such as thousands or millions), and incorrect identification of rows and columns</p>
<p>Total 152 data points from 8 ACFRs reports (probably homogeneous) fuzzy matching instruction 3 values per go, instructions for currency units</p>
<p>98.9 % on ESG reports after refinement, 90 values from 15 documents; heterogeneou (multiple ccompanies)? started at 93.3 % misjudging units between grams, kilograms, and tonnes introduced additional fields to the data points and had LLM extract the units as separate output fields</p>
<p>small in sample extractions =&gt; 4000 county year ACFRs: 96 % (80_000 data points)</p>
</div>
<div id="implications-1" class="section level5 hasAnchor paragraph-start" number="6.2.0.0.4">
<h5><span class="header-section-number">6.2.0.0.4</span> Implications<a href="discussion.html#implications-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We have not investigated yet, if the 2 % wrong extracted numeric values are caused by not respecting currency units, or if there is another reason. A potential reason may be numeric values, that get stiched together during text extraction.</p>
<ul>
<li>invest more into table extraction?</li>
</ul>
<p>Checked other extraction libraries as well. Including Azure Document Intelligence and Dpcling, but results not better. In Markdown they get worse.</p>
<p>Checking the extracted values takes up to three minutes. This totals in 300 minutes prediction checking. Thus, selecting a smaller model that is finishing after 2:30 minutes is not speeding up the process a lot. Once we get a sufficient good performance with the big models the prediction checking can be dropped. This would bring th real benefit.</p>
</div>
<div id="limitations-1" class="section level5 hasAnchor paragraph-start" number="6.2.0.0.5">
<h5><span class="header-section-number">6.2.0.0.5</span> Limitations<a href="discussion.html#limitations-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li>add schemas for different hierarchies</li>
</ul>
</div>
<div id="unexpected-results-1" class="section level5 hasAnchor paragraph-start" number="6.2.0.0.6">
<h5><span class="header-section-number">6.2.0.0.6</span> Unexpected results<a href="discussion.html#unexpected-results-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li>converts currency units without being prompted explicitly</li>
</ul>
</div>
<div id="recommendations-1" class="section level5 hasAnchor paragraph-start" number="6.2.0.0.7">
<h5><span class="header-section-number">6.2.0.0.7</span> Recommendations<a href="discussion.html#recommendations-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li>invest in supply of machine-readable information</li>
</ul>
</div>
<div id="possible-improvement-1" class="section level5 hasAnchor paragraph-start" number="6.2.0.0.8">
<h5><span class="header-section-number">6.2.0.0.8</span> Possible improvement<a href="discussion.html#possible-improvement-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The extraction performance may get higher, if the in-context learning examples show how to deal with columns that have a currency unit.</p>
<ul>
<li><p>explicitly instruct, how to handle currency units</p></li>
<li><p>extend schema or sum rows</p></li>
<li><p>handle non matched rows explicitly</p></li>
</ul>
</div>
<div id="conclusion-1" class="section level5 hasAnchor paragraph-start" number="6.2.0.0.9">
<h5><span class="header-section-number">6.2.0.0.9</span> Conclusion<a href="discussion.html#conclusion-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
</div>
<div id="error-rate-guidance-1" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Error rate guidance<a href="discussion.html#error-rate-guidance-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="results-3" class="section level5 hasAnchor paragraph-start" number="6.3.0.0.1">
<h5><span class="header-section-number">6.3.0.0.1</span> Results<a href="discussion.html#results-3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Confidence score can be used to determine empirical error rate for confidence intervals. For well performing models we find most predictions in the highest confidence interval.</p>
<p>Ministral shows good spread over confidence range for page identification task. We can find confidence intervals with zero error rate for the page identification task and the information instruction task on synthetic data.</p>
<p>We do not find confidence intervals with a error rate below 1 % for real <strong>Aktiva</strong> tables. Explicitly instructing to respect currency units, reduces errors.</p>
</div>
<div id="interpretations-2" class="section level5 hasAnchor paragraph-start" number="6.3.0.0.2">
<h5><span class="header-section-number">6.3.0.0.2</span> Interpretations<a href="discussion.html#interpretations-2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Confidence score can be used to guide attention for page identification task, but hardly for information extraction task.</p>
</div>
<div id="compare-with-previous-work-2" class="section level5 hasAnchor paragraph-start" number="6.3.0.0.3">
<h5><span class="header-section-number">6.3.0.0.3</span> Compare with previous work<a href="discussion.html#compare-with-previous-work-2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="implications-2" class="section level5 hasAnchor paragraph-start" number="6.3.0.0.4">
<h5><span class="header-section-number">6.3.0.0.4</span> Implications<a href="discussion.html#implications-2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Additional segementation could be necessary, to find values that are predicted well enough.</p>
</div>
<div id="limitations-2" class="section level5 hasAnchor paragraph-start" number="6.3.0.0.5">
<h5><span class="header-section-number">6.3.0.0.5</span> Limitations<a href="discussion.html#limitations-2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="unexpected-results-2" class="section level5 hasAnchor paragraph-start" number="6.3.0.0.6">
<h5><span class="header-section-number">6.3.0.0.6</span> Unexpected results<a href="discussion.html#unexpected-results-2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Most models predict high confidence, even for wrong predictions.</p>
</div>
<div id="recommendations-2" class="section level5 hasAnchor paragraph-start" number="6.3.0.0.7">
<h5><span class="header-section-number">6.3.0.0.7</span> Recommendations<a href="discussion.html#recommendations-2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="possible-improvement-2" class="section level5 hasAnchor paragraph-start" number="6.3.0.0.8">
<h5><span class="header-section-number">6.3.0.0.8</span> Possible improvement<a href="discussion.html#possible-improvement-2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="conclusion-2" class="section level5 hasAnchor paragraph-start" number="6.3.0.0.9">
<h5><span class="header-section-number">6.3.0.0.9</span> Conclusion<a href="discussion.html#conclusion-2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<p>Discussion:</p>
<p>An additional feature to narrow down the selection and get a more concrete error rate scores for similar texts could be the the company.</p>
<p>Check perfect text?</p>
<p>Learning benefit of real examples higher for numeric value extraction as for lable matching.</p>
<p>works only well for page identification, where it is not really needed (perfect results, low checks, implicit found in extraction window)</p>
<p>additional segmentation might help</p>
<p>HTML might help =&gt; document parsing and table extraction</p>
</div>
<div id="table-extraction" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Table extraction<a href="discussion.html#table-extraction" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="general-performance-1" class="section level3 hasAnchor" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> General performance<a href="discussion.html#general-performance-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="results-4" class="section level5 hasAnchor paragraph-start" number="6.4.1.0.1">
<h5><span class="header-section-number">6.4.1.0.1</span> Results<a href="discussion.html#results-4" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="interpretations-3" class="section level5 hasAnchor paragraph-start" number="6.4.1.0.2">
<h5><span class="header-section-number">6.4.1.0.2</span> Interpretations<a href="discussion.html#interpretations-3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="compare-with-previous-work-3" class="section level5 hasAnchor paragraph-start" number="6.4.1.0.3">
<h5><span class="header-section-number">6.4.1.0.3</span> Compare with previous work<a href="discussion.html#compare-with-previous-work-3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="implications-3" class="section level5 hasAnchor paragraph-start" number="6.4.1.0.4">
<h5><span class="header-section-number">6.4.1.0.4</span> Implications<a href="discussion.html#implications-3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="limitations-3" class="section level5 hasAnchor paragraph-start" number="6.4.1.0.5">
<h5><span class="header-section-number">6.4.1.0.5</span> Limitations<a href="discussion.html#limitations-3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="unexpected-results-3" class="section level5 hasAnchor paragraph-start" number="6.4.1.0.6">
<h5><span class="header-section-number">6.4.1.0.6</span> Unexpected results<a href="discussion.html#unexpected-results-3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="recommendations-3" class="section level5 hasAnchor paragraph-start" number="6.4.1.0.7">
<h5><span class="header-section-number">6.4.1.0.7</span> Recommendations<a href="discussion.html#recommendations-3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="possible-improvement-3" class="section level5 hasAnchor paragraph-start" number="6.4.1.0.8">
<h5><span class="header-section-number">6.4.1.0.8</span> Possible improvement<a href="discussion.html#possible-improvement-3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="conclusion-3" class="section level5 hasAnchor paragraph-start" number="6.4.1.0.9">
<h5><span class="header-section-number">6.4.1.0.9</span> Conclusion<a href="discussion.html#conclusion-3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
</div>
</div>
<div id="summary-1" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Summary<a href="discussion.html#summary-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:hitl-error-handling"></span>
<img src="images/HITL_flowchart_error_handling.png" alt="Showing the information extraction process in a HITL application. We propose to include user action only after the information extraction. If a wrong page is selected, this can be fixed and extraction runs again. Wrong extracted values and handling unknown row identifiers should be done in one place." width="100%" />
<p class="caption">
Figure 6.1: Showing the information extraction process in a HITL application. We propose to include user action only after the information extraction. If a wrong page is selected, this can be fixed and extraction runs again. Wrong extracted values and handling unknown row identifiers should be done in one place.
</p>
</div>
<div id="regular-expression-approach" class="section level4 hasAnchor" number="6.5.0.1">
<h4><span class="header-section-number">6.5.0.1</span> Regular expression approach<a href="discussion.html#regular-expression-approach" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Some possible explanations for the different performance on the extracted texts are:</p>
<ul>
<li>a duplicated row name<a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a></li>
<li>numeric columns extracted separated from row names by extraction libraries</li>
<li>sums in the same row as the single values<a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a></li>
<li>with pdfium: missing white space<a href="#fn11" class="footnote-ref" id="fnref11"><sup>11</sup></a></li>
<li>with pdfium: random line breaks<a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a></li>
</ul>
<p>You can find some examples for incorrect extracted texts in section <a href="appendix-e---miscellaneous.html#regex-extraction-mistakes">12.8</a>.</p>
<p>The random line breaks result in some missed row names which is reflected by the bigger spread for NA precision with <em>pdfium</em> on the synthetic dataset (see Figure <a href="appendix-b---information-extraction-report.html#fig:table-extraction-regex-performance">9.1</a> B). Nevertheless, the NA precision for the majority of the cases is perfect. This is different with the real dataset. The NA precision is found to be at only 0.68.</p>
</div>
</div>
<div id="limitations-4" class="section level2 hasAnchor" number="6.6">
<h2><span class="header-section-number">6.6</span> Limitations<a href="discussion.html#limitations-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="table-extraction-1" class="section level3 hasAnchor" number="6.6.1">
<h3><span class="header-section-number">6.6.1</span> table extraction<a href="discussion.html#table-extraction-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>found mistakes in gold standard with the llm results; mistakes found by human double check</li>
<li>new lines / splitted lines</li>
<li>test synthetic hypothesis with pymupdf extract</li>
<li>2.4 % wrong gold standard creation</li>
<li>confidence intervals based on company (know which formats are tricky)</li>
</ul>
<div id="regex-baseline" class="section level4 hasAnchor" number="6.6.1.1">
<h4><span class="header-section-number">6.6.1.1</span> Regex baseline<a href="discussion.html#regex-baseline" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>synthetic tables have been generated with cell lines because this should have improved the performance of a table extraction approach (not conducted)- maybe this is confusing pdfium? Or the zoom level?</li>
</ul>
</div>
</div>
<div id="classification" class="section level3 hasAnchor" number="6.6.2">
<h3><span class="header-section-number">6.6.2</span> classification<a href="discussion.html#classification" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Qwen 2.5 hat zweiseitige GuV von IBB entdeckt und zur Anpassung der Ground Truth</li>
<li>predictor: n_big_tables (tf or llm relevant?)</li>
<li>Why it is important to have a good recall (or top n accuracy)</li>
<li>bad performance for Maverick with more models relied to FP8 model version? No.Â Same reults with FP16</li>
</ul>
<p>One could build an application that is not asking for a human intervention for reported confidences over 0.9 and then give the possibility to change the page to extract information from later on.</p>
<p>For humans: Easily identifiable if page has a big table with numbers but not so easy to spot the Aktiva / Passiva label.</p>
</div>
</div>
<div id="not-covered" class="section level2 hasAnchor" number="6.7">
<h2><span class="header-section-number">6.7</span> Not covered<a href="discussion.html#not-covered" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>OCR</li>
<li>fine-tuning</li>
<li>using something smaller (e.g.Â LSTMs) instead LLMs</li>
<li>building application, UX design (ref Ambacher 2024)</li>
<li>table extraction (either VLLMs (visual) or classic approaches &lt;â tried tabula but was not successful (because of missing visual traits)?) to prevent wrong text flow and have clear cell borders</li>
<li>classification oriented models with softmax</li>
</ul>
<p>in company document next / previous year more helpful than years further away?</p>
<div id="table-detection-extraction" class="section level3 hasAnchor" number="6.7.1">
<h3><span class="header-section-number">6.7.1</span> Table detection / extraction<a href="discussion.html#table-detection-extraction" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Can be used to narrow down set of possible pages</p>
<p>Can be used to focus only on the table content (measure if correct area was identified would be necessary)</p>
<p>Vision model as baseline</p>
</div>
</div>
<div id="outlook" class="section level2 hasAnchor" number="6.8">
<h2><span class="header-section-number">6.8</span> Outlook<a href="discussion.html#outlook" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>ensemble from multiple models or are errors systematic? (e.g.Â Wohnungsbaugenossenschaften splitting some rows in multiple and none is picked?)</li>
<li>check for halluzination vs wrong placed / repeated numbers</li>
<li>no perfect score even with synthetic data</li>
<li>flexible extraction (name something, find it, get it)</li>
<li>UI
<ul>
<li>checking results / correct errors; col by col; match entities</li>
<li>add unused entries (backlog? extra table?)</li>
<li>possibilities for rerun / flagging the source of issue</li>
</ul></li>
<li>ml health check / benchmark framework
<ul>
<li>test new models performance</li>
<li>check if new examples might be harmful (repredicting)</li>
</ul></li>
</ul>
<p>Ad-hocs for monitoring during the year</p>
<div id="vision-model" class="section level3 hasAnchor" number="6.8.1">
<h3><span class="header-section-number">6.8.1</span> Vision Model<a href="discussion.html#vision-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Yolo</p>
</div>
<div id="table-extraction-2" class="section level3 hasAnchor" number="6.8.2">
<h3><span class="header-section-number">6.8.2</span> Table extraction<a href="discussion.html#table-extraction-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>building a document extraction database document by document can improve performance taking advantage of same-company rag in-context learning</p>
<p>predictions for barrierefreie documents of WBM empty, one time because the pages showed <strong>GuV</strong>; also no predictions for Zoo 2024 <strong>Passiva</strong></p>
</div>
</div>
<div id="error-analysis-1" class="section level2 hasAnchor" number="6.9">
<h2><span class="header-section-number">6.9</span> Error analysis<a href="discussion.html#error-analysis-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>errors from wrong formatted numbers</li>
<li>errors from wrong / unclear entity mapping</li>
</ul>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-liExtractingFinancialData2023" class="csl-entry">
Li, H., Gao, H. (Harry)., Wu, C., &amp; Vasarhelyi, M. A. (2023). <em>Extracting <span>Financial Data</span> from <span>Unstructured Sources</span>: <span>Leveraging Large Language Models</span></em> ({{SSRN Scholarly Paper}} 4567607). Social Science Research Network. <a href="https://doi.org/10.2139/ssrn.4567607">https://doi.org/10.2139/ssrn.4567607</a>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="8">
<li id="fn8"><p>Potentially smaller fine tuned models can solve the task even more efficient.<a href="discussion.html#fnref8" class="footnote-back">â©ï¸</a></p></li>
<li id="fn9"><p>The row <em>Geleistete Anzahlungen</em> can be found in two parts of the table and the simple approach just matches the numbers to the first found entry.<a href="discussion.html#fnref9" class="footnote-back">â©ï¸</a></p></li>
<li id="fn10"><p>In this case the <a href="glossary.html#acronyms_regex">regex</a> takes the sum as the value for the previous year.<a href="discussion.html#fnref10" class="footnote-back">â©ï¸</a></p></li>
<li id="fn11"><p>This can form unexpected numeric patterns or prevent the row names to be recognized.<a href="discussion.html#fnref11" class="footnote-back">â©ï¸</a></p></li>
<li id="fn12"><p>The approach takes care of line breaks between words, but not within. This leads to unrecognized row names as well.<a href="discussion.html#fnref12" class="footnote-back">â©ï¸</a></p></li>
</ol>
</div>
<script>
// Lightbox functionality for displaying images in a modal view
document.addEventListener("DOMContentLoaded", function () {
  // Create a lightbox container
  const lightbox = document.createElement("div");
  lightbox.id = "lightbox";
  lightbox.style.position = "fixed";
  lightbox.style.top = "0";
  lightbox.style.left = "0";
  lightbox.style.width = "100%";
  lightbox.style.height = "100%";
  lightbox.style.backgroundColor = "rgba(0, 0, 0, 0.8)";
  lightbox.style.display = "none";
  lightbox.style.justifyContent = "center";
  lightbox.style.alignItems = "center";
  lightbox.style.zIndex = "1000";
  document.body.appendChild(lightbox);

  // Add an image element to the lightbox
  const lightboxImage = document.createElement("img");
  lightboxImage.id = "lightbox-image";
  // lightboxImage.style.maxWidth = "90%";
  // lightboxImage.style.maxHeight = "90%";
  lightbox.appendChild(lightboxImage);

  // Close lightbox on click
  lightbox.addEventListener("click", function () {
    lightbox.style.display = "none";
  });

  // Add onclick event to all images except the excluded one
  const images = document.querySelectorAll("img");
  images.forEach((img) => {
    if (img.src.includes("images/BHT_Logo_horizontal_Anthrazit_transparent.svg")) {
      return; // Skip the excluded image
    }
    img.style.cursor = "pointer"; // Change cursor to indicate clickability
    img.addEventListener("click", function () {
      lightboxImage.src = img.src; // Set the lightbox image source
      lightbox.style.display = "flex"; // Show the lightbox
    });
  });
});
</script>

<script>
// Image slider/carousel functionality for divs with class "image-slider"
document.addEventListener("DOMContentLoaded", function () {
  document.querySelectorAll('.image-slider').forEach(function (slider) {
    const images = slider.querySelectorAll('img');
    if (images.length < 2) return; // No need for slider if only one image

    // Hide all images except the first
    images.forEach((img, i) => img.style.display = i === 0 ? 'inline' : 'none');
    let current = 0;

    // Create navigation buttons
    const prevBtn = document.createElement('button');
    prevBtn.textContent = 'â¨ Prev';
    prevBtn.style.marginRight = '10px';
    const nextBtn = document.createElement('button');
    nextBtn.textContent = 'Next â©';
    nextBtn.style.marginLeft = '10px';

    // Create a caption container
    const captionContainer = document.createElement('div');
    captionContainer.style.fontStyle = 'italic';
    captionContainer.style.color = '#555';

    // Create a flex container for buttons and caption
    const controlsContainer = document.createElement('div');
    controlsContainer.style.display = 'flex';
    controlsContainer.style.justifyContent = 'space-between';
    controlsContainer.style.alignItems = 'center';
    controlsContainer.style.marginTop = '10px';
    controlsContainer.style.width = '100%';

    // Place buttons and caption in flex container
    controlsContainer.appendChild(prevBtn);
    controlsContainer.appendChild(captionContainer);
    controlsContainer.appendChild(nextBtn);

    // Function to update the caption
    const updateCaption = () => {
      const caption = images[current].nextElementSibling;
      if (caption && caption.classList.contains('image-caption')) {
        captionContainer.textContent = caption.textContent;
      } else {
        captionContainer.textContent = ''; // Clear caption if none exists
      }
    };

    // Function to show the next image
    const showNextImage = () => {
      images[current].style.display = 'none';
      current = (current + 1) % images.length;
      images[current].style.display = 'inline';
      updateCaption();
    };

    // Function to show the previous image
    const showPrevImage = () => {
      images[current].style.display = 'none';
      current = (current - 1 + images.length) % images.length;
      images[current].style.display = 'inline';
      updateCaption();
    };

    // Button click handlers
    prevBtn.onclick = function () {
      stopAutoSlide();
      showPrevImage();
    };
    nextBtn.onclick = function () {
      stopAutoSlide();
      showNextImage();
    };

    // Insert controls container below images
    slider.appendChild(controlsContainer);

    // Automatic sliding
    let autoSlideInterval = setInterval(showNextImage, 2000);

    // Stop automatic sliding on user interaction
    const stopAutoSlide = () => {
      clearInterval(autoSlideInterval);
    };

    // Stop auto-slide when the user interacts with the slider
    prevBtn.addEventListener('click', stopAutoSlide);
    nextBtn.addEventListener('click', stopAutoSlide);
    images.forEach((img) => {
      img.addEventListener('click', stopAutoSlide);
    });

    // Initialize the caption
    updateCaption();
  });
});
</script>

<script>
// Dropdown filter functionality for images with lightbox
document.addEventListener("DOMContentLoaded", function () {
  document.querySelectorAll('.image-selector').forEach(function (selector) {
    const images = selector.querySelectorAll('img');
    if (images.length === 0) return;

    // Create a dropdown filter container
    const filterContainer = document.createElement('div');
    filterContainer.classList.add('filter-container');

    const dropdown = document.createElement('select');
    dropdown.multiple = true;
    dropdown.classList.add('filter-dropdown');

    // Add options to the dropdown
    const uniqueCategories = [];
    images.forEach((img) => {
      const caption = img.nextElementSibling;
      if (caption && caption.classList.contains('image-caption')) {
        const category = caption.textContent.trim();
        if (!uniqueCategories.includes(category)) uniqueCategories.push(category);
      }
    });

    uniqueCategories.forEach((category) => {
      const option = document.createElement('option');
      option.value = category;
      option.textContent = category;
      // Do NOT set option.selected here!
      dropdown.appendChild(option);
    });

    filterContainer.appendChild(dropdown);
    selector.appendChild(filterContainer);

    // Add a grid container for filtered images
    const gridContainer = document.createElement('div');
    gridContainer.classList.add('image-grid');
    selector.appendChild(gridContainer);

    // Choices.js initialization
    const choices = new Choices(dropdown, {
      removeItemButton: true,
      shouldSort: false,
      searchEnabled: false,
      placeholder: true,
      placeholderValue: 'Filter categories',
    });

    // Clear any existing selection first, then set initial selection
    choices.removeActiveItems(); // This clears existing selections
    choices.setChoiceByValue(uniqueCategories[0]); // This sets only the first category

    // Filtering function
    const filterImages = () => {
      const selectedCategories = Array.from(dropdown.selectedOptions).map(opt => opt.value);
      gridContainer.innerHTML = '';
      let shownWrappers = [];
      images.forEach((img) => {
        const caption = img.nextElementSibling;
        if (caption && caption.classList.contains('image-caption')) {
          const category = caption.textContent.trim();
          if (selectedCategories.includes(category)) {
            const imgWrapper = document.createElement('div');
            imgWrapper.classList.add('image-wrapper');
            const imgClone = img.cloneNode(true);
            imgClone.style.cursor = 'pointer';
            imgClone.addEventListener('click', function () {
              const lightboxImage = document.querySelector("#lightbox img");
              const lightbox = document.querySelector("#lightbox");
              lightboxImage.src = imgClone.src;
              lightbox.style.display = 'flex';
            });
            imgWrapper.appendChild(imgClone);
            const captionClone = caption.cloneNode(true);
            imgWrapper.appendChild(captionClone);
            gridContainer.appendChild(imgWrapper);
            shownWrappers.push(imgWrapper);
          }
        }
      });
      // If only one image is shown, make it span both columns
      if (shownWrappers.length === 1) {
        shownWrappers[0].style.gridColumn = "span 2";
      }
    };

    // Listen for changes from Choices.js
    dropdown.addEventListener('change', filterImages);

    // Initial grid (only first category shown)
    filterImages();
  });
});
</script>
<script>
document.addEventListener("DOMContentLoaded", function () {
  var codes = document.querySelectorAll('.hideme');
  var code, i, d, s, p;
  for (i = 0; i < codes.length; i++) {
    code = codes[i];
    p = code.parentNode;
    d = document.createElement('details');
    s = document.createElement('summary');
    s.innerText = 'Details';
    // <details><summary>Details</summary></details>
    d.appendChild(s);
    // move the code into <details>
    p.replaceChild(d, code);
    d.appendChild(code);
  }
});
</script>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["_main.pdf"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
