<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Results | Extraction of tabular data from annual reports with LLMs</title>
  <meta name="description" content="5 Results | Extraction of tabular data from annual reports with LLMs" />
  <meta name="generator" content="bookdown 0.43.2 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Results | Extraction of tabular data from annual reports with LLMs" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Results | Extraction of tabular data from annual reports with LLMs" />
  
  
  

<meta name="author" content="Simon SchÃ¤fer" />


<meta name="date" content="2025-09-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="implementation.html"/>
<link rel="next" href="discussion.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/codefolding-lua-1.1/codefolding-lua.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.33/datatables.js"></script>
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="libs/dt-ext-rowgroup-1.13.6/css/rowGroup.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-rowgroup-1.13.6/js/dataTables.rowGroup.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glider-js@1/glider.min.css">
<script src="https://cdn.jsdelivr.net/npm/glider-js@1/glider.min.js"></script> -->


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="report_misc/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./index.html"><img src="images/BHT_Logo_horizontal_Anthrazit_transparent.svg"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#motivation"><i class="fa fa-check"></i><b>1.1</b> Motivation</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#objectives"><i class="fa fa-check"></i><b>1.2</b> Objectives</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#introduction-methodology"><i class="fa fa-check"></i><b>1.3</b> Methodology</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#thesis-outline"><i class="fa fa-check"></i><b>1.4</b> Thesis Outline</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#summary"><i class="fa fa-check"></i><b>1.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="literature-review.html"><a href="literature-review.html"><i class="fa fa-check"></i><b>2</b> Literature review</a>
<ul>
<li class="chapter" data-level="2.1" data-path="literature-review.html"><a href="literature-review.html#computer-science"><i class="fa fa-check"></i><b>2.1</b> Computer science</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="literature-review.html"><a href="literature-review.html#sparse-retrieval"><i class="fa fa-check"></i><b>2.1.1</b> Information retrieval</a></li>
<li class="chapter" data-level="2.1.2" data-path="literature-review.html"><a href="literature-review.html#nlp"><i class="fa fa-check"></i><b>2.1.2</b> Natural language processing</a></li>
<li class="chapter" data-level="2.1.3" data-path="literature-review.html"><a href="literature-review.html#text-processing"><i class="fa fa-check"></i><b>2.1.3</b> Text processing</a>
<ul>
<li class="chapter" data-level="2.1.3.1" data-path="literature-review.html"><a href="literature-review.html#document-layout-analysis"><i class="fa fa-check"></i><b>2.1.3.1</b> Document Layout Analysis</a></li>
</ul></li>
<li class="chapter" data-level="2.1.4" data-path="literature-review.html"><a href="literature-review.html#llm-theory"><i class="fa fa-check"></i><b>2.1.4</b> Large Language Models</a>
<ul>
<li class="chapter" data-level="2.1.4.1" data-path="literature-review.html"><a href="literature-review.html#transformers"><i class="fa fa-check"></i><b>2.1.4.1</b> Transformers</a></li>
<li class="chapter" data-level="2.1.4.2" data-path="literature-review.html"><a href="literature-review.html#attention"><i class="fa fa-check"></i><b>2.1.4.2</b> Attention</a></li>
<li class="chapter" data-level="2.1.4.3" data-path="literature-review.html"><a href="literature-review.html#encoder"><i class="fa fa-check"></i><b>2.1.4.3</b> Encoder</a></li>
<li class="chapter" data-level="2.1.4.4" data-path="literature-review.html"><a href="literature-review.html#decoder"><i class="fa fa-check"></i><b>2.1.4.4</b> Decoder</a></li>
<li class="chapter" data-level="2.1.4.5" data-path="literature-review.html"><a href="literature-review.html#gpt-generative-pretrained-transformers"><i class="fa fa-check"></i><b>2.1.4.5</b> GPT (Generative Pretrained Transformers)</a></li>
<li class="chapter" data-level="2.1.4.6" data-path="literature-review.html"><a href="literature-review.html#mixture-of-experts"><i class="fa fa-check"></i><b>2.1.4.6</b> Mixture of Experts</a></li>
<li class="chapter" data-level="2.1.4.7" data-path="literature-review.html"><a href="literature-review.html#confidence-scores"><i class="fa fa-check"></i><b>2.1.4.7</b> Confidence scores</a></li>
</ul></li>
<li class="chapter" data-level="2.1.5" data-path="literature-review.html"><a href="literature-review.html#llm-methods"><i class="fa fa-check"></i><b>2.1.5</b> Generation enhancing methods with LLMs</a>
<ul>
<li class="chapter" data-level="2.1.5.1" data-path="literature-review.html"><a href="literature-review.html#in-context-learning"><i class="fa fa-check"></i><b>2.1.5.1</b> In-context Learning</a></li>
<li class="chapter" data-level="2.1.5.2" data-path="literature-review.html"><a href="literature-review.html#rag"><i class="fa fa-check"></i><b>2.1.5.2</b> RAG</a></li>
<li class="chapter" data-level="2.1.5.3" data-path="literature-review.html"><a href="literature-review.html#guided-and-restricted-decoding"><i class="fa fa-check"></i><b>2.1.5.3</b> Guided and restricted decoding</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="literature-review.html"><a href="literature-review.html#other-concepts"><i class="fa fa-check"></i><b>2.2</b> General machine learning and statistics</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="literature-review.html"><a href="literature-review.html#sample-distribution-visualization-methods"><i class="fa fa-check"></i><b>2.2.1</b> Sample distribution visualization methods</a></li>
<li class="chapter" data-level="2.2.2" data-path="literature-review.html"><a href="literature-review.html#tree-based-machine-learning-algorithms"><i class="fa fa-check"></i><b>2.2.2</b> Tree based machine learning algorithms</a></li>
<li class="chapter" data-level="2.2.3" data-path="literature-review.html"><a href="literature-review.html#shap"><i class="fa fa-check"></i><b>2.2.3</b> Model agnostic explanation models</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="literature-review.html"><a href="literature-review.html#summary-1"><i class="fa fa-check"></i><b>2.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="methodology.html"><a href="methodology.html"><i class="fa fa-check"></i><b>3</b> Methodology</a>
<ul>
<li class="chapter" data-level="3.1" data-path="methodology.html"><a href="methodology.html#problem-definition"><i class="fa fa-check"></i><b>3.1</b> Problem Definition</a></li>
<li class="chapter" data-level="3.2" data-path="methodology.html"><a href="methodology.html#research-design-philosophy"><i class="fa fa-check"></i><b>3.2</b> Research Design &amp; Philosophy</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="methodology.html"><a href="methodology.html#research-questions"><i class="fa fa-check"></i><b>3.2.1</b> Research questions</a></li>
<li class="chapter" data-level="3.2.2" data-path="methodology.html"><a href="methodology.html#hypotheses"><i class="fa fa-check"></i><b>3.2.2</b> Hypotheses</a></li>
<li class="chapter" data-level="3.2.3" data-path="methodology.html"><a href="methodology.html#evaluation-research"><i class="fa fa-check"></i><b>3.2.3</b> Evaluation research</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="methodology.html"><a href="methodology.html#evaluation-strategy"><i class="fa fa-check"></i><b>3.3</b> Evaluation Strategy</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="methodology.html"><a href="methodology.html#evaluation-framework-and-metrics"><i class="fa fa-check"></i><b>3.3.1</b> Evaluation framework and metrics</a>
<ul>
<li class="chapter" data-level="3.3.1.1" data-path="methodology.html"><a href="methodology.html#page-identification"><i class="fa fa-check"></i><b>3.3.1.1</b> Page identification</a></li>
<li class="chapter" data-level="3.3.1.2" data-path="methodology.html"><a href="methodology.html#information-extraction"><i class="fa fa-check"></i><b>3.3.1.2</b> Information extraction</a></li>
<li class="chapter" data-level="3.3.1.3" data-path="methodology.html"><a href="methodology.html#error-rate-guidance"><i class="fa fa-check"></i><b>3.3.1.3</b> Error rate guidance</a></li>
</ul></li>
<li class="chapter" data-level="3.3.2" data-path="methodology.html"><a href="methodology.html#benchmarking"><i class="fa fa-check"></i><b>3.3.2</b> Benchmarking</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="methodology.html"><a href="methodology.html#data-strategy"><i class="fa fa-check"></i><b>3.4</b> Data Strategy</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="methodology.html"><a href="methodology.html#sampling-methodology"><i class="fa fa-check"></i><b>3.4.1</b> Sampling methodology</a></li>
<li class="chapter" data-level="3.4.2" data-path="methodology.html"><a href="methodology.html#ground-truth-creation-process"><i class="fa fa-check"></i><b>3.4.2</b> Ground truth creation process</a></li>
<li class="chapter" data-level="3.4.3" data-path="methodology.html"><a href="methodology.html#preprocessing"><i class="fa fa-check"></i><b>3.4.3</b> Preprocessing</a></li>
<li class="chapter" data-level="3.4.4" data-path="methodology.html"><a href="methodology.html#data-splitting"><i class="fa fa-check"></i><b>3.4.4</b> Data splitting</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="methodology.html"><a href="methodology.html#experimental-framework"><i class="fa fa-check"></i><b>3.5</b> Experimental Framework</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="methodology.html"><a href="methodology.html#llm-overview"><i class="fa fa-check"></i><b>3.5.1</b> LLM overview</a></li>
<li class="chapter" data-level="3.5.2" data-path="methodology.html"><a href="methodology.html#approaches"><i class="fa fa-check"></i><b>3.5.2</b> Approaches</a>
<ul>
<li class="chapter" data-level="3.5.2.1" data-path="methodology.html"><a href="methodology.html#page-identification-2"><i class="fa fa-check"></i><b>3.5.2.1</b> Page identification</a></li>
<li class="chapter" data-level="3.5.2.2" data-path="methodology.html"><a href="methodology.html#information-extraction-2"><i class="fa fa-check"></i><b>3.5.2.2</b> Information extraction</a></li>
</ul></li>
<li class="chapter" data-level="3.5.3" data-path="methodology.html"><a href="methodology.html#error-analysis-methodology"><i class="fa fa-check"></i><b>3.5.3</b> Error analysis</a>
<ul>
<li class="chapter" data-level="3.5.3.1" data-path="methodology.html"><a href="methodology.html#page-identificaion"><i class="fa fa-check"></i><b>3.5.3.1</b> Page identificaion</a></li>
<li class="chapter" data-level="3.5.3.2" data-path="methodology.html"><a href="methodology.html#inforamtion-extraction"><i class="fa fa-check"></i><b>3.5.3.2</b> Inforamtion extraction</a></li>
</ul></li>
<li class="chapter" data-level="3.5.4" data-path="methodology.html"><a href="methodology.html#evaluation-methods"><i class="fa fa-check"></i><b>3.5.4</b> Evaluation methods</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="implementation.html"><a href="implementation.html"><i class="fa fa-check"></i><b>4</b> Implementation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="implementation.html"><a href="implementation.html#environments"><i class="fa fa-check"></i><b>4.1</b> Environments</a></li>
<li class="chapter" data-level="4.2" data-path="implementation.html"><a href="implementation.html#software-packages"><i class="fa fa-check"></i><b>4.2</b> Software Packages</a></li>
<li class="chapter" data-level="4.3" data-path="implementation.html"><a href="implementation.html#ground-truth-datasets"><i class="fa fa-check"></i><b>4.3</b> Ground truth datasets</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="implementation.html"><a href="implementation.html#ground-truth-creation"><i class="fa fa-check"></i><b>4.3.1</b> Ground truth creation</a></li>
<li class="chapter" data-level="4.3.2" data-path="implementation.html"><a href="implementation.html#ground-truth-database-composition"><i class="fa fa-check"></i><b>4.3.2</b> Ground truth database composition</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="implementation.html"><a href="implementation.html#data-processing"><i class="fa fa-check"></i><b>4.4</b> Data processing</a></li>
<li class="chapter" data-level="4.5" data-path="implementation.html"><a href="implementation.html#evaluation-and-reporting"><i class="fa fa-check"></i><b>4.5</b> Evaluation and Reporting</a></li>
<li class="chapter" data-level="4.6" data-path="implementation.html"><a href="implementation.html#speedup-with-vllm-and-batching"><i class="fa fa-check"></i><b>4.6</b> Speedup with vLLM and batching</a></li>
<li class="chapter" data-level="4.7" data-path="implementation.html"><a href="implementation.html#gpu-benchmark"><i class="fa fa-check"></i><b>4.7</b> Hardware normalization</a></li>
<li class="chapter" data-level="4.8" data-path="implementation.html"><a href="implementation.html#summary-2"><i class="fa fa-check"></i><b>4.8</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#page-identification-introduction"><i class="fa fa-check"></i><b>5.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#approaches-1"><i class="fa fa-check"></i><b>5.1.1</b> Approaches</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#comparison-page-identification"><i class="fa fa-check"></i><b>5.1.2</b> Comparison</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#table-extraction-introduction"><i class="fa fa-check"></i><b>5.2</b> Information extraction</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#approaches-2"><i class="fa fa-check"></i><b>5.2.1</b> Approaches</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#comparing-table-extraction-methods"><i class="fa fa-check"></i><b>5.2.2</b> Comparison</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#error-rate-guidance-results"><i class="fa fa-check"></i><b>5.3</b> Error rate guidance</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#page-identification-error-rate-results"><i class="fa fa-check"></i><b>5.3.1</b> Page identification</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#information-extraction-error-rate-results"><i class="fa fa-check"></i><b>5.3.2</b> Information extraction</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#summary-results"><i class="fa fa-check"></i><b>5.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>6</b> Discussion</a>
<ul>
<li class="chapter" data-level="6.1" data-path="discussion.html"><a href="discussion.html#answer-research-questions"><i class="fa fa-check"></i><b>6.1</b> Research questions</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="discussion.html"><a href="discussion.html#page-identification-5"><i class="fa fa-check"></i><b>6.1.1</b> Page identification</a></li>
<li class="chapter" data-level="6.1.2" data-path="discussion.html"><a href="discussion.html#information-extraction-4"><i class="fa fa-check"></i><b>6.1.2</b> Information extraction</a>
<ul>
<li class="chapter" data-level="6.1.2.1" data-path="discussion.html"><a href="discussion.html#extraction-performace-hypotheses-evaluation"><i class="fa fa-check"></i><b>6.1.2.1</b> Core capabilities</a></li>
<li class="chapter" data-level="6.1.2.2" data-path="discussion.html"><a href="discussion.html#extraction-performace-predictor-hypotheses-evaluation"><i class="fa fa-check"></i><b>6.1.2.2</b> Feature effects</a></li>
<li class="chapter" data-level="6.1.2.3" data-path="discussion.html"><a href="discussion.html#error-rate-guidance-1"><i class="fa fa-check"></i><b>6.1.2.3</b> Error rate guidance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="discussion.html"><a href="discussion.html#error-analysis"><i class="fa fa-check"></i><b>6.2</b> Error analysis</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="discussion.html"><a href="discussion.html#page-identification-6"><i class="fa fa-check"></i><b>6.2.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="6.2.1.1" data-path="discussion.html"><a href="discussion.html#llm-approach"><i class="fa fa-check"></i><b>6.2.1.1</b> LLM approach</a></li>
<li class="chapter" data-level="6.2.1.2" data-path="discussion.html"><a href="discussion.html#error-analysis-tf"><i class="fa fa-check"></i><b>6.2.1.2</b> Term frequency approach</a></li>
</ul></li>
<li class="chapter" data-level="6.2.2" data-path="discussion.html"><a href="discussion.html#information-extraction-5"><i class="fa fa-check"></i><b>6.2.2</b> Information extraction</a>
<ul>
<li class="chapter" data-level="6.2.2.1" data-path="discussion.html"><a href="discussion.html#real-tables-3"><i class="fa fa-check"></i><b>6.2.2.1</b> Real tables</a></li>
<li class="chapter" data-level="6.2.2.2" data-path="discussion.html"><a href="discussion.html#same-company-evaluation"><i class="fa fa-check"></i><b>6.2.2.2</b> Company specific results</a></li>
<li class="chapter" data-level="6.2.2.3" data-path="discussion.html"><a href="discussion.html#synthetic-tables-3"><i class="fa fa-check"></i><b>6.2.2.3</b> Synthetic tables</a></li>
<li class="chapter" data-level="6.2.2.4" data-path="discussion.html"><a href="discussion.html#numeric-transformation-discussion"><i class="fa fa-check"></i><b>6.2.2.4</b> Numeric transformations</a></li>
<li class="chapter" data-level="6.2.2.5" data-path="discussion.html"><a href="discussion.html#regex-synth-backend-discussion"><i class="fa fa-check"></i><b>6.2.2.5</b> Regular expression approach</a></li>
<li class="chapter" data-level="6.2.2.6" data-path="discussion.html"><a href="discussion.html#openai-discussion"><i class="fa fa-check"></i><b>6.2.2.6</b> OpenAI models</a></li>
</ul></li>
<li class="chapter" data-level="6.2.3" data-path="discussion.html"><a href="discussion.html#unconsistent-label-matching"><i class="fa fa-check"></i><b>6.2.3</b> Ground truth creation</a></li>
<li class="chapter" data-level="6.2.4" data-path="discussion.html"><a href="discussion.html#context-rot"><i class="fa fa-check"></i><b>6.2.4</b> Context rot</a>
<ul>
<li class="chapter" data-level="6.2.4.1" data-path="discussion.html"><a href="discussion.html#page-identification-7"><i class="fa fa-check"></i><b>6.2.4.1</b> Page identification</a></li>
<li class="chapter" data-level="6.2.4.2" data-path="discussion.html"><a href="discussion.html#information-extraction-6"><i class="fa fa-check"></i><b>6.2.4.2</b> Information extraction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="discussion.html"><a href="discussion.html#general-performance"><i class="fa fa-check"></i><b>6.3</b> Practical Implications and Limitations</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="discussion.html"><a href="discussion.html#page-identification-8"><i class="fa fa-check"></i><b>6.3.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="6.3.1.1" data-path="discussion.html"><a href="discussion.html#transfering-the-system-to-new-problems"><i class="fa fa-check"></i><b>6.3.1.1</b> Transfering the system to new problems</a></li>
<li class="chapter" data-level="6.3.1.2" data-path="discussion.html"><a href="discussion.html#limitations-of-transfer"><i class="fa fa-check"></i><b>6.3.1.2</b> Limitations of transfer</a></li>
<li class="chapter" data-level="6.3.1.3" data-path="discussion.html"><a href="discussion.html#toc-discussion"><i class="fa fa-check"></i><b>6.3.1.3</b> Possible improvement</a></li>
<li class="chapter" data-level="6.3.1.4" data-path="discussion.html"><a href="discussion.html#conclusion-4"><i class="fa fa-check"></i><b>6.3.1.4</b> Conclusion</a></li>
<li class="chapter" data-level="6.3.1.5" data-path="discussion.html"><a href="discussion.html#efficency-discussion"><i class="fa fa-check"></i><b>6.3.1.5</b> Energy usage and runtime</a></li>
</ul></li>
<li class="chapter" data-level="6.3.2" data-path="discussion.html"><a href="discussion.html#alternative-input-formats-extraction"><i class="fa fa-check"></i><b>6.3.2</b> Information extraction</a></li>
<li class="chapter" data-level="6.3.3" data-path="discussion.html"><a href="discussion.html#error-rate-guidance-2"><i class="fa fa-check"></i><b>6.3.3</b> Error rate guidance</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="discussion.html"><a href="discussion.html#not-covered"><i class="fa fa-check"></i><b>6.4</b> Not covered</a></li>
<li class="chapter" data-level="6.5" data-path="discussion.html"><a href="discussion.html#outlook-implementation"><i class="fa fa-check"></i><b>6.5</b> Outlook</a></li>
<li class="chapter" data-level="6.6" data-path="discussion.html"><a href="discussion.html#ethics"><i class="fa fa-check"></i><b>6.6</b> Ethical &amp; Practical Considerations</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="discussion.html"><a href="discussion.html#pdf-extraction-limitations"><i class="fa fa-check"></i><b>6.6.1</b> PDF extraction limitations</a></li>
<li class="chapter" data-level="6.6.2" data-path="discussion.html"><a href="discussion.html#computational-constraints"><i class="fa fa-check"></i><b>6.6.2</b> Computational constraints</a></li>
<li class="chapter" data-level="6.6.3" data-path="discussion.html"><a href="discussion.html#generalizability-scope"><i class="fa fa-check"></i><b>6.6.3</b> Generalizability scope</a></li>
<li class="chapter" data-level="6.6.4" data-path="discussion.html"><a href="discussion.html#ethical-considerations"><i class="fa fa-check"></i><b>6.6.4</b> Ethical considerations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="discussion.html"><a href="discussion.html#conclusion"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i>Glossary</a></li>
<li class="chapter" data-level="8" data-path="page-identification-report.html"><a href="page-identification-report.html"><i class="fa fa-check"></i><b>8</b> Appendix A - Page identification report</a>
<ul>
<li class="chapter" data-level="8.1" data-path="page-identification-report.html"><a href="page-identification-report.html#regex-page-identification"><i class="fa fa-check"></i><b>8.1</b> Baseline: Regex</a></li>
<li class="chapter" data-level="8.2" data-path="page-identification-report.html"><a href="page-identification-report.html#toc-understanding"><i class="fa fa-check"></i><b>8.2</b> Table of Contents understanding</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="page-identification-report.html"><a href="page-identification-report.html#text-based-toc-understanding"><i class="fa fa-check"></i><b>8.2.1</b> Details for the approaches</a></li>
<li class="chapter" data-level="8.2.2" data-path="page-identification-report.html"><a href="page-identification-report.html#results-5"><i class="fa fa-check"></i><b>8.2.2</b> Results</a>
<ul>
<li class="chapter" data-level="8.2.2.1" data-path="page-identification-report.html"><a href="page-identification-report.html#comparison-of-the-different-approaches"><i class="fa fa-check"></i><b>8.2.2.1</b> Comparison of the different approaches</a></li>
</ul></li>
<li class="chapter" data-level="8.2.3" data-path="page-identification-report.html"><a href="page-identification-report.html#machine-readable-toc-approach-specific-results"><i class="fa fa-check"></i><b>8.2.3</b> Machine readable TOC approach specific results</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="page-identification-report.html"><a href="page-identification-report.html#llm-page-identification"><i class="fa fa-check"></i><b>8.3</b> Classification with LLMs</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="page-identification-report.html"><a href="page-identification-report.html#binary-classification-1"><i class="fa fa-check"></i><b>8.3.1</b> Binary classification</a></li>
<li class="chapter" data-level="8.3.2" data-path="page-identification-report.html"><a href="page-identification-report.html#multi-class-classification-1"><i class="fa fa-check"></i><b>8.3.2</b> Multi-class classification</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="page-identification-report.html"><a href="page-identification-report.html#tf-classifier"><i class="fa fa-check"></i><b>8.4</b> Term frequency based classifier</a></li>
<li class="chapter" data-level="8.5" data-path="page-identification-report.html"><a href="page-identification-report.html#summary-4"><i class="fa fa-check"></i><b>8.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="information-extraction-report.html"><a href="information-extraction-report.html"><i class="fa fa-check"></i><b>9</b> Appendix B - Information extraction report</a>
<ul>
<li class="chapter" data-level="9.1" data-path="information-extraction-report.html"><a href="information-extraction-report.html#baseline-regex"><i class="fa fa-check"></i><b>9.1</b> Baseline: Regex</a></li>
<li class="chapter" data-level="9.2" data-path="information-extraction-report.html"><a href="information-extraction-report.html#extraction-with-llms-real-tables"><i class="fa fa-check"></i><b>9.2</b> Extraction with LLMs</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="information-extraction-report.html"><a href="information-extraction-report.html#real-table-extraction-results"><i class="fa fa-check"></i><b>9.2.1</b> Real tables</a></li>
<li class="chapter" data-level="9.2.2" data-path="information-extraction-report.html"><a href="information-extraction-report.html#synthetic-table-extraction"><i class="fa fa-check"></i><b>9.2.2</b> Synthetic tables</a></li>
<li class="chapter" data-level="9.2.3" data-path="information-extraction-report.html"><a href="information-extraction-report.html#real-table-extraction-synth-context"><i class="fa fa-check"></i><b>9.2.3</b> Hybrid approach</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="information-extraction-report.html"><a href="information-extraction-report.html#summary-5"><i class="fa fa-check"></i><b>9.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="error-guidance-report.html"><a href="error-guidance-report.html"><i class="fa fa-check"></i><b>10</b> Appendix C - Error rate guidance report</a>
<ul>
<li class="chapter" data-level="10.1" data-path="error-guidance-report.html"><a href="error-guidance-report.html#page-identification-9"><i class="fa fa-check"></i><b>10.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="error-guidance-report.html"><a href="error-guidance-report.html#binary-classification-2"><i class="fa fa-check"></i><b>10.1.1</b> Binary classification</a></li>
<li class="chapter" data-level="10.1.2" data-path="error-guidance-report.html"><a href="error-guidance-report.html#multi-class-classification-2"><i class="fa fa-check"></i><b>10.1.2</b> Multi-class classification</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="error-guidance-report.html"><a href="error-guidance-report.html#extraction-with-llms"><i class="fa fa-check"></i><b>10.2</b> Extraction with LLMs</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="error-guidance-report.html"><a href="error-guidance-report.html#real-tables-4"><i class="fa fa-check"></i><b>10.2.1</b> Real tables</a></li>
<li class="chapter" data-level="10.2.2" data-path="error-guidance-report.html"><a href="error-guidance-report.html#synthetic-tables-4"><i class="fa fa-check"></i><b>10.2.2</b> Synthetic tables</a></li>
<li class="chapter" data-level="10.2.3" data-path="error-guidance-report.html"><a href="error-guidance-report.html#hybrid-respect-units"><i class="fa fa-check"></i><b>10.2.3</b> Hybrid approach</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="feature-effect-analysis.html"><a href="feature-effect-analysis.html"><i class="fa fa-check"></i><b>11</b> Appendix D - Feature effect analysis</a>
<ul>
<li class="chapter" data-level="11.1" data-path="feature-effect-analysis.html"><a href="feature-effect-analysis.html#regular-expressions-4"><i class="fa fa-check"></i><b>11.1</b> Regular expressions</a></li>
<li class="chapter" data-level="11.2" data-path="feature-effect-analysis.html"><a href="feature-effect-analysis.html#real-tables-5"><i class="fa fa-check"></i><b>11.2</b> Real tables</a></li>
<li class="chapter" data-level="11.3" data-path="feature-effect-analysis.html"><a href="feature-effect-analysis.html#synthetic-tables-5"><i class="fa fa-check"></i><b>11.3</b> Synthetic tables</a></li>
<li class="chapter" data-level="11.4" data-path="feature-effect-analysis.html"><a href="feature-effect-analysis.html#hybrid-approach-3"><i class="fa fa-check"></i><b>11.4</b> Hybrid approach</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html"><i class="fa fa-check"></i><b>12</b> Appendix E - Miscellaneous</a>
<ul>
<li class="chapter" data-level="12.1" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#hitl"><i class="fa fa-check"></i><b>12.1</b> Human in the loop application</a></li>
<li class="chapter" data-level="12.2" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#local-machine"><i class="fa fa-check"></i><b>12.2</b> Local machine</a></li>
<li class="chapter" data-level="12.3" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#benchmarks"><i class="fa fa-check"></i><b>12.3</b> Benchmarks</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#text-extraction-benchmark"><i class="fa fa-check"></i><b>12.3.1</b> Text extraction</a></li>
<li class="chapter" data-level="12.3.2" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#table-detection-benchmark"><i class="fa fa-check"></i><b>12.3.2</b> Table detection</a>
<ul>
<li class="chapter" data-level="12.3.2.1" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#old-classification-with-llm"><i class="fa fa-check"></i><b>12.3.2.1</b> old classification with llm</a></li>
<li class="chapter" data-level="12.3.2.2" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#yolo"><i class="fa fa-check"></i><b>12.3.2.2</b> yolo benchmark and table transformer</a></li>
</ul></li>
<li class="chapter" data-level="12.3.3" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#vllm-batch-speed"><i class="fa fa-check"></i><b>12.3.3</b> Large language model process speed</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#prompts"><i class="fa fa-check"></i><b>12.4</b> Prompts</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#toc-understanding-promts"><i class="fa fa-check"></i><b>12.4.1</b> TOC understanding</a></li>
<li class="chapter" data-level="12.4.2" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#classification-prompts"><i class="fa fa-check"></i><b>12.4.2</b> Classification</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#regex-page-identification-code"><i class="fa fa-check"></i><b>12.5</b> Regular expressions</a></li>
<li class="chapter" data-level="12.6" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#annual-comprehensive-financial-report-balance-sheet"><i class="fa fa-check"></i><b>12.6</b> Annual Comprehensive Financial Report Balance Sheet</a></li>
<li class="chapter" data-level="12.7" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#regex-extraction-mistakes"><i class="fa fa-check"></i><b>12.7</b> Table extraction with regular expressions</a></li>
<li class="chapter" data-level="12.8" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#tf-missclassifications"><i class="fa fa-check"></i><b>12.8</b> Term frequency missclassifications</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>13</b> Tables</a>
<ul>
<li class="chapter" data-level="13.1" data-path="tables.html"><a href="tables.html#classification"><i class="fa fa-check"></i><b>13.1</b> Classification</a></li>
<li class="chapter" data-level="13.2" data-path="tables.html"><a href="tables.html#table-extraction"><i class="fa fa-check"></i><b>13.2</b> Table extraction</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="tables.html"><a href="tables.html#hybrid-approach-4"><i class="fa fa-check"></i><b>13.2.1</b> Hybrid approach</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="figure-collection.html"><a href="figure-collection.html"><i class="fa fa-check"></i><b>14</b> Figures</a>
<ul>
<li class="chapter" data-level="14.1" data-path="figure-collection.html"><a href="figure-collection.html#page-identification-10"><i class="fa fa-check"></i><b>14.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="figure-collection.html"><a href="figure-collection.html#regex-baseline"><i class="fa fa-check"></i><b>14.1.1</b> Regex baseline</a></li>
<li class="chapter" data-level="14.1.2" data-path="figure-collection.html"><a href="figure-collection.html#toc-understanding-1"><i class="fa fa-check"></i><b>14.1.2</b> TOC understanding</a></li>
<li class="chapter" data-level="14.1.3" data-path="figure-collection.html"><a href="figure-collection.html#classification-1"><i class="fa fa-check"></i><b>14.1.3</b> Classification</a>
<ul>
<li class="chapter" data-level="14.1.3.1" data-path="figure-collection.html"><a href="figure-collection.html#binary"><i class="fa fa-check"></i><b>14.1.3.1</b> Binary</a></li>
<li class="chapter" data-level="14.1.3.2" data-path="figure-collection.html"><a href="figure-collection.html#multi-class-classification-3"><i class="fa fa-check"></i><b>14.1.3.2</b> Multi-class classification</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="figure-collection.html"><a href="figure-collection.html#table-extraction-1"><i class="fa fa-check"></i><b>14.2</b> Table extraction</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="figure-collection.html"><a href="figure-collection.html#regex-approach"><i class="fa fa-check"></i><b>14.2.1</b> Regex approach</a>
<ul>
<li class="chapter" data-level="14.2.1.1" data-path="figure-collection.html"><a href="figure-collection.html#real-tables-6"><i class="fa fa-check"></i><b>14.2.1.1</b> Real tables</a></li>
<li class="chapter" data-level="14.2.1.2" data-path="figure-collection.html"><a href="figure-collection.html#synthetic-tables-6"><i class="fa fa-check"></i><b>14.2.1.2</b> Synthetic tables</a></li>
</ul></li>
<li class="chapter" data-level="14.2.2" data-path="figure-collection.html"><a href="figure-collection.html#real-tables-7"><i class="fa fa-check"></i><b>14.2.2</b> Real tables</a>
<ul>
<li class="chapter" data-level="14.2.2.1" data-path="figure-collection.html"><a href="figure-collection.html#examples-from-same-company"><i class="fa fa-check"></i><b>14.2.2.1</b> Examples from same company</a></li>
<li class="chapter" data-level="14.2.2.2" data-path="figure-collection.html"><a href="figure-collection.html#openai-models-1"><i class="fa fa-check"></i><b>14.2.2.2</b> OpenAI models</a></li>
<li class="chapter" data-level="14.2.2.3" data-path="figure-collection.html"><a href="figure-collection.html#comparing-input-formats-and-text-extration-libraries"><i class="fa fa-check"></i><b>14.2.2.3</b> Comparing input formats and text extration libraries</a></li>
<li class="chapter" data-level="14.2.2.4" data-path="figure-collection.html"><a href="figure-collection.html#hypotheses-6"><i class="fa fa-check"></i><b>14.2.2.4</b> Hypotheses</a></li>
</ul></li>
<li class="chapter" data-level="14.2.3" data-path="figure-collection.html"><a href="figure-collection.html#synthetic-tables-7"><i class="fa fa-check"></i><b>14.2.3</b> Synthetic tables</a>
<ul>
<li class="chapter" data-level="14.2.3.1" data-path="figure-collection.html"><a href="figure-collection.html#confidence-4"><i class="fa fa-check"></i><b>14.2.3.1</b> Confidence</a></li>
</ul></li>
<li class="chapter" data-level="14.2.4" data-path="figure-collection.html"><a href="figure-collection.html#hybrid-approach-5"><i class="fa fa-check"></i><b>14.2.4</b> Hybrid approach</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="layout-testing.html"><a href="layout-testing.html"><i class="fa fa-check"></i><b>15</b> Layout testing</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Extraction of tabular data from annual reports with LLMs</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="results" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Results<a href="results.html#results" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This chapter presents the main results for the two main and our side research questions of this thesis:</p>
<ol class="rs-questions" style="--counter: 1;">
<li>
How can we use LLMs effectively to locate specific information in a financial report?
</li>
<li>
How can we use LLMs effectively to extract this information from the document?
</li>
<li>
Can we use additional information from the extraction process to guide the user on which values need to be checked and which can be trusted as they are?
</li>
</ol>
<p>Section <a href="results.html#page-identification-introduction">5.1</a> presents the results for the first research question. Section <a href="results.html#table-extraction-introduction">5.2</a> presents the results for the second question. Section <a href="results.html#error-rate-guidance-results">5.3</a> shows the results for the side research question. Finally, we will summarize all results in Section <a href="results.html#summary-results">5.4</a>.</p>
<p>Each section will start with an overview about the specific sub tasks as well as about the models, methods and data used to investigate the research question.</p>
<p>This chapter focuses on the presentation of results, that answer the question, if an approach can be used to solve a task. We discuss additional findings in Chapter <a href="discussion.html#discussion">6</a>. The presentation of those additional results can be found in the appendix. We refer to the chapters of the appendix, that document our investigation and the results of the sub tasks in detail, at the beginning of each of the following sections.</p>
<div id="page-identification-introduction" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Page identification<a href="results.html#page-identification-introduction" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="results.html#cb9-1" tabindex="-1"></a>temp_list <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;data_storage/page_identification_llm.rds&quot;</span>)</span>
<span id="cb9-2"><a href="results.html#cb9-2" tabindex="-1"></a>df_binary <span class="ot">&lt;-</span> temp_list<span class="sc">$</span>df_binary <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb9-3"><a href="results.html#cb9-3" tabindex="-1"></a>        <span class="co"># model_family = sub(&quot;_.*&quot;, &quot;&quot;, model),</span></span>
<span id="cb9-4"><a href="results.html#cb9-4" tabindex="-1"></a>        <span class="at">model_family =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(model, <span class="st">&quot;Qwen2&quot;</span>), <span class="st">&quot;Qwen 2.5&quot;</span>, model_family),</span>
<span id="cb9-5"><a href="results.html#cb9-5" tabindex="-1"></a>        <span class="at">model_family =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(model, <span class="st">&quot;Qwen3&quot;</span>), <span class="st">&quot;Qwen 3&quot;</span>, model_family),</span>
<span id="cb9-6"><a href="results.html#cb9-6" tabindex="-1"></a>        <span class="at">model_family =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(model, <span class="st">&quot;Llama-3&quot;</span>), <span class="st">&quot;Llama-3&quot;</span>, model_family),</span>
<span id="cb9-7"><a href="results.html#cb9-7" tabindex="-1"></a>        <span class="at">model_family =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(model, <span class="st">&quot;Llama-4&quot;</span>), <span class="st">&quot;Llama-4&quot;</span>, model_family),</span>
<span id="cb9-8"><a href="results.html#cb9-8" tabindex="-1"></a>        <span class="at">model =</span> <span class="fu">str_remove</span>(model, <span class="st">&quot;-0-9-1&quot;</span>)</span>
<span id="cb9-9"><a href="results.html#cb9-9" tabindex="-1"></a>      )</span>
<span id="cb9-10"><a href="results.html#cb9-10" tabindex="-1"></a>df_multi <span class="ot">&lt;-</span> temp_list<span class="sc">$</span>df_multi <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb9-11"><a href="results.html#cb9-11" tabindex="-1"></a>        <span class="co"># model_family = sub(&quot;_.*&quot;, &quot;&quot;, model),</span></span>
<span id="cb9-12"><a href="results.html#cb9-12" tabindex="-1"></a>        <span class="at">model_family =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(model, <span class="st">&quot;Qwen2&quot;</span>), <span class="st">&quot;Qwen 2.5&quot;</span>, model_family),</span>
<span id="cb9-13"><a href="results.html#cb9-13" tabindex="-1"></a>        <span class="at">model_family =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(model, <span class="st">&quot;Qwen3&quot;</span>), <span class="st">&quot;Qwen 3&quot;</span>, model_family),</span>
<span id="cb9-14"><a href="results.html#cb9-14" tabindex="-1"></a>        <span class="at">model_family =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(model, <span class="st">&quot;Llama-3&quot;</span>), <span class="st">&quot;Llama-3&quot;</span>, model_family),</span>
<span id="cb9-15"><a href="results.html#cb9-15" tabindex="-1"></a>        <span class="at">model_family =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(model, <span class="st">&quot;Llama-4&quot;</span>), <span class="st">&quot;Llama-4&quot;</span>, model_family),</span>
<span id="cb9-16"><a href="results.html#cb9-16" tabindex="-1"></a>        <span class="at">model =</span> <span class="fu">str_remove</span>(model, <span class="st">&quot;-0-9-1&quot;</span>)</span>
<span id="cb9-17"><a href="results.html#cb9-17" tabindex="-1"></a>      )</span>
<span id="cb9-18"><a href="results.html#cb9-18" tabindex="-1"></a></span>
<span id="cb9-19"><a href="results.html#cb9-19" tabindex="-1"></a>method_families <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;zero_shot&quot;</span>, <span class="st">&quot;law_context&quot;</span>, <span class="st">&quot;top_n_rag_examples&quot;</span>, <span class="st">&quot;n_random_examples&quot;</span>, <span class="st">&#39;n_rag_examples&#39;</span>)</span>
<span id="cb9-20"><a href="results.html#cb9-20" tabindex="-1"></a></span>
<span id="cb9-21"><a href="results.html#cb9-21" tabindex="-1"></a>method_familiy_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb9-22"><a href="results.html#cb9-22" tabindex="-1"></a>  <span class="st">&quot;zero_shot&quot;</span> <span class="ot">=</span> <span class="st">&quot;#e41a1c&quot;</span>, </span>
<span id="cb9-23"><a href="results.html#cb9-23" tabindex="-1"></a>  <span class="st">&quot;law_context&quot;</span> <span class="ot">=</span> <span class="st">&quot;#377eb8&quot;</span>, </span>
<span id="cb9-24"><a href="results.html#cb9-24" tabindex="-1"></a>  <span class="st">&quot;top_n_rag_examples&quot;</span> <span class="ot">=</span> <span class="st">&quot;#4daf4a&quot;</span>, </span>
<span id="cb9-25"><a href="results.html#cb9-25" tabindex="-1"></a>  <span class="st">&quot;n_random_examples&quot;</span> <span class="ot">=</span> <span class="st">&quot;#984ea3&quot;</span>, </span>
<span id="cb9-26"><a href="results.html#cb9-26" tabindex="-1"></a>  <span class="st">&#39;n_rag_examples&#39;</span> <span class="ot">=</span> <span class="st">&quot;#ff7f00&quot;</span></span>
<span id="cb9-27"><a href="results.html#cb9-27" tabindex="-1"></a>  )</span>
<span id="cb9-28"><a href="results.html#cb9-28" tabindex="-1"></a></span>
<span id="cb9-29"><a href="results.html#cb9-29" tabindex="-1"></a>model_by_size_classification <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;google_gemma-3-4b-it&#39;</span>, <span class="st">&#39;google_gemma-3n-E4B-it&#39;</span>, <span class="st">&quot;google_gemma-3-12b-it&quot;</span>,</span>
<span id="cb9-30"><a href="results.html#cb9-30" tabindex="-1"></a>  <span class="st">&quot;google_gemma-3-27b-it&quot;</span>, <span class="st">&quot;meta-llama_Llama-3.1-8B-Instruct&quot;</span>, </span>
<span id="cb9-31"><a href="results.html#cb9-31" tabindex="-1"></a>  <span class="st">&quot;meta-llama_Llama-3.1-70B-Instruct&quot;</span>, <span class="st">&quot;meta-llama_Llama-3.3-70B-Instruct&quot;</span>,</span>
<span id="cb9-32"><a href="results.html#cb9-32" tabindex="-1"></a>  <span class="st">&quot;meta-llama_Llama-4-Scout-17B-16E-Instruct&quot;</span>, <span class="st">&quot;meta-llama_Llama-4-Maverick-17B-128E-Instruct-FP8&quot;</span>,</span>
<span id="cb9-33"><a href="results.html#cb9-33" tabindex="-1"></a>  <span class="st">&quot;mistralai_Ministral-8B-Instruct-2410&quot;</span>, <span class="st">&quot;mistralai_Mistral-Small-3.1-24B-Instruct-2503&quot;</span>,</span>
<span id="cb9-34"><a href="results.html#cb9-34" tabindex="-1"></a>  <span class="st">&quot;mistralai_Mistral-Large-Instruct-2411&quot;</span>, <span class="st">&quot;Qwen_Qwen2.5-0.5B-Instruct&quot;</span>,</span>
<span id="cb9-35"><a href="results.html#cb9-35" tabindex="-1"></a>  <span class="st">&quot;Qwen_Qwen2.5-1.5B-Instruct&quot;</span>, <span class="st">&quot;Qwen_Qwen2.5-3B-Instruct&quot;</span>, <span class="st">&quot;Qwen_Qwen2.5-7B-Instruct&quot;</span>,</span>
<span id="cb9-36"><a href="results.html#cb9-36" tabindex="-1"></a>  <span class="st">&quot;Qwen_Qwen2.5-14B-Instruct&quot;</span>, <span class="st">&quot;Qwen_Qwen2.5-32B-Instruct&quot;</span>, <span class="st">&quot;Qwen_Qwen2.5-72B-Instruct&quot;</span>,</span>
<span id="cb9-37"><a href="results.html#cb9-37" tabindex="-1"></a>  <span class="st">&quot;Qwen_Qwen3-8B&quot;</span>, <span class="st">&quot;Qwen_Qwen3-30B-A3B-Instruct-2507&quot;</span>, <span class="st">&quot;Qwen_Qwen3-32B&quot;</span>, <span class="st">&quot;Qwen_Qwen3-235B-A22B-Instruct-2507&quot;</span>,</span>
<span id="cb9-38"><a href="results.html#cb9-38" tabindex="-1"></a>  <span class="st">&quot;tiiuae_Falcon3-10B-Instruct&quot;</span>, <span class="st">&quot;microsoft_phi-4&quot;</span></span>
<span id="cb9-39"><a href="results.html#cb9-39" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">gsub</span>(<span class="st">&quot;^[^_]+_&quot;</span>, <span class="st">&quot;&quot;</span>, .)</span>
<span id="cb9-40"><a href="results.html#cb9-40" tabindex="-1"></a></span>
<span id="cb9-41"><a href="results.html#cb9-41" tabindex="-1"></a>df_binary <span class="ot">&lt;-</span> df_binary <span class="sc">%&gt;%</span> </span>
<span id="cb9-42"><a href="results.html#cb9-42" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb9-43"><a href="results.html#cb9-43" tabindex="-1"></a>  <span class="at">n_examples =</span> <span class="fu">as.numeric</span>(n_examples),</span>
<span id="cb9-44"><a href="results.html#cb9-44" tabindex="-1"></a>  <span class="at">n_examples =</span> <span class="fu">if_else</span>(method_family <span class="sc">==</span> <span class="st">&quot;zero_shot&quot;</span>, <span class="dv">0</span>, n_examples),</span>
<span id="cb9-45"><a href="results.html#cb9-45" tabindex="-1"></a>  <span class="at">n_examples =</span> <span class="fu">if_else</span>(method_family <span class="sc">==</span> <span class="st">&quot;law_context&quot;</span>, <span class="dv">1</span>, n_examples),</span>
<span id="cb9-46"><a href="results.html#cb9-46" tabindex="-1"></a>  <span class="at">method_family =</span> <span class="fu">factor</span>(method_family, <span class="at">levels =</span> method_families)</span>
<span id="cb9-47"><a href="results.html#cb9-47" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">model =</span> <span class="fu">gsub</span>(<span class="st">&quot;^[^_]+_&quot;</span>, <span class="st">&quot;&quot;</span>, model)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-48"><a href="results.html#cb9-48" tabindex="-1"></a>  <span class="fu">filter</span>(model <span class="sc">%in%</span> model_by_size_classification) <span class="sc">%&gt;%</span> </span>
<span id="cb9-49"><a href="results.html#cb9-49" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="co"># %&gt;% </span></span>
<span id="cb9-50"><a href="results.html#cb9-50" tabindex="-1"></a>  <span class="co"># mutate(</span></span>
<span id="cb9-51"><a href="results.html#cb9-51" tabindex="-1"></a>  <span class="co">#   model = str_replace(model, &quot;_vllm&quot;, &quot;&quot;),</span></span>
<span id="cb9-52"><a href="results.html#cb9-52" tabindex="-1"></a>  <span class="co">#   model_family = sub(&quot;_.*&quot;, &quot;&quot;, model),</span></span>
<span id="cb9-53"><a href="results.html#cb9-53" tabindex="-1"></a>  <span class="co">#   model_family = if_else(str_detect(model, &quot;Qwen2&quot;), &quot;Qwen 2.5&quot;, model_family),</span></span>
<span id="cb9-54"><a href="results.html#cb9-54" tabindex="-1"></a>  <span class="co">#   model_family = if_else(str_detect(model, &quot;Qwen3&quot;), &quot;Qwen 3&quot;, model_family),</span></span>
<span id="cb9-55"><a href="results.html#cb9-55" tabindex="-1"></a>  <span class="co">#   model_family = if_else(str_detect(model, &quot;Llama-3&quot;), &quot;Llama-3&quot;, model_family),</span></span>
<span id="cb9-56"><a href="results.html#cb9-56" tabindex="-1"></a>  <span class="co">#   model_family = if_else(str_detect(model, &quot;Llama-4&quot;), &quot;Llama-4&quot;, model_family)</span></span>
<span id="cb9-57"><a href="results.html#cb9-57" tabindex="-1"></a>  <span class="co"># )</span></span>
<span id="cb9-58"><a href="results.html#cb9-58" tabindex="-1"></a></span>
<span id="cb9-59"><a href="results.html#cb9-59" tabindex="-1"></a>binary_task <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb9-60"><a href="results.html#cb9-60" tabindex="-1"></a>binary_task<span class="sc">$</span>n_models <span class="ot">&lt;-</span> df_binary<span class="sc">$</span>model <span class="sc">%&gt;%</span> <span class="fu">unique</span>() <span class="sc">%&gt;%</span> <span class="fu">length</span>()</span>
<span id="cb9-61"><a href="results.html#cb9-61" tabindex="-1"></a>binary_task<span class="sc">$</span>n_model_families <span class="ot">&lt;-</span> df_binary<span class="sc">$</span>model_family <span class="sc">%&gt;%</span> <span class="fu">unique</span>() <span class="sc">%&gt;%</span> <span class="fu">length</span>()</span>
<span id="cb9-62"><a href="results.html#cb9-62" tabindex="-1"></a>binary_task<span class="sc">$</span>n_method_families <span class="ot">&lt;-</span> df_binary<span class="sc">$</span>method_family <span class="sc">%&gt;%</span> <span class="fu">unique</span>() <span class="sc">%&gt;%</span> <span class="fu">length</span>()</span>
<span id="cb9-63"><a href="results.html#cb9-63" tabindex="-1"></a></span>
<span id="cb9-64"><a href="results.html#cb9-64" tabindex="-1"></a>top_performer_binary <span class="ot">&lt;-</span> df_binary <span class="sc">%&gt;%</span> </span>
<span id="cb9-65"><a href="results.html#cb9-65" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.finite</span>(f1_score), loop <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-66"><a href="results.html#cb9-66" tabindex="-1"></a>  <span class="fu">filter</span>(n_examples <span class="sc">&lt;=</span> <span class="dv">3</span> <span class="sc">|</span> <span class="fu">is.na</span>(n_examples)) <span class="sc">%&gt;%</span></span>
<span id="cb9-67"><a href="results.html#cb9-67" tabindex="-1"></a>  <span class="fu">group_by</span>(model_family, classification_type) <span class="sc">%&gt;%</span> </span>
<span id="cb9-68"><a href="results.html#cb9-68" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">n =</span> <span class="dv">1</span>, f1_score) <span class="sc">%&gt;%</span> </span>
<span id="cb9-69"><a href="results.html#cb9-69" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(f1_score)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-70"><a href="results.html#cb9-70" tabindex="-1"></a>  <span class="fu">select</span>(model_family, model, classification_type, method_family, n_examples, f1_score, norm_runtime) <span class="sc">%&gt;%</span></span>
<span id="cb9-71"><a href="results.html#cb9-71" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb9-72"><a href="results.html#cb9-72" tabindex="-1"></a>    <span class="at">f1_score =</span> <span class="fu">round</span>(f1_score, <span class="dv">2</span>),</span>
<span id="cb9-73"><a href="results.html#cb9-73" tabindex="-1"></a>    <span class="at">norm_runtime =</span> <span class="fu">round</span>(norm_runtime, <span class="dv">0</span>),</span>
<span id="cb9-74"><a href="results.html#cb9-74" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(</span>
<span id="cb9-75"><a href="results.html#cb9-75" tabindex="-1"></a>    <span class="st">&quot;runtime in s&quot;</span> <span class="ot">=</span> norm_runtime,</span>
<span id="cb9-76"><a href="results.html#cb9-76" tabindex="-1"></a>  )</span>
<span id="cb9-77"><a href="results.html#cb9-77" tabindex="-1"></a></span>
<span id="cb9-78"><a href="results.html#cb9-78" tabindex="-1"></a>top_performer_binary_median <span class="ot">&lt;-</span> top_performer_binary <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(classification_type) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">median =</span> <span class="fu">median</span>(f1_score))</span>
<span id="cb9-79"><a href="results.html#cb9-79" tabindex="-1"></a>top_performer_binary_median_guv <span class="ot">&lt;-</span> top_performer_binary_median <span class="sc">%&gt;%</span> <span class="fu">filter</span>(classification_type <span class="sc">==</span> <span class="st">&quot;GuV&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(median)</span>
<span id="cb9-80"><a href="results.html#cb9-80" tabindex="-1"></a>top_performer_binary_median_aktiva <span class="ot">&lt;-</span> top_performer_binary_median <span class="sc">%&gt;%</span> <span class="fu">filter</span>(classification_type <span class="sc">==</span> <span class="st">&quot;Aktiva&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(median)</span>
<span id="cb9-81"><a href="results.html#cb9-81" tabindex="-1"></a>top_performer_binary_median_passiva <span class="ot">&lt;-</span> top_performer_binary_median <span class="sc">%&gt;%</span> <span class="fu">filter</span>(classification_type <span class="sc">==</span> <span class="st">&quot;Passiva&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(median)</span>
<span id="cb9-82"><a href="results.html#cb9-82" tabindex="-1"></a></span>
<span id="cb9-83"><a href="results.html#cb9-83" tabindex="-1"></a>df_multi <span class="ot">&lt;-</span> df_multi <span class="sc">%&gt;%</span> </span>
<span id="cb9-84"><a href="results.html#cb9-84" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb9-85"><a href="results.html#cb9-85" tabindex="-1"></a>  <span class="at">n_examples =</span> <span class="fu">as.numeric</span>(n_examples),</span>
<span id="cb9-86"><a href="results.html#cb9-86" tabindex="-1"></a>  <span class="at">n_examples =</span> <span class="fu">if_else</span>(method_family <span class="sc">==</span> <span class="st">&quot;zero_shot&quot;</span>, <span class="dv">0</span>, n_examples),</span>
<span id="cb9-87"><a href="results.html#cb9-87" tabindex="-1"></a>  <span class="at">n_examples =</span> <span class="fu">if_else</span>(method_family <span class="sc">==</span> <span class="st">&quot;law_context&quot;</span>, <span class="dv">1</span>, n_examples),</span>
<span id="cb9-88"><a href="results.html#cb9-88" tabindex="-1"></a>  <span class="at">method_family =</span> <span class="fu">factor</span>(method_family, <span class="at">levels =</span> method_families)</span>
<span id="cb9-89"><a href="results.html#cb9-89" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">model =</span> <span class="fu">gsub</span>(<span class="st">&quot;^[^_]+_&quot;</span>, <span class="st">&quot;&quot;</span>, model)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-90"><a href="results.html#cb9-90" tabindex="-1"></a>  <span class="fu">filter</span>(model <span class="sc">%in%</span> model_by_size_classification) <span class="sc">%&gt;%</span> </span>
<span id="cb9-91"><a href="results.html#cb9-91" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="co">#%&gt;%</span></span>
<span id="cb9-92"><a href="results.html#cb9-92" tabindex="-1"></a>  <span class="co"># mutate(</span></span>
<span id="cb9-93"><a href="results.html#cb9-93" tabindex="-1"></a>  <span class="co">#   model = str_replace(model, &quot;_vllm&quot;, &quot;&quot;),</span></span>
<span id="cb9-94"><a href="results.html#cb9-94" tabindex="-1"></a>  <span class="co">#   model_family = sub(&quot;_.*&quot;, &quot;&quot;, model),</span></span>
<span id="cb9-95"><a href="results.html#cb9-95" tabindex="-1"></a>  <span class="co">#   model_family = if_else(str_detect(model, &quot;Qwen2&quot;), &quot;Qwen 2.5&quot;, model_family),</span></span>
<span id="cb9-96"><a href="results.html#cb9-96" tabindex="-1"></a>  <span class="co">#   model_family = if_else(str_detect(model, &quot;Qwen3&quot;), &quot;Qwen 3&quot;, model_family),</span></span>
<span id="cb9-97"><a href="results.html#cb9-97" tabindex="-1"></a>  <span class="co">#   model_family = if_else(str_detect(model, &quot;Llama-3&quot;), &quot;Llama-3&quot;, model_family),</span></span>
<span id="cb9-98"><a href="results.html#cb9-98" tabindex="-1"></a>  <span class="co">#   model_family = if_else(str_detect(model, &quot;Llama-4&quot;), &quot;Llama-4&quot;, model_family)</span></span>
<span id="cb9-99"><a href="results.html#cb9-99" tabindex="-1"></a>  <span class="co"># )</span></span>
<span id="cb9-100"><a href="results.html#cb9-100" tabindex="-1"></a></span>
<span id="cb9-101"><a href="results.html#cb9-101" tabindex="-1"></a>top_performer_multu <span class="ot">&lt;-</span> df_multi <span class="sc">%&gt;%</span> </span>
<span id="cb9-102"><a href="results.html#cb9-102" tabindex="-1"></a>  <span class="fu">unnest</span>(metrics) <span class="sc">%&gt;%</span> </span>
<span id="cb9-103"><a href="results.html#cb9-103" tabindex="-1"></a>  <span class="fu">filter</span>(metric_type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Aktiva&quot;</span>, <span class="st">&quot;Passiva&quot;</span>, <span class="st">&quot;GuV&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-104"><a href="results.html#cb9-104" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.finite</span>(f1_score), loop <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-105"><a href="results.html#cb9-105" tabindex="-1"></a>  <span class="fu">filter</span>(n_examples <span class="sc">&lt;=</span> <span class="dv">3</span> <span class="sc">|</span> <span class="fu">is.na</span>(n_examples)) <span class="sc">%&gt;%</span></span>
<span id="cb9-106"><a href="results.html#cb9-106" tabindex="-1"></a>  <span class="fu">group_by</span>(model_family, metric_type) <span class="sc">%&gt;%</span> </span>
<span id="cb9-107"><a href="results.html#cb9-107" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">n =</span> <span class="dv">1</span>, f1_score) <span class="sc">%&gt;%</span> </span>
<span id="cb9-108"><a href="results.html#cb9-108" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(f1_score)) <span class="sc">%&gt;%</span> <span class="co"># head(10) %&gt;% </span></span>
<span id="cb9-109"><a href="results.html#cb9-109" tabindex="-1"></a>  <span class="fu">select</span>(model_family, model, metric_type, method_family, n_examples, f1_score, norm_runtime) <span class="sc">%&gt;%</span></span>
<span id="cb9-110"><a href="results.html#cb9-110" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb9-111"><a href="results.html#cb9-111" tabindex="-1"></a>    <span class="at">f1_score =</span> <span class="fu">round</span>(f1_score, <span class="dv">2</span>),</span>
<span id="cb9-112"><a href="results.html#cb9-112" tabindex="-1"></a>    <span class="at">norm_runtime =</span> <span class="fu">round</span>(norm_runtime, <span class="dv">0</span>),</span>
<span id="cb9-113"><a href="results.html#cb9-113" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(</span>
<span id="cb9-114"><a href="results.html#cb9-114" tabindex="-1"></a>    <span class="st">&quot;runtime in s&quot;</span> <span class="ot">=</span> norm_runtime,</span>
<span id="cb9-115"><a href="results.html#cb9-115" tabindex="-1"></a>  )</span></code></pre></div>
</details>

<p>The first research question asks, how <a href="glossary.html#acronyms_LLM">LLM</a>s can be used, to effectively locate specific information in a financial report. The task for this thesis is to identify the pages where the balance sheet (<em>Bilanz</em>) and the profit-and-loss-and-statement (<em>Gewinn- und Verlustrechnung, GuV</em>) are located. The balance sheet is composed of two tables showing the assets (<em>Aktiva</em>) and liabilities (<em>Passiva</em>) of a company. Often, these two tables are on separate pages. Hereafter, the German terms <strong>Aktiva</strong>, <strong>Passiva</strong> and <strong>GuV</strong> will be used.</p>
<p><span class="citation">H. Li, Gao, et al. (<a href="#ref-liExtractingFinancialData2023">2023</a>)</span> describes two ways to identify the relevant pages (see Figure <a href="introduction.html#fig:extraction-framework-flow-chart">1.2</a>). For longer documents they propose to use the <a href="glossary.html#acronyms_TOC">TOC</a> to determine a page range that includes the information of interest. In addition, they develop target specific regular expressions and rules to filter out irrelevant pages<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>. The result of this âPage Range Refinementâ is then passed to the <a href="glossary.html#acronyms_LLM">LLM</a> to extract information from.</p>
<p>This section presents the results of four approaches to identify the page<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a> of interest. The detailed report on all experiments conducted and their results can be found in the appendix:</p>
<ul>
<li>Subsection <a href="page-identification-report.html#regex-page-identification">8.1</a> presents the findings of a page range refinement using a list of key words with a regular expression.</li>
<li>Subsection <a href="page-identification-report.html#toc-understanding">8.2</a> presents the findings of a <a href="glossary.html#acronyms_TOC">TOC</a> understanding approach</li>
<li>Subsection <a href="page-identification-report.html#llm-page-identification">8.3</a> presents the findings of a text classification approach using <a href="glossary.html#acronyms_LLM">LLM</a>s.</li>
<li>Subsection <a href="page-identification-report.html#tf-classifier">8.4</a> presents the findings of a term-frequency approach.</li>
</ul>
<p>We compare and summarize the results in Subsection <a href="results.html#comparison-page-identification">5.1.2</a>. Subsection <a href="discussion.html#efficency-discussion">6.3.1.5</a> proposes an efficient combination of approaches to solve the task of this thesis and discusses its limitations.</p>
<div id="section-1" class="section level3 unlisted unnumbered">
<h3 class="unlisted unnumbered"></h3>
<div id="dataset-describtion" class="section level5 hasAnchor paragraph-start" number="5.1.0.0.1">
<h5><span class="header-section-number">5.1.0.0.1</span> Dataset describtion<a href="results.html#dataset-describtion" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>For the page identification task, we selected companies (mainly) from the first row of Figure <a href="introduction.html#fig:beteiligungsunternehmen">1.1</a>, to build the ground truth from. The main motivation is that the documents of a companies within a category are more similar to each other, than to documents of companies of other categories. For the chosen companies all available annual reports are selected. Since one of the companies mainly published documents that require <a href="glossary.html#acronyms_OCR">OCR</a> preprocessing, we include the documents of a second company for this category.</p>
</div>
</div>
<div id="approaches-1" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Approaches<a href="results.html#approaches-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For all approaches presented in this section except the <a href="glossary.html#acronyms_TOC">TOC</a> understanding approach, the page identification task is formulated as a classification problem. This subsection briefly describes our approaches. A detailed report can be found in teh Appendix <a href="page-identification-report.html#page-identification-report">8</a>.</p>
<div id="regular-expressions-2" class="section level5 hasAnchor paragraph-start" number="5.1.1.0.1">
<h5><span class="header-section-number">5.1.1.0.1</span> Regular expressions<a href="results.html#regular-expressions-2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We develop multiple sets of regular expressions and filter out all pages that do not fulfill all regular expressions of a given set. There are different sets for each target type, <strong>Aktiva</strong>, <strong>Passiva</strong> and <strong>GuV</strong>. The sets also differ in how versatile they can cope with additional white space introduced by a imperfect text extraction and how many different words for a given term are accepted.</p>
</div>
<div id="table-of-contents-understanding-1" class="section level5 hasAnchor paragraph-start" number="5.1.1.0.2">
<h5><span class="header-section-number">5.1.1.0.2</span> Table of Contents Understanding<a href="results.html#table-of-contents-understanding-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We use a <a href="glossary.html#acronyms_LLM">LLM</a> to extract the <a href="glossary.html#acronyms_TOC">TOC</a> from the first pages from a document or use the embedded <a href="glossary.html#acronyms_TOC">TOC</a> and prompt a <a href="glossary.html#acronyms_LLM">LLM</a> to identify the pages where the <strong>Aktiva</strong>, <strong>Passiva</strong> and <strong>GuV</strong> are located.</p>
</div>
<div id="large-language-model-classification-1" class="section level5 hasAnchor paragraph-start" number="5.1.1.0.3">
<h5><span class="header-section-number">5.1.1.0.3</span> Large Language Model Classification<a href="results.html#large-language-model-classification-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We use <a href="glossary.html#acronyms_LLM">LLM</a>s to classify if the text extract of a given page contains a <strong>Aktiva</strong>, <strong>Passiva</strong> or <strong>GuV</strong> table or something else. We test binary classification and a multi-classification approach. The reported confidence scores can be used to form a ranking, which text extract might be most similar to the target type.</p>
</div>
<p>We test a wide range of open-weight models and compare different prompting techniques. Besides a zero shot approach, we test few-shot in-context learning with examples that are either chosen randomly or retrieved based on their vector similarity. Finally, we test passing the legal text instead of examples from a annual report.</p>
<div id="term-frequency-ranking-1" class="section level5 hasAnchor paragraph-start" number="5.1.1.0.4">
<h5><span class="header-section-number">5.1.1.0.4</span> Term Frequency Ranking<a href="results.html#term-frequency-ranking-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We use normalized term frequencies and normalized float frequency as features for a classification with a random forest. The predicted scores are used to build a ranking, which page most probably contains the target pages. Undersampling is used during training, to handle the unbalanced data.</p>
</div>
</div>
<div id="comparison-page-identification" class="section level3 hasAnchor" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Comparison<a href="results.html#comparison-page-identification" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="results.html#cb10-1" tabindex="-1"></a>df_page_identification_comparing_performance <span class="ot">&lt;-</span> readODS<span class="sc">::</span><span class="fu">read_ods</span>(<span class="st">&quot;data_storage/page_identification_summary.ods&quot;</span>, <span class="at">sheet =</span> <span class="dv">1</span>)</span>
<span id="cb10-2"><a href="results.html#cb10-2" tabindex="-1"></a>df_page_identification_comparing_efficiency <span class="ot">&lt;-</span> readODS<span class="sc">::</span><span class="fu">read_ods</span>(<span class="st">&quot;data_storage/page_identification_summary.ods&quot;</span>, <span class="at">sheet =</span> <span class="dv">2</span>)</span>
<span id="cb10-3"><a href="results.html#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="results.html#cb10-4" tabindex="-1"></a>df_df_page_identification_comparing_performance_formatted <span class="ot">&lt;-</span> df_page_identification_comparing_performance <span class="sc">%&gt;%</span> </span>
<span id="cb10-5"><a href="results.html#cb10-5" tabindex="-1"></a>  <span class="fu">group_by</span>(type) <span class="sc">%&gt;%</span> </span>
<span id="cb10-6"><a href="results.html#cb10-6" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-7"><a href="results.html#cb10-7" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb10-8"><a href="results.html#cb10-8" tabindex="-1"></a>      <span class="fu">c</span>(precision, recall, F1, <span class="st">`</span><span class="at">top 1 recall</span><span class="st">`</span>),</span>
<span id="cb10-9"><a href="results.html#cb10-9" tabindex="-1"></a>      <span class="sc">~</span><span class="fu">ifelse</span>(      </span>
<span id="cb10-10"><a href="results.html#cb10-10" tabindex="-1"></a>        . <span class="sc">==</span> <span class="fu">max</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-11"><a href="results.html#cb10-11" tabindex="-1"></a>        <span class="fu">paste0</span>(<span class="st">&quot;**&quot;</span>, <span class="fu">round</span>(., <span class="dv">3</span>), <span class="st">&quot;**&quot;</span>),</span>
<span id="cb10-12"><a href="results.html#cb10-12" tabindex="-1"></a>        <span class="fu">round</span>(., <span class="dv">3</span>)</span>
<span id="cb10-13"><a href="results.html#cb10-13" tabindex="-1"></a>        )</span>
<span id="cb10-14"><a href="results.html#cb10-14" tabindex="-1"></a>      )) <span class="sc">%&gt;%</span> </span>
<span id="cb10-15"><a href="results.html#cb10-15" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">k for full recall</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">ifelse</span>(      </span>
<span id="cb10-16"><a href="results.html#cb10-16" tabindex="-1"></a>        <span class="st">`</span><span class="at">k for full recall</span><span class="st">`</span> <span class="sc">==</span> <span class="fu">min</span>(<span class="st">`</span><span class="at">k for full recall</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-17"><a href="results.html#cb10-17" tabindex="-1"></a>        <span class="fu">paste0</span>(<span class="st">&quot;**&quot;</span>, <span class="fu">round</span>(<span class="st">`</span><span class="at">k for full recall</span><span class="st">`</span>, <span class="dv">3</span>), <span class="st">&quot;**&quot;</span>),</span>
<span id="cb10-18"><a href="results.html#cb10-18" tabindex="-1"></a>        <span class="fu">round</span>(<span class="st">`</span><span class="at">k for full recall</span><span class="st">`</span>, <span class="dv">3</span>)</span>
<span id="cb10-19"><a href="results.html#cb10-19" tabindex="-1"></a>        ))</span></code></pre></div>
</details>
<p>This subsection presents the performance and efficiency for all four presented approaches and compares it with the the results a human achieves manually</p>
<div id="prediction-performance" class="section level5 hasAnchor paragraph-start" number="5.1.2.0.1">
<h5><span class="header-section-number">5.1.2.0.1</span> Prediction performance<a href="results.html#prediction-performance" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Table <a href="results.html#tab:page-identification-performance-overview-all">5.1</a> shows the best performance achieved by the four presented approaches regarding precision, recall and F1 score.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="results.html#cb11-1" tabindex="-1"></a>df_df_page_identification_comparing_performance_formatted <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="results.html#cb11-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">`</span><span class="at">top 1 recall</span><span class="st">`</span>, <span class="st">`</span><span class="at">k for full recall</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="results.html#cb11-3" tabindex="-1"></a>  <span class="fu">arrange</span>(type) <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="results.html#cb11-4" tabindex="-1"></a>  <span class="fu">render_table</span>(</span>
<span id="cb11-5"><a href="results.html#cb11-5" tabindex="-1"></a>    <span class="at">alignment =</span> <span class="st">&quot;lllrrr&quot;</span>,</span>
<span id="cb11-6"><a href="results.html#cb11-6" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Comparing page identification perfromance among all four approaches.&quot;</span>,</span>
<span id="cb11-7"><a href="results.html#cb11-7" tabindex="-1"></a>    <span class="at">ref =</span> opts_current<span class="sc">$</span><span class="fu">get</span>(<span class="st">&quot;label&quot;</span>),</span>
<span id="cb11-8"><a href="results.html#cb11-8" tabindex="-1"></a>    <span class="at">row_group_col =</span> <span class="dv">3</span></span>
<span id="cb11-9"><a href="results.html#cb11-9" tabindex="-1"></a>    )</span></code></pre></div>
</details>
<table>
<caption>
<span id="tab:page-identification-performance-overview-all">Table 5.1: </span>Comparing page identification perfromance among all four approaches.
</caption>
</table>
<div class="datatables html-widget html-fill-item" id="htmlwidget-1a66cb2a5c917e652266" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1a66cb2a5c917e652266">{"x":{"filter":"none","vertical":false,"extensions":["RowGroup"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22"],["Regex","TOC","TOC","LLM binary","LLM multi-class","LLM multi-class","TF","human","Regex","TOC","TOC","LLM binary","LLM multi-class","LLM multi-class","TF","Regex","TOC","TOC","LLM binary","LLM multi-class","LLM multi-class","TF"],["exhaustive","machine readable","combi","Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Llama-4-Scout-17B-16E-Instruct, 3_<wbr>rag_<wbr>examples","high recall","manual","exhaustive restricted","machine readable","combi","Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Llama-4-Scout-17B-16E-Instruct, 3_<wbr>rag_<wbr>examples","high recall","exhaustive","machine readable","combi","Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Llama-4-Scout-17B-16E-Instruct, 3_<wbr>rag_<wbr>examples","high recall"],["Aktiva","Aktiva","Aktiva","Aktiva","Aktiva","Aktiva","Aktiva","Aktiva","GuV","GuV","GuV","GuV","GuV","GuV","GuV","Passiva","Passiva","Passiva","Passiva","Passiva","Passiva","Passiva"],["0.132","0.6","0.338","0.906","0.987","<b>1<\/b>","0.193",null,"0.21","0.446","0.378","<b>0.981<\/b>","0.903","0.944","0.131","0.13","0.5","0.281","0.937","<b>1<\/b>","0.985","0.21"],["0.997","0.256","0.268","0.939","0.937","<b>1<\/b>","<b>1<\/b>",null,"<b>1<\/b>","0.245","0.363","0.99","<b>1<\/b>","<b>1<\/b>","<b>1<\/b>","0.993","0.21","0.222","0.914","0.761","<b>1<\/b>","<b>1<\/b>"],["0.233","0.359","0.299","0.922","0.961","<b>1<\/b>","0.324","0.981","0.35","0.316","0.37","<b>0.985<\/b>","0.949","0.971","0.232","0.23","0.296","0.248","0.925","0.864","<b>0.993<\/b>","0.347"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>approach<\/th>\n      <th>strategy<\/th>\n      <th>type<\/th>\n      <th>precision<\/th>\n      <th>recall<\/th>\n      <th>F1<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"dom":"tiprfl","rowGroup":{"dataSrc":3},"ordering":false,"columnDefs":[{"visible":false,"targets":3},{"targets":0,"className":"dt-left"},{"targets":1,"className":"dt-left"},{"targets":2,"className":"dt-left"},{"targets":3,"className":"dt-left"},{"targets":4,"className":"dt-right"},{"targets":5,"className":"dt-right"},{"targets":6,"className":"dt-right"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"approach","targets":1},{"name":"strategy","targets":2},{"name":"type","targets":3},{"name":"precision","targets":4},{"name":"recall","targets":5},{"name":"F1","targets":6}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>Llama 4 Scout reaches the best F1 score for the target types <strong>Akiva</strong> and <strong>Passiva</strong> in the multi-class classification approach. For <strong>GuV</strong> the best F1 score (0.985) is found with Ministral-8B-Instruct in the binary classification approach. Llama 4 Scout reaches a F1 score of 0.971 for target type <strong>GuV</strong> and multi-class classification.</p>
</div>
<p>In the dataset preparation for the table extraction task (see section <a href="implementation.html#information-extraction-data-sampling">4.3.2.0.2</a>) 107 <strong>Aktiva</strong> pages have been selected. In this manual process we made two mistakes, accidently selecting one <strong>Passiva</strong> and one <strong>GuV</strong> page. Thus the human baseline to compete with is 0.981. Thus, Llama 4 Scout is more precise than us.</p>
<p>Furthermore, Llama 4 Scout reaches a recall of 1.0 for all target types. This means, the results can be used downstream, even though the precision is not always perfect. The pages classified as target can be double checked by a human, without missing any page.</p>
<p>The performance of approaches that do not utilize <a href="glossary.html#acronyms_LLM">LLM</a>s is substantially lower. Only the term-frequency approach yields results that are suitable for downstream use, as it achieves a recall of 1.0. Table <a href="results.html#tab:page-identification-performance-overview-top-k-recall">5.2</a> shows the results of the top k recall for the term-frequency and <a href="glossary.html#acronyms_LLM">LLM</a> approaches. For the term-frequency approach the ranking is based on the scores of the random forest classifier. For the <a href="glossary.html#acronyms_LLM">LLM</a>s the ranking is based on the calculated confidence scores.</p>
<p>The <a href="glossary.html#acronyms_LLM">LLM</a>s always rate the correct <strong>GuV</strong> page highest. With Llama Scout 4 we find all target pages within the first two ranked pages. For the term-frequency approach a human sometimes has to check up to five pages.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="results.html#cb12-1" tabindex="-1"></a>df_df_page_identification_comparing_performance_formatted <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="results.html#cb12-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(precision, recall, F1)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="results.html#cb12-3" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="st">`</span><span class="at">top 1 recall</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-4"><a href="results.html#cb12-4" tabindex="-1"></a>  <span class="fu">arrange</span>(type) <span class="sc">%&gt;%</span> </span>
<span id="cb12-5"><a href="results.html#cb12-5" tabindex="-1"></a>  <span class="fu">render_table</span>(</span>
<span id="cb12-6"><a href="results.html#cb12-6" tabindex="-1"></a>    <span class="at">alignment =</span> <span class="st">&quot;lllrr&quot;</span>,</span>
<span id="cb12-7"><a href="results.html#cb12-7" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Comparing the top k recall for the term-frequency and LLM approaches.&quot;</span>,</span>
<span id="cb12-8"><a href="results.html#cb12-8" tabindex="-1"></a>    <span class="at">ref =</span> opts_current<span class="sc">$</span><span class="fu">get</span>(<span class="st">&quot;label&quot;</span>),</span>
<span id="cb12-9"><a href="results.html#cb12-9" tabindex="-1"></a>    <span class="at">row_group_col =</span> <span class="dv">3</span></span>
<span id="cb12-10"><a href="results.html#cb12-10" tabindex="-1"></a>    )</span></code></pre></div>
</details>
<table>
<caption>
<span id="tab:page-identification-performance-overview-top-k-recall">Table 5.2: </span>Comparing the top k recall for the term-frequency and LLM approaches.
</caption>
</table>
<div class="datatables html-widget html-fill-item" id="htmlwidget-c8f18def38d0971a22f9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c8f18def38d0971a22f9">{"x":{"filter":"none","vertical":false,"extensions":["RowGroup"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12"],["LLM binary","LLM multi-class","LLM multi-class","TF","LLM binary","LLM multi-class","LLM multi-class","TF","LLM binary","LLM multi-class","LLM multi-class","TF"],["Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Llama-4-Scout-17B-16E-Instruct, 3_<wbr>rag_<wbr>examples","high recall","Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Llama-4-Scout-17B-16E-Instruct, 3_<wbr>rag_<wbr>examples","high recall","Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Llama-4-Scout-17B-16E-Instruct, 3_<wbr>rag_<wbr>examples","high recall"],["Aktiva","Aktiva","Aktiva","Aktiva","GuV","GuV","GuV","GuV","Passiva","Passiva","Passiva","Passiva"],["0.959","0.932","<b>1<\/b>","0.826","<b>1<\/b>","<b>1<\/b>","<b>1<\/b>","0.7","0.932","0.824","<b>0.973<\/b>","0.808"],["2","3","<b>1<\/b>","5","<b>1<\/b>","<b>1<\/b>","<b>1<\/b>","5","<b>2<\/b>","3","<b>2<\/b>","5"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>approach<\/th>\n      <th>strategy<\/th>\n      <th>type<\/th>\n      <th>top 1 recall<\/th>\n      <th>k for full recall<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"dom":"tiprfl","rowGroup":{"dataSrc":3},"ordering":false,"columnDefs":[{"visible":false,"targets":3},{"targets":0,"className":"dt-left"},{"targets":1,"className":"dt-left"},{"targets":2,"className":"dt-left"},{"targets":3,"className":"dt-left"},{"targets":4,"className":"dt-right"},{"targets":5,"className":"dt-right"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"approach","targets":1},{"name":"strategy","targets":2},{"name":"type","targets":3},{"name":"top 1 recall","targets":4},{"name":"k for full recall","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="energy-usage-and-runtime" class="section level5 hasAnchor paragraph-start" number="5.1.2.0.2">
<h5><span class="header-section-number">5.1.2.0.2</span> Energy usage and runtime<a href="results.html#energy-usage-and-runtime" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Table <a href="results.html#tab:page-identification-efficiency-overview-all">5.3</a> shows the runtime in seconds per document, estimated energy consumption in Joule per document and costs in <strong>CENTS per 1000 documents</strong>. The runtime for the <a href="glossary.html#acronyms_LLM">LLM</a>s was normalized to seconds on a NVIDIA B200 and thus the <a href="glossary.html#acronyms_TDP">TDP (thermal design power)</a> of 700 W is used to calculate the energy consumption. For the other approaches, running on a laptop (see section <a href="appendix-e---miscellaneous.html#local-machine">12.2</a>) a <a href="glossary.html#acronyms_TDP">TDP</a> of 28 Watts is used. For manual work by a human additional 60 W are added for the screen used. It is assumed that the <a href="glossary.html#acronyms_LLM">LLM</a> is hosted locally.</p>
</div>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="results.html#cb13-1" tabindex="-1"></a>table_energy <span class="ot">&lt;-</span> df_page_identification_comparing_efficiency <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span>drop <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="results.html#cb13-2" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb13-3"><a href="results.html#cb13-3" tabindex="-1"></a>    approach, strategy, </span>
<span id="cb13-4"><a href="results.html#cb13-4" tabindex="-1"></a>    <span class="st">`</span><span class="at">runtime per document in s</span><span class="st">`</span>, <span class="st">`</span><span class="at">energy in J</span><span class="st">`</span>, </span>
<span id="cb13-5"><a href="results.html#cb13-5" tabindex="-1"></a>    <span class="st">`</span><span class="at">costs in CENTS per 1000 documents</span><span class="st">`</span></span>
<span id="cb13-6"><a href="results.html#cb13-6" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="results.html#cb13-7" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-8"><a href="results.html#cb13-8" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb13-9"><a href="results.html#cb13-9" tabindex="-1"></a>      <span class="fu">where</span>(is.numeric),</span>
<span id="cb13-10"><a href="results.html#cb13-10" tabindex="-1"></a>      <span class="sc">~</span><span class="fu">ifelse</span>(      </span>
<span id="cb13-11"><a href="results.html#cb13-11" tabindex="-1"></a>        . <span class="sc">==</span> <span class="fu">min</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb13-12"><a href="results.html#cb13-12" tabindex="-1"></a>        <span class="fu">paste0</span>(<span class="st">&quot;**&quot;</span>, <span class="fu">format</span>(<span class="fu">round</span>(., <span class="dv">3</span>), <span class="at">nsmall=</span><span class="dv">3</span>), <span class="st">&quot;**&quot;</span>),</span>
<span id="cb13-13"><a href="results.html#cb13-13" tabindex="-1"></a>        <span class="fu">format</span>(<span class="fu">round</span>(., <span class="dv">3</span>), <span class="at">nsmall=</span><span class="dv">3</span>)</span>
<span id="cb13-14"><a href="results.html#cb13-14" tabindex="-1"></a>        )</span>
<span id="cb13-15"><a href="results.html#cb13-15" tabindex="-1"></a>      )) <span class="sc">%&gt;%</span> </span>
<span id="cb13-16"><a href="results.html#cb13-16" tabindex="-1"></a>  <span class="fu">render_table</span>(</span>
<span id="cb13-17"><a href="results.html#cb13-17" tabindex="-1"></a>    <span class="at">alignment =</span> <span class="st">&quot;llrrr&quot;</span>,</span>
<span id="cb13-18"><a href="results.html#cb13-18" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Comparing page identification efficiency among all four approaches.&quot;</span>,</span>
<span id="cb13-19"><a href="results.html#cb13-19" tabindex="-1"></a>    <span class="at">ref =</span> opts_current<span class="sc">$</span><span class="fu">get</span>(<span class="st">&quot;label&quot;</span>)</span>
<span id="cb13-20"><a href="results.html#cb13-20" tabindex="-1"></a>    )</span></code></pre></div>
</details>
<table>
<caption>
<span id="tab:page-identification-efficiency-overview-all">Table 5.3: </span>Comparing page identification efficiency among all four approaches.
</caption>
</table>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="results.html#cb14-1" tabindex="-1"></a><span class="cf">if</span>(knitr<span class="sc">::</span><span class="fu">is_latex_output</span>()) {</span>
<span id="cb14-2"><a href="results.html#cb14-2" tabindex="-1"></a>  table_energy <span class="ot">&lt;-</span> table_energy <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="results.html#cb14-3" tabindex="-1"></a>    <span class="fu">column_spec</span>(<span class="dv">2</span>, <span class="at">width =</span> <span class="st">&quot;3.7cm&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="results.html#cb14-4" tabindex="-1"></a>    <span class="fu">column_spec</span>(<span class="dv">3</span>, <span class="at">width =</span> <span class="st">&quot;2.3cm&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-5"><a href="results.html#cb14-5" tabindex="-1"></a>    <span class="fu">column_spec</span>(<span class="dv">5</span>, <span class="at">width =</span> <span class="st">&quot;3cm&quot;</span>)</span>
<span id="cb14-6"><a href="results.html#cb14-6" tabindex="-1"></a>}</span>
<span id="cb14-7"><a href="results.html#cb14-7" tabindex="-1"></a>table_energy</span></code></pre></div>
</details>
<div class="datatables html-widget html-fill-item" id="htmlwidget-b9e055b7b534654c8fb3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b9e055b7b534654c8fb3">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8"],["Regex","TOC","TOC","LLM binary","LLM multi-class","LLM multi-class","TF","human"],["exhaustive","machine readable","text based","Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Ministral-8B-Instruct-2410, 3_<wbr>rag_<wbr>examples","Llama-4-Scout-17B-16E-Instruct, 3_<wbr>rag_<wbr>examples","high recall","manual"],["<b> 0.005<\/b>"," 0.202"," 1.939","35.851","18.905","60.149"," 0.138","61.000"],["<b>    0.151<\/b>","  141.580"," 1357.534","25095.946","13233.784","42104.054","    3.859"," 5368.000"],["<b>  0.001<\/b>","  1.062"," 10.182","188.220"," 99.253","315.780","  0.029"," 40.260"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>approach<\/th>\n      <th>strategy<\/th>\n      <th>runtime per document in s<\/th>\n      <th>energy in J<\/th>\n      <th>costs in CENTS per 1000 documents<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"dom":"tiprfl","columnDefs":[{"targets":0,"className":"dt-left"},{"targets":1,"className":"dt-left"},{"targets":2,"className":"dt-left"},{"targets":3,"className":"dt-right"},{"targets":4,"className":"dt-right"},{"targets":5,"className":"dt-right"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"approach","targets":1},{"name":"strategy","targets":2},{"name":"runtime per document in s","targets":3},{"name":"energy in J","targets":4},{"name":"costs in CENTS per 1000 documents","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>Table <a href="results.html#tab:page-identification-efficiency-overview-all">5.3</a> shows, that the regular expression approach is fastest and consumes least energy. Nevertheless, since the results are not sufficient, another approach has to be chosen, if the amount of manual labor should be reduced for the human inn the loop.</p>
<p>Second place, regarding all these criteria, is the term-frequency approach, which guarantees a perfect recall, while reducing the number of pages to investigate to five per target type. This is similar to the number of pages a human has to investigate to find the <a href="glossary.html#acronyms_TOC">TOC</a> of the document. And it is a reduction to 7.4 % of the average 67 pages the documents in this dataset have. The costs are still negligible.</p>
<p>The <a href="glossary.html#acronyms_LLM">LLM</a> approaches have the highest runtime and energy consumption. This is the case, because they process every page with very computational demanding algorithms. For the <a href="glossary.html#acronyms_TOC">TOC</a> approach <a href="glossary.html#acronyms_LLM">LLM</a>s are used as well, but they process far less of the documents pages. Thus, their energy consumption is lower.</p>
<p>Since all approaches but the manual identification need the text extract, this runtime and energy consumption are also not listed (but low).</p>
</div>
</div>
<div id="table-extraction-introduction" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Information extraction<a href="results.html#table-extraction-introduction" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="results.html#cb15-1" tabindex="-1"></a>df_real_table_extraction <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;data_storage/real_table_extraction_extended_llm.rds&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="results.html#cb15-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>model <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;deepseek-ai_DeepSeek-R1-Distill-Qwen-32B&quot;</span>, <span class="st">&#39;google_gemma-3n-E4B-it&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-3"><a href="results.html#cb15-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-4"><a href="results.html#cb15-4" tabindex="-1"></a>    <span class="at">model =</span> <span class="fu">gsub</span>(<span class="st">&quot;^[^_]+_&quot;</span>, <span class="st">&quot;&quot;</span>, model),</span>
<span id="cb15-5"><a href="results.html#cb15-5" tabindex="-1"></a>    <span class="at">company =</span> <span class="fu">map_chr</span>(filepath, <span class="sc">~</span><span class="fu">str_split</span>(<span class="fu">str_split</span>(., <span class="st">&quot;/&quot;</span>)[[<span class="dv">1</span>]][<span class="dv">5</span>], <span class="st">&quot;__&quot;</span>)[[<span class="dv">1</span>]][<span class="dv">1</span>])</span>
<span id="cb15-6"><a href="results.html#cb15-6" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(company <span class="sc">!=</span> <span class="st">&quot;MEAB GmbH&quot;</span>)</span>
<span id="cb15-7"><a href="results.html#cb15-7" tabindex="-1"></a>df_real_table_extraction_synth <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;data_storage/real_table_extraction_extended_synth.rds&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-8"><a href="results.html#cb15-8" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-9"><a href="results.html#cb15-9" tabindex="-1"></a>    <span class="at">model =</span> <span class="fu">gsub</span>(<span class="st">&quot;^[^_]+_&quot;</span>, <span class="st">&quot;&quot;</span>, model),</span>
<span id="cb15-10"><a href="results.html#cb15-10" tabindex="-1"></a>    <span class="at">company =</span> <span class="fu">map_chr</span>(filepath, <span class="sc">~</span><span class="fu">str_split</span>(<span class="fu">str_split</span>(., <span class="st">&quot;/&quot;</span>)[[<span class="dv">1</span>]][<span class="dv">5</span>], <span class="st">&quot;__&quot;</span>)[[<span class="dv">1</span>]][<span class="dv">1</span>])</span>
<span id="cb15-11"><a href="results.html#cb15-11" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(company <span class="sc">!=</span> <span class="st">&quot;MEAB GmbH&quot;</span>)</span>
<span id="cb15-12"><a href="results.html#cb15-12" tabindex="-1"></a>df_real_table_extraction_azure <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;data_storage/real_table_extraction_extended_azure.rds&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-13"><a href="results.html#cb15-13" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-14"><a href="results.html#cb15-14" tabindex="-1"></a>    <span class="at">model =</span> <span class="fu">gsub</span>(<span class="st">&quot;^[^_]+_&quot;</span>, <span class="st">&quot;&quot;</span>, model),</span>
<span id="cb15-15"><a href="results.html#cb15-15" tabindex="-1"></a>    <span class="at">company =</span> <span class="fu">map_chr</span>(filepath, <span class="sc">~</span><span class="fu">str_split</span>(<span class="fu">str_split</span>(., <span class="st">&quot;/&quot;</span>)[[<span class="dv">1</span>]][<span class="dv">5</span>], <span class="st">&quot;__&quot;</span>)[[<span class="dv">1</span>]][<span class="dv">1</span>])</span>
<span id="cb15-16"><a href="results.html#cb15-16" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(company <span class="sc">!=</span> <span class="st">&quot;MEAB GmbH&quot;</span>)</span>
<span id="cb15-17"><a href="results.html#cb15-17" tabindex="-1"></a></span>
<span id="cb15-18"><a href="results.html#cb15-18" tabindex="-1"></a>model_by_size <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb15-19"><a href="results.html#cb15-19" tabindex="-1"></a>  <span class="st">&#39;gemma-3-4b-it&#39;</span>, <span class="co">#&#39;gemma-3n-E4B-it&#39;, </span></span>
<span id="cb15-20"><a href="results.html#cb15-20" tabindex="-1"></a>  <span class="st">&quot;gemma-3-12b-it&quot;</span>, <span class="st">&quot;gemma-3-27b-it&quot;</span>,</span>
<span id="cb15-21"><a href="results.html#cb15-21" tabindex="-1"></a>  <span class="st">&quot;gpt-oss-20b&quot;</span>, <span class="st">&quot;gpt-oss-120b&quot;</span>,</span>
<span id="cb15-22"><a href="results.html#cb15-22" tabindex="-1"></a>  <span class="st">&quot;Llama-3.1-8B-Instruct&quot;</span>, <span class="st">&quot;Llama-3.1-70B-Instruct&quot;</span>, <span class="st">&quot;Llama-3.3-70B-Instruct&quot;</span>,</span>
<span id="cb15-23"><a href="results.html#cb15-23" tabindex="-1"></a>  <span class="st">&quot;Llama-4-Scout-17B-16E-Instruct&quot;</span>, <span class="st">&quot;Llama-4-Maverick-17B-128E-Instruct-FP8&quot;</span>,</span>
<span id="cb15-24"><a href="results.html#cb15-24" tabindex="-1"></a>  <span class="st">&quot;Ministral-8B-Instruct-2410&quot;</span>, <span class="st">&quot;Mistral-Small-3.1-24B-Instruct-2503&quot;</span>,</span>
<span id="cb15-25"><a href="results.html#cb15-25" tabindex="-1"></a>  <span class="st">&quot;Mistral-Large-Instruct-2411&quot;</span>, <span class="st">&quot;Qwen2.5-0.5B-Instruct&quot;</span>,</span>
<span id="cb15-26"><a href="results.html#cb15-26" tabindex="-1"></a>  <span class="st">&quot;Qwen2.5-1.5B-Instruct&quot;</span>, <span class="st">&quot;Qwen2.5-3B-Instruct&quot;</span>, <span class="st">&quot;Qwen2.5-7B-Instruct&quot;</span>,</span>
<span id="cb15-27"><a href="results.html#cb15-27" tabindex="-1"></a>  <span class="st">&quot;Qwen2.5-14B-Instruct&quot;</span>, <span class="st">&quot;Qwen2.5-32B-Instruct&quot;</span>, <span class="st">&quot;Qwen2.5-72B-Instruct&quot;</span>,</span>
<span id="cb15-28"><a href="results.html#cb15-28" tabindex="-1"></a>  <span class="st">&quot;Qwen3-0.6B&quot;</span>, <span class="st">&quot;Qwen3-1.7B&quot;</span>, <span class="st">&quot;Qwen3-4B&quot;</span>,</span>
<span id="cb15-29"><a href="results.html#cb15-29" tabindex="-1"></a>  <span class="st">&quot;Qwen3-8B&quot;</span>, <span class="st">&quot;Qwen3-14B&quot;</span>, <span class="st">&quot;Qwen3-30B-A3B-Instruct-2507&quot;</span>, <span class="st">&quot;Qwen3-32B&quot;</span>,</span>
<span id="cb15-30"><a href="results.html#cb15-30" tabindex="-1"></a>  <span class="st">&quot;Qwen3-235B-A22B-Instruct-2507-FP8&quot;</span>, <span class="st">&quot;Qwen3-235B-A22B-Instruct-2507&quot;</span>,</span>
<span id="cb15-31"><a href="results.html#cb15-31" tabindex="-1"></a>  <span class="co"># &quot;gpt-4.1-nano&quot;, &quot;gpt-4.1-mini&quot;, &quot;gpt-4.1&quot;,</span></span>
<span id="cb15-32"><a href="results.html#cb15-32" tabindex="-1"></a>  <span class="st">&quot;Falcon3-10B-Instruct&quot;</span>, <span class="st">&quot;phi-4&quot;</span></span>
<span id="cb15-33"><a href="results.html#cb15-33" tabindex="-1"></a>)</span>
<span id="cb15-34"><a href="results.html#cb15-34" tabindex="-1"></a></span>
<span id="cb15-35"><a href="results.html#cb15-35" tabindex="-1"></a>method_order <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;top_n_rag_examples&quot;</span>, <span class="st">&quot;n_random_examples&quot;</span>, <span class="st">&quot;top_n_rag_examples_out_of_sample&quot;</span>, <span class="st">&quot;static_example&quot;</span>, <span class="st">&quot;zero_shot&quot;</span> )</span>
<span id="cb15-36"><a href="results.html#cb15-36" tabindex="-1"></a></span>
<span id="cb15-37"><a href="results.html#cb15-37" tabindex="-1"></a>norm_factors <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;../benchmark_jobs/page_identification/gpu_benchmark/runtime_factors_real_table_extraction.csv&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-38"><a href="results.html#cb15-38" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-39"><a href="results.html#cb15-39" tabindex="-1"></a>    <span class="at">model_name =</span> model_name <span class="sc">%&gt;%</span> <span class="fu">str_replace</span>(<span class="st">&quot;/&quot;</span>, <span class="st">&quot;_&quot;</span>)</span>
<span id="cb15-40"><a href="results.html#cb15-40" tabindex="-1"></a>  )</span>
<span id="cb15-41"><a href="results.html#cb15-41" tabindex="-1"></a>norm_factors_few_examples <span class="ot">&lt;-</span> norm_factors <span class="sc">%&gt;%</span> <span class="fu">filter</span>((<span class="fu">str_ends</span>(filename, <span class="st">&quot;binary.yaml&quot;</span>) <span class="sc">|</span> <span class="fu">str_ends</span>(filename, <span class="st">&quot;multi.yaml&quot;</span>) <span class="sc">|</span> <span class="fu">str_ends</span>(filename, <span class="st">&quot;vllm_batched.yaml&quot;</span>)))</span>
<span id="cb15-42"><a href="results.html#cb15-42" tabindex="-1"></a></span>
<span id="cb15-43"><a href="results.html#cb15-43" tabindex="-1"></a>df_real_table_extraction <span class="ot">&lt;-</span> df_real_table_extraction <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(</span>
<span id="cb15-44"><a href="results.html#cb15-44" tabindex="-1"></a>  norm_factors_few_examples <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">model_name =</span> <span class="fu">gsub</span>(<span class="st">&quot;^[^_]+_&quot;</span>, <span class="st">&quot;&quot;</span>, model_name)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(model_name, parameter_count, normalization_factor),</span>
<span id="cb15-45"><a href="results.html#cb15-45" tabindex="-1"></a>  <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;model&quot;</span> <span class="ot">=</span> <span class="st">&quot;model_name&quot;</span>)</span>
<span id="cb15-46"><a href="results.html#cb15-46" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">normalized_runtime =</span> <span class="fu">round</span>(runtime<span class="sc">*</span>normalization_factor, <span class="dv">0</span>))</span>
<span id="cb15-47"><a href="results.html#cb15-47" tabindex="-1"></a></span>
<span id="cb15-48"><a href="results.html#cb15-48" tabindex="-1"></a>df_overview <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(df_real_table_extraction, df_real_table_extraction_azure) <span class="sc">%&gt;%</span> </span>
<span id="cb15-49"><a href="results.html#cb15-49" tabindex="-1"></a>  <span class="fu">filter</span>(out_of_company <span class="sc">!=</span> <span class="cn">TRUE</span> <span class="sc">|</span> <span class="fu">is.na</span>(out_of_company), n_examples <span class="sc">&lt;=</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-50"><a href="results.html#cb15-50" tabindex="-1"></a>  <span class="fu">filter</span>(model <span class="sc">%in%</span> model_by_size) <span class="sc">%&gt;%</span></span>
<span id="cb15-51"><a href="results.html#cb15-51" tabindex="-1"></a>  <span class="fu">filter</span>(n_examples <span class="sc">!=</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-52"><a href="results.html#cb15-52" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-53"><a href="results.html#cb15-53" tabindex="-1"></a>    <span class="at">model =</span> <span class="fu">factor</span>(model, <span class="at">levels =</span> model_by_size),</span>
<span id="cb15-54"><a href="results.html#cb15-54" tabindex="-1"></a>    <span class="at">method_family =</span> <span class="fu">factor</span>(method_family, <span class="at">levels =</span> method_order),</span>
<span id="cb15-55"><a href="results.html#cb15-55" tabindex="-1"></a>    <span class="at">n_examples =</span> <span class="fu">fct_rev</span>(<span class="fu">ordered</span>(<span class="fu">paste</span>(<span class="st">&quot;n =&quot;</span>, n_examples)))</span>
<span id="cb15-56"><a href="results.html#cb15-56" tabindex="-1"></a>    )</span>
<span id="cb15-57"><a href="results.html#cb15-57" tabindex="-1"></a></span>
<span id="cb15-58"><a href="results.html#cb15-58" tabindex="-1"></a>units_real_tables <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;../benchmark_truth/real_tables_extended/table_characteristics_more_examples.csv&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb15-59"><a href="results.html#cb15-59" tabindex="-1"></a>  <span class="at">filepath =</span> <span class="fu">paste0</span>(<span class="st">&#39;/pvc/benchmark_truth/real_tables_extended/&#39;</span>, company, <span class="st">&#39;__&#39;</span>, filename),</span>
<span id="cb15-60"><a href="results.html#cb15-60" tabindex="-1"></a>  <span class="at">T_EUR =</span> (T_in_year <span class="sc">+</span> T_in_previous_year)<span class="sc">&gt;</span><span class="dv">0</span>,</span>
<span id="cb15-61"><a href="results.html#cb15-61" tabindex="-1"></a>  <span class="at">T_EUR_both =</span> (T_in_year <span class="sc">+</span> T_in_previous_year)<span class="sc">&gt;</span><span class="dv">1</span>,</span>
<span id="cb15-62"><a href="results.html#cb15-62" tabindex="-1"></a>  <span class="at">n_T_EUR =</span> T_in_year <span class="sc">+</span> T_in_previous_year</span>
<span id="cb15-63"><a href="results.html#cb15-63" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(filepath, T_EUR, T_EUR_both, n_T_EUR)</span>
<span id="cb15-64"><a href="results.html#cb15-64" tabindex="-1"></a></span>
<span id="cb15-65"><a href="results.html#cb15-65" tabindex="-1"></a>df_real_table_extraction <span class="ot">&lt;-</span> df_real_table_extraction <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(units_real_tables) <span class="sc">%&gt;%</span> </span>
<span id="cb15-66"><a href="results.html#cb15-66" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-67"><a href="results.html#cb15-67" tabindex="-1"></a>    <span class="at">.before =</span> <span class="dv">1</span>, </span>
<span id="cb15-68"><a href="results.html#cb15-68" tabindex="-1"></a>    <span class="at">company =</span> <span class="fu">map_chr</span>(filepath, <span class="sc">~</span><span class="fu">str_split</span>(<span class="fu">str_split</span>(., <span class="st">&quot;/&quot;</span>)[[<span class="dv">1</span>]][<span class="dv">5</span>], <span class="st">&quot;__&quot;</span>)[[<span class="dv">1</span>]][<span class="dv">1</span>]),</span>
<span id="cb15-69"><a href="results.html#cb15-69" tabindex="-1"></a>    <span class="at">same_company =</span> <span class="sc">!</span>out_of_company</span>
<span id="cb15-70"><a href="results.html#cb15-70" tabindex="-1"></a>    )</span>
<span id="cb15-71"><a href="results.html#cb15-71" tabindex="-1"></a>df_real_table_extraction_synth <span class="ot">&lt;-</span> df_real_table_extraction_synth <span class="sc">%&gt;%</span> </span>
<span id="cb15-72"><a href="results.html#cb15-72" tabindex="-1"></a>  <span class="fu">left_join</span>(units_real_tables) <span class="sc">%&gt;%</span> </span>
<span id="cb15-73"><a href="results.html#cb15-73" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-74"><a href="results.html#cb15-74" tabindex="-1"></a>    <span class="at">.before =</span> <span class="dv">1</span>, </span>
<span id="cb15-75"><a href="results.html#cb15-75" tabindex="-1"></a>    <span class="at">company =</span> <span class="fu">map_chr</span>(filepath, <span class="sc">~</span><span class="fu">str_split</span>(<span class="fu">str_split</span>(., <span class="st">&quot;/&quot;</span>)[[<span class="dv">1</span>]][<span class="dv">5</span>], <span class="st">&quot;__&quot;</span>)[[<span class="dv">1</span>]][<span class="dv">1</span>]),</span>
<span id="cb15-76"><a href="results.html#cb15-76" tabindex="-1"></a>    <span class="at">same_company =</span> <span class="sc">!</span>out_of_company</span>
<span id="cb15-77"><a href="results.html#cb15-77" tabindex="-1"></a>    )</span></code></pre></div>
</details>

<p>The second research question asks, how <a href="glossary.html#acronyms_LLM">LLM</a>s can be used, to effectively extract specific information from a financial report. The task for this thesis is to extract the numeric values for the assets (<em>Aktiva</em>) table, which is part of the balance sheet (<em>Bilanz</em>). Hereafter, the German term <strong>Aktiva</strong> will be used. We are limiting the scope even further than in Subsection <a href="results.html#page-identification-introduction">5.1</a>, because it takes more time to manually create the first reference dataset.</p>
<div id="section-2" class="section level3 unlisted unnumbered">
<h3 class="unlisted unnumbered"></h3>
<div id="structured-output" class="section level5 hasAnchor paragraph-start" number="5.2.0.0.1">
<h5><span class="header-section-number">5.2.0.0.1</span> Structured output<a href="results.html#structured-output" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We use a strict schema for the extraction process that is derived from the legal text <span class="citation">(<a href="#ref-hgbHandelsgesetzbuchImBundesgesetzblatt2025">HGB, 2025, Section 266</a>)</span>. Actually, there are three types of verbosity, that are defined in the law. Smaller companies are permitted to create less detailed balance sheets. Our schema is created based on the most detailed level. This is the form most often found in the document base<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>.</p>
</div>
<p>Using a strict schema has advantages for processing the results in downstream tasks - i.e.Â for adding the results to a relational database. It is also easier to compare the results with a ground truth, if the names of all rows and their order is fixed. The schema is defined as <a href="glossary.html#acronyms_ebnf">ebnf (extended BackusâNaur form)</a> grammar and passed as an argument to <a href="glossary.html#acronyms_vllm">vLLM</a>.</p>
<div id="gound-truth-dataset" class="section level5 hasAnchor paragraph-start" number="5.2.0.0.2">
<h5><span class="header-section-number">5.2.0.0.2</span> Gound truth dataset<a href="results.html#gound-truth-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>For the information extraction we use two datasets. First, a collection of 107 real <strong>Aktiva</strong> tables is created, going through two sampling iterations. In the first iteration a single report is selected for each company. In addition, all available reports from the first listed company are chosen, to test an in-company learning approach. In the second iteration more reports of the other companies are added, to increase the ground truth size and to allow testing the in-company approach for all companies.</p>
</div>
<p>Second, a dataset of 16_504 synthetic <strong>Aktiva</strong> tables is created. We generate these tables based on the extraction schema and fill them with random numeric values. Different table characteristics are systematically combined, to investigate potential effects of these features on the extraction performance. The tables are created as <a href="glossary.html#acronyms_PDF">PDF</a>, <a href="glossary.html#acronyms_HTML">HTML</a> and Markdown files each. This dataset allows to estimate the extraction performance, if there are no unknown row identifiers present.</p>
</div>
<div id="approaches-2" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Approaches<a href="results.html#approaches-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="regular-expressions-3" class="section level5 hasAnchor paragraph-start" number="5.2.1.0.1">
<h5><span class="header-section-number">5.2.1.0.1</span> Regular expressions<a href="results.html#regular-expressions-3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We use regular expressions to extract the numeric values for matching row identifiers. The regular expressions handle line breaks between words in the row identifiers, but not within a word. They can handle multiple signs of white space. Besides that, they try to fully match the labels from the legal text with the text extract, ignoring upper case. They extract numbers with â.â as thousands separator.</p>
</div>
<div id="real-tables-1" class="section level5 hasAnchor paragraph-start" number="5.2.1.0.2">
<h5><span class="header-section-number">5.2.1.0.2</span> Real tables<a href="results.html#real-tables-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We use <a href="glossary.html#acronyms_LLM">LLM</a>s to extract the numeric values of real <strong>Aktiva</strong> tables with restricted generation. The <a href="glossary.html#acronyms_LLM">LLM</a> has to group row identifiers and corresponding numeric values and match the row identifier with the labels of the schema. If a row identifier is unknown, the values have to be discarded. If a label is not present among the row identifiers, the model predicts <em>null</em>. All values are extracted in one pass. We do not include any instruction, how to proceed with currency units, that might be given for certain columns.</p>
</div>
<p>We test a wide range of open-weight models and compare different prompting techniques. Besides a zero shot approach we test few-shot in-context learning with examples that are either chosen randomly or retrieved based on their vector similarity. Finally, we test passing a synthetic <strong>Aktiva</strong> table as example. We test models from OpenAIs GPT family in addition to the open-weight models.</p>
<div id="synthetic-tables-1" class="section level5 hasAnchor paragraph-start" number="5.2.1.0.3">
<h5><span class="header-section-number">5.2.1.0.3</span> Synthetic tables<a href="results.html#synthetic-tables-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We use <a href="glossary.html#acronyms_LLM">LLM</a>s to extract the numeric values of synthetic <strong>Aktiva</strong> tables with restricted generation. The procedure is identical as with the real <strong>Aktiva</strong> tables. We extract all values with and without an explicit instruction on how to proceed with currency units. We limit our test on the open-weight models.</p>
</div>
<div id="hybrid-approach-1" class="section level5 hasAnchor paragraph-start" number="5.2.1.0.4">
<h5><span class="header-section-number">5.2.1.0.4</span> Hybrid approach<a href="results.html#hybrid-approach-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We use <a href="glossary.html#acronyms_LLM">LLM</a>s to extract the numeric values of real <strong>Aktiva</strong> tables with restricted generation, providing examples from synthetic <strong>Aktiva</strong> tables. The procedure is identical as with the real <strong>Aktiva</strong> tables. We extract all values with and without an explicit instruction on how to proceed with currency units. We limit our test on the open-weight models.</p>
</div>
</div>
<div id="comparing-table-extraction-methods" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Comparison<a href="results.html#comparing-table-extraction-methods" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This subsection compares the results for the table extraction tasks. It will discuss the findings about performance and runtime and compare it with the results a human may achieve wit manual labor. The detailed report on all experiments conducted in their results can be found in the Appendix <a href="information-extraction-report.html#information-extraction-report">9</a>. The evaluation of feature importance can be found in Appendix <a href="feature-effect-analysis.html#feature-effect-analysis">11</a>.</p>
<div id="performance" class="section level5 hasAnchor paragraph-start" number="5.2.2.0.1">
<h5><span class="header-section-number">5.2.2.0.1</span> Performance<a href="results.html#performance" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Table <a href="results.html#tab:compare-extraction-performance">5.4</a> summarizes the mean percentage of correct predictions total for all approaches and both types of <strong>Aktiva</strong> tables. The highest baseline for the extraction tasks is set by our own manual performance. We achieve 97.6 % correct extracted values on the real <strong>Aktiva</strong> tables. The <a href="glossary.html#acronyms_regex">regex</a> performance on the synthetic <strong>Aktiva</strong> tables comes close but on real <strong>Aktiva</strong> tables it is far off.</p>
</div>
<p>The mean performance of Qwen3-235B does not match our baseline on the real <strong>Akiva</strong> tables. But its median performance already is 100 %.</p>
<p>On synthetic tables its mean performance is almost perfect, if currency units get respected. With HTML documents we find 100 % correct predictions. With Markdown documents we find 99.9 % correct predictions as well. Figure <a href="figure-collection.html#fig:comparing-table-extraction-performance-among-real-and-synth-aktiva-data">14.9</a> shows, that the better performance on the synthetic tables is found for almost all models.</p>
<p>Qwen3-8B performed best among the small models <a href="glossary.html#acronyms_LLM">LLM</a>s but shows over 4 % more wrong predictions than Qwen3-235B.</p>
<p>Using synthetic examples results in worse performance. But it can be used to show how to handle currency units.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="results.html#cb16-1" tabindex="-1"></a><span class="fu">tribble</span>(</span>
<span id="cb16-2"><a href="results.html#cb16-2" tabindex="-1"></a>  <span class="sc">~</span>approach, <span class="sc">~</span>strategy, <span class="sc">~</span>table_type, <span class="sc">~</span>percentage_correct_total,</span>
<span id="cb16-3"><a href="results.html#cb16-3" tabindex="-1"></a>  <span class="st">&quot;human&quot;</span>, <span class="st">&quot;manual&quot;</span>, <span class="st">&quot;real&quot;</span>, <span class="fl">97.6</span>,</span>
<span id="cb16-4"><a href="results.html#cb16-4" tabindex="-1"></a>  <span class="st">&quot;regex&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;real&quot;</span>, <span class="fl">68.6</span>,</span>
<span id="cb16-5"><a href="results.html#cb16-5" tabindex="-1"></a>  <span class="st">&quot;llm&quot;</span>, <span class="st">&quot;Qwen3-235B, top_5_rag_examples&quot;</span>, <span class="st">&quot;real&quot;</span>, <span class="fl">97.0</span>,</span>
<span id="cb16-6"><a href="results.html#cb16-6" tabindex="-1"></a>  <span class="st">&quot;llm&quot;</span>, <span class="st">&quot;Qwen3-8B, top_5_rag_examples&quot;</span>, <span class="st">&quot;real&quot;</span>, <span class="fl">92.7</span>,</span>
<span id="cb16-7"><a href="results.html#cb16-7" tabindex="-1"></a>  <span class="st">&quot;llm&quot;</span>, <span class="st">&quot;Qwen3-235B, top_5_rag_examples, synth examples&quot;</span>, <span class="st">&quot;real&quot;</span>, <span class="fl">91.8</span>,</span>
<span id="cb16-8"><a href="results.html#cb16-8" tabindex="-1"></a>  <span class="st">&quot;regex&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;synth&quot;</span>, <span class="fl">96.9</span>,</span>
<span id="cb16-9"><a href="results.html#cb16-9" tabindex="-1"></a>  <span class="st">&quot;llm&quot;</span>, <span class="st">&quot;Qwen3-235B, top_5_rag_examples, respect_units&quot;</span>, <span class="st">&quot;synth&quot;</span>, <span class="fl">99.9</span>,</span>
<span id="cb16-10"><a href="results.html#cb16-10" tabindex="-1"></a>  <span class="st">&quot;llm&quot;</span>, <span class="st">&quot;Qwen3-8B, top_5_rag_examples&quot;</span>, <span class="st">&quot;synth&quot;</span>, <span class="fl">94.6</span>,</span>
<span id="cb16-11"><a href="results.html#cb16-11" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="co"># arrange(table_type) %&gt;% </span></span>
<span id="cb16-12"><a href="results.html#cb16-12" tabindex="-1"></a>  <span class="fu">group_by</span>(table_type) <span class="sc">%&gt;%</span> </span>
<span id="cb16-13"><a href="results.html#cb16-13" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb16-14"><a href="results.html#cb16-14" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb16-15"><a href="results.html#cb16-15" tabindex="-1"></a>      <span class="fu">c</span>(percentage_correct_total),</span>
<span id="cb16-16"><a href="results.html#cb16-16" tabindex="-1"></a>      <span class="sc">~</span><span class="fu">ifelse</span>(      </span>
<span id="cb16-17"><a href="results.html#cb16-17" tabindex="-1"></a>        . <span class="sc">==</span> <span class="fu">max</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb16-18"><a href="results.html#cb16-18" tabindex="-1"></a>        <span class="fu">paste0</span>(<span class="st">&quot;**&quot;</span>, <span class="fu">round</span>(., <span class="dv">3</span>), <span class="st">&quot;**&quot;</span>),</span>
<span id="cb16-19"><a href="results.html#cb16-19" tabindex="-1"></a>        <span class="fu">round</span>(., <span class="dv">3</span>)</span>
<span id="cb16-20"><a href="results.html#cb16-20" tabindex="-1"></a>        )</span>
<span id="cb16-21"><a href="results.html#cb16-21" tabindex="-1"></a>      )) <span class="sc">%&gt;%</span> </span>
<span id="cb16-22"><a href="results.html#cb16-22" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">mean_percentage_correct_total =</span> percentage_correct_total) <span class="sc">%&gt;%</span> </span>
<span id="cb16-23"><a href="results.html#cb16-23" tabindex="-1"></a>  <span class="fu">render_table</span>(</span>
<span id="cb16-24"><a href="results.html#cb16-24" tabindex="-1"></a>    <span class="at">alignment =</span> <span class="st">&quot;lllr&quot;</span>,</span>
<span id="cb16-25"><a href="results.html#cb16-25" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Comparing the mean percentage of correct predictions total among all approaches and table types.&quot;</span>,</span>
<span id="cb16-26"><a href="results.html#cb16-26" tabindex="-1"></a>    <span class="at">ref =</span> opts_current<span class="sc">$</span><span class="fu">get</span>(<span class="st">&quot;label&quot;</span>),</span>
<span id="cb16-27"><a href="results.html#cb16-27" tabindex="-1"></a>    <span class="at">row_group_col =</span> <span class="dv">3</span></span>
<span id="cb16-28"><a href="results.html#cb16-28" tabindex="-1"></a>    )</span></code></pre></div>
</details>
<table>
<caption>
<span id="tab:compare-extraction-performance">Table 5.4: </span>Comparing the mean percentage of correct predictions total among all approaches and table types.
</caption>
</table>
<div class="datatables html-widget html-fill-item" id="htmlwidget-4c27583d4e0467f66a7b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4c27583d4e0467f66a7b">{"x":{"filter":"none","vertical":false,"extensions":["RowGroup"],"data":[["1","2","3","4","5","6","7","8"],["human","regex","llm","llm","llm","regex","llm","llm"],["manual","","Qwen3-235B, top_<wbr>5_<wbr>rag_<wbr>examples","Qwen3-8B, top_<wbr>5_<wbr>rag_<wbr>examples","Qwen3-235B, top_<wbr>5_<wbr>rag_<wbr>examples, synth examples","","Qwen3-235B, top_<wbr>5_<wbr>rag_<wbr>examples, respect_<wbr>units","Qwen3-8B, top_<wbr>5_<wbr>rag_<wbr>examples"],["real","real","real","real","real","synth","synth","synth"],["<b>97.6<\/b>","68.6","97","92.7","91.8","96.9","<b>99.9<\/b>","94.6"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>approach<\/th>\n      <th>strategy<\/th>\n      <th>table type<\/th>\n      <th>mean percentage correct total<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"dom":"tiprfl","rowGroup":{"dataSrc":3},"ordering":false,"columnDefs":[{"visible":false,"targets":3},{"targets":0,"className":"dt-left"},{"targets":1,"className":"dt-left"},{"targets":2,"className":"dt-left"},{"targets":3,"className":"dt-left"},{"targets":4,"className":"dt-right"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"approach","targets":1},{"name":"strategy","targets":2},{"name":"table type","targets":3},{"name":"mean percentage correct total","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="runtime" class="section level5 hasAnchor paragraph-start" number="5.2.2.0.2">
<h5><span class="header-section-number">5.2.2.0.2</span> Runtime<a href="results.html#runtime" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Extracting the values from all 106 tables took Qwen3-235B around six minutes. Thus, excluding the setup time for the LLM, Qwen3-235B-A22B-Instruct is around 100 times faster than a human.</p>
</div>
<div id="hypotheses-1" class="section level5 hasAnchor paragraph-start" number="5.2.2.0.3">
<h5><span class="header-section-number">5.2.2.0.3</span> Hypotheses<a href="results.html#hypotheses-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The predictor that shows a strong effect in all approaches is currency unit. Reflecting this in the table extraction is a key factor to optimize the performance. For the approaches that use <a href="glossary.html#acronyms_LLM">LLM</a>s most of the model and method related variables showed a strong effect. Using a versatile model and providing good learning examples is mandatory.</p>
</div>
<p>The findings from approaches utilizing synthetic tables suggest that the input format can have a substantial influence on extraction outcomes. It appears important to prevent errors during text extraction, and converting the extracted text to HTML may help resolve remaining ambiguities. However, it remains unclear whether a perfect text extract would perform as well as HTML or Markdown formats.</p>
</div>
</div>
<div id="error-rate-guidance-results" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Error rate guidance<a href="results.html#error-rate-guidance-results" class="anchor-section" aria-label="Anchor link to header"></a></h2>

<p>The side research question asks, if it is possible to guide the users attention to predictions that have a higher empirical rate of errors. In this thesis we focus on the confidence score calculated from the reported log probabilities.</p>
<p>Subsection <a href="results.html#page-identification-error-rate-results">5.3.1</a> presents the results found regarding our side research question for the page identification task. Subsection <a href="results.html#information-extraction-error-rate-results">5.3.2</a> presents the results found regarding our side research question for the information extraction task. The detailed report can be found in the Appendix <a href="error-guidance-report.html#error-guidance-report">10</a>.</p>
<div id="page-identification-error-rate-results" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Page identification<a href="results.html#page-identification-error-rate-results" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We find, that the confidence score can be used in the page identification task, to identify confidence intervals, that contain no or only a few errors. The amount of predictions in these intervals varies among models, classification task and target class.</p>
<div id="binary-classification" class="section level5 hasAnchor paragraph-start" number="5.3.1.0.1">
<h5><span class="header-section-number">5.3.1.0.1</span> Binary classification<a href="results.html#binary-classification" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Distinguishing correct and wrong classifications based on the confidence score is working well for the responses of Ministral-8B-Instruct. But for other models, e.g.Â from the Qwen family, it works worse. This is possible, because Ministral-8B-Instruct reports confidence scores over a wide range, while models from the Qwen 2.5 family report always high confidence.</p>
</div>
<p>Thus, it is possible to define a wide range of confidence intervals, where we find a empirical error rate of zero for Ministral. For Qwen 2.5 32B we find the highest confidence interval containing some mistakes, But it is still good with less 1 %. Most predictions are in the highest confidence score interval for both models.</p>
<div id="multi-class-classification" class="section level5 hasAnchor paragraph-start" number="5.3.1.0.2">
<h5><span class="header-section-number">5.3.1.0.2</span> Multi-class classification<a href="results.html#multi-class-classification" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Distinguishing correct and wrong classifications based on the confidence score is still working well for the responses of Ministral-8B-Instruct, predicting <strong>Aktiva</strong> and <strong>GuV</strong>. For <strong>Passiva</strong> we find a single wrong prediciton in the highest confidence interval. For Llama 4 Scout it is working for the target classes <strong>Aktiva</strong> and <strong>Passiva</strong>. For Qwen 2.5 32B it works worst among those three - still well performing - models.</p>
</div>
<p>For Ministral we find a empirical error rate of zero for the highest confidence interval, except for <strong>Passiva</strong>. For Llama we find an error rate lesst than 1 % for all classes. For Qwen 2.5 32B only <strong>Passiva</strong> has a high confidence interval with less than 1 % error rate. Most predictions are in the highest confidence score interval for all models again.</p>
</div>
<div id="information-extraction-error-rate-results" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Information extraction<a href="results.html#information-extraction-error-rate-results" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We find, that the confidence score can not be used alone in the information extraction task, to identify confidence intervals, that contain no or only a few errors. There are only few exceptions, where we achieve an error rate of under 1 % over all annual reports. We just report the results of the best performing model here.</p>
<div id="real-tables-2" class="section level5 hasAnchor paragraph-start" number="5.3.2.0.1">
<h5><span class="header-section-number">5.3.2.0.1</span> Real tables<a href="results.html#real-tables-2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>For the best predicting model Qwen3-235B-A22B-Instruct, we find an empirical error rate of 1.3 % for predicting a missing value and 3.3 % for predicting numeric values. Almost all predictions fall in the highest confidence interval. Making the interval width smaller, does not result in intervals with lower error rate.</p>
</div>
<div id="synthetic-tables-2" class="section level5 hasAnchor paragraph-start" number="5.3.2.0.2">
<h5><span class="header-section-number">5.3.2.0.2</span> Synthetic tables<a href="results.html#synthetic-tables-2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>For the best predicting model Qwen3-235B-A22B-Instruct, we find an empirical error rate below 1 % for predicting a missing value and numeric values, if we explicitly instruct the model to handle currency units. If the input format is not a text extracted from a <a href="glossary.html#acronyms_PDF">PDF</a> file, but perfect <a href="glossary.html#acronyms_HTML">HTML</a> code the error rate gets 0 %. With perfect Markdown code the error rate is above 0 % but below 1 %.</p>
</div>
<div id="hybrid-approach-2" class="section level5 hasAnchor paragraph-start" number="5.3.2.0.3">
<h5><span class="header-section-number">5.3.2.0.3</span> Hybrid approach<a href="results.html#hybrid-approach-2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>For the best predicting model Qwen3-235B-A22B-Instruct, we find an empirical error rate below 4 % for predicting a missing value and around 20 % to 26 % for predicting numeric values. The values is lower, if we explicitly instruct the model to handle currency units.</p>
</div>
</div>
</div>
<div id="summary-results" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Summary<a href="results.html#summary-results" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In summary, the results presented in this chapter demonstrate the effectiveness of <a href="glossary.html#acronyms_LLM">LLM</a>s for both page identification and information extraction tasks in financial reports. <a href="glossary.html#acronyms_LLM">LLM</a>-based approaches consistently outperform traditional methods, achieving high recall and precision, and enabling efficient automation of information extraction. The experiments further highlight the importance of input format and model selection, as well as the potential for guiding user attention through confidence scores.</p>
<p>These findings provide a solid foundation for the subsequent discussion, where we interpret the results in the context of our research questions and hypotheses, analyze sources of error, and explore practical implications for future applications.</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-hgbHandelsgesetzbuchImBundesgesetzblatt2025" class="csl-entry">
HGB. (2025). <em>Handelsgesetzbuch in der im <span>Bundesgesetzblatt Teil III</span>, <span>Gliederungsnummer</span> 4100-1, ver<span>Ã¶</span>ffentlichten bereinigten <span>Fassung</span>, das zuletzt durch <span>Artikel</span> 1 des <span>Gesetzes</span> vom 28. <span>Februar</span> 2025 (<span>BGBl</span>. 2025 <span>I Nr</span>. 69) ge<span>Ã¤</span>ndert worden ist</em>.
</div>
<div id="ref-liExtractingFinancialData2023" class="csl-entry">
Li, H., Gao, H. (Harry)., Wu, C., &amp; Vasarhelyi, M. A. (2023). <em>Extracting <span>Financial Data</span> from <span>Unstructured Sources</span>: <span>Leveraging Large Language Models</span></em> ({{SSRN Scholarly Paper}} 4567607). Social Science Research Network. <a href="https://doi.org/10.2139/ssrn.4567607">https://doi.org/10.2139/ssrn.4567607</a>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="4">
<li id="fn4"><p>Our personal opinion: Developing well performing regular expressions can be a very tedious and setting appropriate rules requires some domain knowledge. It can be worth the effort if there are a lot of documents with similar information to extract. For this thesis it took multiple months. At least, now there is kind of a pipeline one can reuse, exchanging the rules and key word lists. Thus the next similar task should be solved faster.<a href="results.html#fnref4" class="footnote-back">â©ï¸</a></p></li>
<li id="fn5"><p>In some cases the information of interest is spanning two pages. These rare cases are not covered from the approaches presented here, yet.<a href="results.html#fnref5" class="footnote-back">â©ï¸</a></p></li>
<li id="fn6"><p>Unfortunately, well known companies as BVG and BSR publish a less detailed form. Thus, their documents are not included in the document base for this task.<a href="results.html#fnref6" class="footnote-back">â©ï¸</a></p></li>
</ol>
</div>
<script>
// Lightbox functionality for displaying images in a modal view
document.addEventListener("DOMContentLoaded", function () {
  // Create a lightbox container
  const lightbox = document.createElement("div");
  lightbox.id = "lightbox";
  lightbox.style.position = "fixed";
  lightbox.style.top = "0";
  lightbox.style.left = "0";
  lightbox.style.width = "100%";
  lightbox.style.height = "100%";
  lightbox.style.backgroundColor = "rgba(0, 0, 0, 0.8)";
  lightbox.style.display = "none";
  lightbox.style.justifyContent = "center";
  lightbox.style.alignItems = "center";
  lightbox.style.zIndex = "1000";
  document.body.appendChild(lightbox);

  // Add an image element to the lightbox
  const lightboxImage = document.createElement("img");
  lightboxImage.id = "lightbox-image";
  // lightboxImage.style.maxWidth = "90%";
  // lightboxImage.style.maxHeight = "90%";
  lightbox.appendChild(lightboxImage);

  // Close lightbox on click
  lightbox.addEventListener("click", function () {
    lightbox.style.display = "none";
  });

  // Add onclick event to all images except the excluded one
  const images = document.querySelectorAll("img");
  images.forEach((img) => {
    if (img.src.includes("images/BHT_Logo_horizontal_Anthrazit_transparent.svg")) {
      return; // Skip the excluded image
    }
    img.style.cursor = "pointer"; // Change cursor to indicate clickability
    img.addEventListener("click", function () {
      lightboxImage.src = img.src; // Set the lightbox image source
      lightbox.style.display = "flex"; // Show the lightbox
    });
  });
});
</script>

<script>
// Image slider/carousel functionality for divs with class "image-slider"
document.addEventListener("DOMContentLoaded", function () {
  document.querySelectorAll('.image-slider').forEach(function (slider) {
    const images = slider.querySelectorAll('img');
    if (images.length < 2) return; // No need for slider if only one image

    // Hide all images except the first
    images.forEach((img, i) => img.style.display = i === 0 ? 'inline' : 'none');
    let current = 0;

    // Create navigation buttons
    const prevBtn = document.createElement('button');
    prevBtn.textContent = 'â¨ Prev';
    prevBtn.style.marginRight = '10px';
    const nextBtn = document.createElement('button');
    nextBtn.textContent = 'Next â©';
    nextBtn.style.marginLeft = '10px';

    // Create a caption container
    const captionContainer = document.createElement('div');
    captionContainer.style.fontStyle = 'italic';
    captionContainer.style.color = '#555';

    // Create a flex container for buttons and caption
    const controlsContainer = document.createElement('div');
    controlsContainer.style.display = 'flex';
    controlsContainer.style.justifyContent = 'space-between';
    controlsContainer.style.alignItems = 'center';
    controlsContainer.style.marginTop = '10px';
    controlsContainer.style.width = '100%';

    // Place buttons and caption in flex container
    controlsContainer.appendChild(prevBtn);
    controlsContainer.appendChild(captionContainer);
    controlsContainer.appendChild(nextBtn);

    // Function to update the caption
    const updateCaption = () => {
      const caption = images[current].nextElementSibling;
      if (caption && caption.classList.contains('image-caption')) {
        captionContainer.textContent = caption.textContent;
      } else {
        captionContainer.textContent = ''; // Clear caption if none exists
      }
    };

    // Function to show the next image
    const showNextImage = () => {
      images[current].style.display = 'none';
      current = (current + 1) % images.length;
      images[current].style.display = 'inline';
      updateCaption();
    };

    // Function to show the previous image
    const showPrevImage = () => {
      images[current].style.display = 'none';
      current = (current - 1 + images.length) % images.length;
      images[current].style.display = 'inline';
      updateCaption();
    };

    // Button click handlers
    prevBtn.onclick = function () {
      stopAutoSlide();
      showPrevImage();
    };
    nextBtn.onclick = function () {
      stopAutoSlide();
      showNextImage();
    };

    // Insert controls container below images
    slider.appendChild(controlsContainer);

    // Automatic sliding
    let autoSlideInterval = setInterval(showNextImage, 2000);

    // Stop automatic sliding on user interaction
    const stopAutoSlide = () => {
      clearInterval(autoSlideInterval);
    };

    // Stop auto-slide when the user interacts with the slider
    prevBtn.addEventListener('click', stopAutoSlide);
    nextBtn.addEventListener('click', stopAutoSlide);
    images.forEach((img) => {
      img.addEventListener('click', stopAutoSlide);
    });

    // Initialize the caption
    updateCaption();
  });
});
</script>

<script>
// Dropdown filter functionality for images with lightbox
document.addEventListener("DOMContentLoaded", function () {
  document.querySelectorAll('.image-selector').forEach(function (selector) {
    const images = selector.querySelectorAll('img');
    if (images.length === 0) return;

    // Create a dropdown filter container
    const filterContainer = document.createElement('div');
    filterContainer.classList.add('filter-container');

    const dropdown = document.createElement('select');
    dropdown.multiple = true;
    dropdown.classList.add('filter-dropdown');

    // Add options to the dropdown
    const uniqueCategories = [];
    images.forEach((img) => {
      const caption = img.nextElementSibling;
      if (caption && caption.classList.contains('image-caption')) {
        const category = caption.textContent.trim();
        if (!uniqueCategories.includes(category)) uniqueCategories.push(category);
      }
    });

    uniqueCategories.forEach((category) => {
      const option = document.createElement('option');
      option.value = category;
      option.textContent = category;
      // Do NOT set option.selected here!
      dropdown.appendChild(option);
    });

    filterContainer.appendChild(dropdown);
    selector.appendChild(filterContainer);

    // Add a grid container for filtered images
    const gridContainer = document.createElement('div');
    gridContainer.classList.add('image-grid');
    selector.appendChild(gridContainer);

    // Choices.js initialization
    const choices = new Choices(dropdown, {
      removeItemButton: true,
      shouldSort: false,
      searchEnabled: false,
      placeholder: true,
      placeholderValue: 'Filter categories',
    });

    // Clear any existing selection first, then set initial selection
    choices.removeActiveItems(); // This clears existing selections
    choices.setChoiceByValue(uniqueCategories[0]); // This sets only the first category

    // Filtering function
    const filterImages = () => {
      const selectedCategories = Array.from(dropdown.selectedOptions).map(opt => opt.value);
      gridContainer.innerHTML = '';
      let shownWrappers = [];
      images.forEach((img) => {
        const caption = img.nextElementSibling;
        if (caption && caption.classList.contains('image-caption')) {
          const category = caption.textContent.trim();
          if (selectedCategories.includes(category)) {
            const imgWrapper = document.createElement('div');
            imgWrapper.classList.add('image-wrapper');
            const imgClone = img.cloneNode(true);
            imgClone.style.cursor = 'pointer';
            imgClone.addEventListener('click', function () {
              const lightboxImage = document.querySelector("#lightbox img");
              const lightbox = document.querySelector("#lightbox");
              lightboxImage.src = imgClone.src;
              lightbox.style.display = 'flex';
            });
            imgWrapper.appendChild(imgClone);
            const captionClone = caption.cloneNode(true);
            imgWrapper.appendChild(captionClone);
            gridContainer.appendChild(imgWrapper);
            shownWrappers.push(imgWrapper);
          }
        }
      });
      // If only one image is shown, make it span both columns
      if (shownWrappers.length === 1) {
        shownWrappers[0].style.gridColumn = "span 2";
      }
    };

    // Listen for changes from Choices.js
    dropdown.addEventListener('change', filterImages);

    // Initial grid (only first category shown)
    filterImages();
  });
});
</script>
<script>
document.addEventListener("DOMContentLoaded", function () {
  var codes = document.querySelectorAll('.hideme');
  var code, i, d, s, p;
  for (i = 0; i < codes.length; i++) {
    code = codes[i];
    p = code.parentNode;
    d = document.createElement('details');
    s = document.createElement('summary');
    s.innerText = 'Details';
    // <details><summary>Details</summary></details>
    d.appendChild(s);
    // move the code into <details>
    p.replaceChild(d, code);
    d.appendChild(code);
  }
});
</script>
            </section>

          </div>
        </div>
      </div>
<a href="implementation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="discussion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["_main.pdf"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
