<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Implementation | Extraction of tabular data from annual reports with LLMs</title>
  <meta name="description" content="4 Implementation | Extraction of tabular data from annual reports with LLMs" />
  <meta name="generator" content="bookdown 0.43.2 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Implementation | Extraction of tabular data from annual reports with LLMs" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Implementation | Extraction of tabular data from annual reports with LLMs" />
  
  
  

<meta name="author" content="Simon SchÃ¤fer" />


<meta name="date" content="2025-09-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="methodology.html"/>
<link rel="next" href="results.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/codefolding-lua-1.1/codefolding-lua.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.33/datatables.js"></script>
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="libs/dt-ext-rowgroup-1.13.6/css/rowGroup.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-rowgroup-1.13.6/js/dataTables.rowGroup.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glider-js@1/glider.min.css">
<script src="https://cdn.jsdelivr.net/npm/glider-js@1/glider.min.js"></script> -->


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="report_misc/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./index.html"><img src="images/BHT_Logo_horizontal_Anthrazit_transparent.svg"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#motivation"><i class="fa fa-check"></i><b>1.1</b> Motivation</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#objectives"><i class="fa fa-check"></i><b>1.2</b> Objectives</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#introduction-methodology"><i class="fa fa-check"></i><b>1.3</b> Methodology</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#thesis-outline"><i class="fa fa-check"></i><b>1.4</b> Thesis Outline</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#summary"><i class="fa fa-check"></i><b>1.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="literature-review.html"><a href="literature-review.html"><i class="fa fa-check"></i><b>2</b> Literature review</a>
<ul>
<li class="chapter" data-level="2.1" data-path="literature-review.html"><a href="literature-review.html#computer-science"><i class="fa fa-check"></i><b>2.1</b> Computer science</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="literature-review.html"><a href="literature-review.html#sparse-retrieval"><i class="fa fa-check"></i><b>2.1.1</b> Information retrieval</a></li>
<li class="chapter" data-level="2.1.2" data-path="literature-review.html"><a href="literature-review.html#nlp"><i class="fa fa-check"></i><b>2.1.2</b> Natural language processing</a></li>
<li class="chapter" data-level="2.1.3" data-path="literature-review.html"><a href="literature-review.html#text-processing"><i class="fa fa-check"></i><b>2.1.3</b> Text processing</a>
<ul>
<li class="chapter" data-level="2.1.3.1" data-path="literature-review.html"><a href="literature-review.html#document-layout-analysis"><i class="fa fa-check"></i><b>2.1.3.1</b> Document Layout Analysis</a></li>
</ul></li>
<li class="chapter" data-level="2.1.4" data-path="literature-review.html"><a href="literature-review.html#llm-theory"><i class="fa fa-check"></i><b>2.1.4</b> Large Language Models</a>
<ul>
<li class="chapter" data-level="2.1.4.1" data-path="literature-review.html"><a href="literature-review.html#transformers"><i class="fa fa-check"></i><b>2.1.4.1</b> Transformers</a></li>
<li class="chapter" data-level="2.1.4.2" data-path="literature-review.html"><a href="literature-review.html#attention"><i class="fa fa-check"></i><b>2.1.4.2</b> Attention</a></li>
<li class="chapter" data-level="2.1.4.3" data-path="literature-review.html"><a href="literature-review.html#encoder"><i class="fa fa-check"></i><b>2.1.4.3</b> Encoder</a></li>
<li class="chapter" data-level="2.1.4.4" data-path="literature-review.html"><a href="literature-review.html#decoder"><i class="fa fa-check"></i><b>2.1.4.4</b> Decoder</a></li>
<li class="chapter" data-level="2.1.4.5" data-path="literature-review.html"><a href="literature-review.html#gpt-generative-pretrained-transformers"><i class="fa fa-check"></i><b>2.1.4.5</b> GPT (Generative Pretrained Transformers)</a></li>
<li class="chapter" data-level="2.1.4.6" data-path="literature-review.html"><a href="literature-review.html#mixture-of-experts"><i class="fa fa-check"></i><b>2.1.4.6</b> Mixture of Experts</a></li>
<li class="chapter" data-level="2.1.4.7" data-path="literature-review.html"><a href="literature-review.html#confidence-scores"><i class="fa fa-check"></i><b>2.1.4.7</b> Confidence scores</a></li>
</ul></li>
<li class="chapter" data-level="2.1.5" data-path="literature-review.html"><a href="literature-review.html#llm-methods"><i class="fa fa-check"></i><b>2.1.5</b> Generation enhancing methods with LLMs</a>
<ul>
<li class="chapter" data-level="2.1.5.1" data-path="literature-review.html"><a href="literature-review.html#in-context-learning"><i class="fa fa-check"></i><b>2.1.5.1</b> In-context Learning</a></li>
<li class="chapter" data-level="2.1.5.2" data-path="literature-review.html"><a href="literature-review.html#rag"><i class="fa fa-check"></i><b>2.1.5.2</b> RAG</a></li>
<li class="chapter" data-level="2.1.5.3" data-path="literature-review.html"><a href="literature-review.html#guided-and-restricted-decoding"><i class="fa fa-check"></i><b>2.1.5.3</b> Guided and restricted decoding</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="literature-review.html"><a href="literature-review.html#other-concepts"><i class="fa fa-check"></i><b>2.2</b> General machine learning and statistics</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="literature-review.html"><a href="literature-review.html#sample-distribution-visualization-methods"><i class="fa fa-check"></i><b>2.2.1</b> Sample distribution visualization methods</a></li>
<li class="chapter" data-level="2.2.2" data-path="literature-review.html"><a href="literature-review.html#tree-based-machine-learning-algorithms"><i class="fa fa-check"></i><b>2.2.2</b> Tree based machine learning algorithms</a></li>
<li class="chapter" data-level="2.2.3" data-path="literature-review.html"><a href="literature-review.html#shap"><i class="fa fa-check"></i><b>2.2.3</b> Model agnostic explanation models</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="literature-review.html"><a href="literature-review.html#summary-1"><i class="fa fa-check"></i><b>2.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="methodology.html"><a href="methodology.html"><i class="fa fa-check"></i><b>3</b> Methodology</a>
<ul>
<li class="chapter" data-level="3.1" data-path="methodology.html"><a href="methodology.html#problem-definition"><i class="fa fa-check"></i><b>3.1</b> Problem Definition</a></li>
<li class="chapter" data-level="3.2" data-path="methodology.html"><a href="methodology.html#research-design-philosophy"><i class="fa fa-check"></i><b>3.2</b> Research Design &amp; Philosophy</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="methodology.html"><a href="methodology.html#research-questions"><i class="fa fa-check"></i><b>3.2.1</b> Research questions</a></li>
<li class="chapter" data-level="3.2.2" data-path="methodology.html"><a href="methodology.html#hypotheses"><i class="fa fa-check"></i><b>3.2.2</b> Hypotheses</a></li>
<li class="chapter" data-level="3.2.3" data-path="methodology.html"><a href="methodology.html#evaluation-research"><i class="fa fa-check"></i><b>3.2.3</b> Evaluation research</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="methodology.html"><a href="methodology.html#evaluation-strategy"><i class="fa fa-check"></i><b>3.3</b> Evaluation Strategy</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="methodology.html"><a href="methodology.html#evaluation-framework-and-metrics"><i class="fa fa-check"></i><b>3.3.1</b> Evaluation framework and metrics</a>
<ul>
<li class="chapter" data-level="3.3.1.1" data-path="methodology.html"><a href="methodology.html#page-identification"><i class="fa fa-check"></i><b>3.3.1.1</b> Page identification</a></li>
<li class="chapter" data-level="3.3.1.2" data-path="methodology.html"><a href="methodology.html#information-extraction"><i class="fa fa-check"></i><b>3.3.1.2</b> Information extraction</a></li>
<li class="chapter" data-level="3.3.1.3" data-path="methodology.html"><a href="methodology.html#error-rate-guidance"><i class="fa fa-check"></i><b>3.3.1.3</b> Error rate guidance</a></li>
</ul></li>
<li class="chapter" data-level="3.3.2" data-path="methodology.html"><a href="methodology.html#benchmarking"><i class="fa fa-check"></i><b>3.3.2</b> Benchmarking</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="methodology.html"><a href="methodology.html#data-strategy"><i class="fa fa-check"></i><b>3.4</b> Data Strategy</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="methodology.html"><a href="methodology.html#sampling-methodology"><i class="fa fa-check"></i><b>3.4.1</b> Sampling methodology</a></li>
<li class="chapter" data-level="3.4.2" data-path="methodology.html"><a href="methodology.html#ground-truth-creation-process"><i class="fa fa-check"></i><b>3.4.2</b> Ground truth creation process</a></li>
<li class="chapter" data-level="3.4.3" data-path="methodology.html"><a href="methodology.html#preprocessing"><i class="fa fa-check"></i><b>3.4.3</b> Preprocessing</a></li>
<li class="chapter" data-level="3.4.4" data-path="methodology.html"><a href="methodology.html#data-splitting"><i class="fa fa-check"></i><b>3.4.4</b> Data splitting</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="methodology.html"><a href="methodology.html#experimental-framework"><i class="fa fa-check"></i><b>3.5</b> Experimental Framework</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="methodology.html"><a href="methodology.html#llm-overview"><i class="fa fa-check"></i><b>3.5.1</b> LLM overview</a></li>
<li class="chapter" data-level="3.5.2" data-path="methodology.html"><a href="methodology.html#approaches"><i class="fa fa-check"></i><b>3.5.2</b> Approaches</a>
<ul>
<li class="chapter" data-level="3.5.2.1" data-path="methodology.html"><a href="methodology.html#page-identification-2"><i class="fa fa-check"></i><b>3.5.2.1</b> Page identification</a></li>
<li class="chapter" data-level="3.5.2.2" data-path="methodology.html"><a href="methodology.html#information-extraction-2"><i class="fa fa-check"></i><b>3.5.2.2</b> Information extraction</a></li>
</ul></li>
<li class="chapter" data-level="3.5.3" data-path="methodology.html"><a href="methodology.html#error-analysis-methodology"><i class="fa fa-check"></i><b>3.5.3</b> Error analysis</a>
<ul>
<li class="chapter" data-level="3.5.3.1" data-path="methodology.html"><a href="methodology.html#page-identificaion"><i class="fa fa-check"></i><b>3.5.3.1</b> Page identificaion</a></li>
<li class="chapter" data-level="3.5.3.2" data-path="methodology.html"><a href="methodology.html#inforamtion-extraction"><i class="fa fa-check"></i><b>3.5.3.2</b> Inforamtion extraction</a></li>
</ul></li>
<li class="chapter" data-level="3.5.4" data-path="methodology.html"><a href="methodology.html#evaluation-methods"><i class="fa fa-check"></i><b>3.5.4</b> Evaluation methods</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="implementation.html"><a href="implementation.html"><i class="fa fa-check"></i><b>4</b> Implementation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="implementation.html"><a href="implementation.html#environments"><i class="fa fa-check"></i><b>4.1</b> Environments</a></li>
<li class="chapter" data-level="4.2" data-path="implementation.html"><a href="implementation.html#software-packages"><i class="fa fa-check"></i><b>4.2</b> Software Packages</a></li>
<li class="chapter" data-level="4.3" data-path="implementation.html"><a href="implementation.html#ground-truth-datasets"><i class="fa fa-check"></i><b>4.3</b> Ground truth datasets</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="implementation.html"><a href="implementation.html#ground-truth-creation"><i class="fa fa-check"></i><b>4.3.1</b> Ground truth creation</a></li>
<li class="chapter" data-level="4.3.2" data-path="implementation.html"><a href="implementation.html#ground-truth-database-composition"><i class="fa fa-check"></i><b>4.3.2</b> Ground truth database composition</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="implementation.html"><a href="implementation.html#data-processing"><i class="fa fa-check"></i><b>4.4</b> Data processing</a></li>
<li class="chapter" data-level="4.5" data-path="implementation.html"><a href="implementation.html#evaluation-and-reporting"><i class="fa fa-check"></i><b>4.5</b> Evaluation and Reporting</a></li>
<li class="chapter" data-level="4.6" data-path="implementation.html"><a href="implementation.html#speedup-with-vllm-and-batching"><i class="fa fa-check"></i><b>4.6</b> Speedup with vLLM and batching</a></li>
<li class="chapter" data-level="4.7" data-path="implementation.html"><a href="implementation.html#gpu-benchmark"><i class="fa fa-check"></i><b>4.7</b> Hardware normalization</a></li>
<li class="chapter" data-level="4.8" data-path="implementation.html"><a href="implementation.html#summary-2"><i class="fa fa-check"></i><b>4.8</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#page-identification-introduction"><i class="fa fa-check"></i><b>5.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#approaches-1"><i class="fa fa-check"></i><b>5.1.1</b> Approaches</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#comparison-page-identification"><i class="fa fa-check"></i><b>5.1.2</b> Comparison</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#table-extraction-introduction"><i class="fa fa-check"></i><b>5.2</b> Information extraction</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#approaches-2"><i class="fa fa-check"></i><b>5.2.1</b> Approaches</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#comparing-table-extraction-methods"><i class="fa fa-check"></i><b>5.2.2</b> Comparison</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#error-rate-guidance-results"><i class="fa fa-check"></i><b>5.3</b> Error rate guidance</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#page-identification-error-rate-results"><i class="fa fa-check"></i><b>5.3.1</b> Page identification</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#information-extraction-error-rate-results"><i class="fa fa-check"></i><b>5.3.2</b> Information extraction</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#summary-results"><i class="fa fa-check"></i><b>5.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>6</b> Discussion</a>
<ul>
<li class="chapter" data-level="6.1" data-path="discussion.html"><a href="discussion.html#answer-research-questions"><i class="fa fa-check"></i><b>6.1</b> Research questions</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="discussion.html"><a href="discussion.html#page-identification-5"><i class="fa fa-check"></i><b>6.1.1</b> Page identification</a></li>
<li class="chapter" data-level="6.1.2" data-path="discussion.html"><a href="discussion.html#information-extraction-4"><i class="fa fa-check"></i><b>6.1.2</b> Information extraction</a>
<ul>
<li class="chapter" data-level="6.1.2.1" data-path="discussion.html"><a href="discussion.html#extraction-performace-hypotheses-evaluation"><i class="fa fa-check"></i><b>6.1.2.1</b> Core capabilities</a></li>
<li class="chapter" data-level="6.1.2.2" data-path="discussion.html"><a href="discussion.html#extraction-performace-predictor-hypotheses-evaluation"><i class="fa fa-check"></i><b>6.1.2.2</b> Feature effects</a></li>
<li class="chapter" data-level="6.1.2.3" data-path="discussion.html"><a href="discussion.html#error-rate-guidance-1"><i class="fa fa-check"></i><b>6.1.2.3</b> Error rate guidance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="discussion.html"><a href="discussion.html#error-analysis"><i class="fa fa-check"></i><b>6.2</b> Error analysis</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="discussion.html"><a href="discussion.html#page-identification-6"><i class="fa fa-check"></i><b>6.2.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="6.2.1.1" data-path="discussion.html"><a href="discussion.html#llm-approach"><i class="fa fa-check"></i><b>6.2.1.1</b> LLM approach</a></li>
<li class="chapter" data-level="6.2.1.2" data-path="discussion.html"><a href="discussion.html#error-analysis-tf"><i class="fa fa-check"></i><b>6.2.1.2</b> Term frequency approach</a></li>
</ul></li>
<li class="chapter" data-level="6.2.2" data-path="discussion.html"><a href="discussion.html#information-extraction-5"><i class="fa fa-check"></i><b>6.2.2</b> Information extraction</a>
<ul>
<li class="chapter" data-level="6.2.2.1" data-path="discussion.html"><a href="discussion.html#real-tables-3"><i class="fa fa-check"></i><b>6.2.2.1</b> Real tables</a></li>
<li class="chapter" data-level="6.2.2.2" data-path="discussion.html"><a href="discussion.html#same-company-evaluation"><i class="fa fa-check"></i><b>6.2.2.2</b> Company specific results</a></li>
<li class="chapter" data-level="6.2.2.3" data-path="discussion.html"><a href="discussion.html#synthetic-tables-3"><i class="fa fa-check"></i><b>6.2.2.3</b> Synthetic tables</a></li>
<li class="chapter" data-level="6.2.2.4" data-path="discussion.html"><a href="discussion.html#numeric-transformation-discussion"><i class="fa fa-check"></i><b>6.2.2.4</b> Numeric transformations</a></li>
<li class="chapter" data-level="6.2.2.5" data-path="discussion.html"><a href="discussion.html#regex-synth-backend-discussion"><i class="fa fa-check"></i><b>6.2.2.5</b> Regular expression approach</a></li>
<li class="chapter" data-level="6.2.2.6" data-path="discussion.html"><a href="discussion.html#openai-discussion"><i class="fa fa-check"></i><b>6.2.2.6</b> OpenAI models</a></li>
</ul></li>
<li class="chapter" data-level="6.2.3" data-path="discussion.html"><a href="discussion.html#unconsistent-label-matching"><i class="fa fa-check"></i><b>6.2.3</b> Ground truth creation</a></li>
<li class="chapter" data-level="6.2.4" data-path="discussion.html"><a href="discussion.html#context-rot"><i class="fa fa-check"></i><b>6.2.4</b> Context rot</a>
<ul>
<li class="chapter" data-level="6.2.4.1" data-path="discussion.html"><a href="discussion.html#page-identification-7"><i class="fa fa-check"></i><b>6.2.4.1</b> Page identification</a></li>
<li class="chapter" data-level="6.2.4.2" data-path="discussion.html"><a href="discussion.html#information-extraction-6"><i class="fa fa-check"></i><b>6.2.4.2</b> Information extraction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="discussion.html"><a href="discussion.html#general-performance"><i class="fa fa-check"></i><b>6.3</b> Practical Implications and Limitations</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="discussion.html"><a href="discussion.html#page-identification-8"><i class="fa fa-check"></i><b>6.3.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="6.3.1.1" data-path="discussion.html"><a href="discussion.html#transfering-the-system-to-new-problems"><i class="fa fa-check"></i><b>6.3.1.1</b> Transfering the system to new problems</a></li>
<li class="chapter" data-level="6.3.1.2" data-path="discussion.html"><a href="discussion.html#limitations-of-transfer"><i class="fa fa-check"></i><b>6.3.1.2</b> Limitations of transfer</a></li>
<li class="chapter" data-level="6.3.1.3" data-path="discussion.html"><a href="discussion.html#toc-discussion"><i class="fa fa-check"></i><b>6.3.1.3</b> Possible improvement</a></li>
<li class="chapter" data-level="6.3.1.4" data-path="discussion.html"><a href="discussion.html#conclusion-4"><i class="fa fa-check"></i><b>6.3.1.4</b> Conclusion</a></li>
<li class="chapter" data-level="6.3.1.5" data-path="discussion.html"><a href="discussion.html#efficency-discussion"><i class="fa fa-check"></i><b>6.3.1.5</b> Energy usage and runtime</a></li>
</ul></li>
<li class="chapter" data-level="6.3.2" data-path="discussion.html"><a href="discussion.html#alternative-input-formats-extraction"><i class="fa fa-check"></i><b>6.3.2</b> Information extraction</a></li>
<li class="chapter" data-level="6.3.3" data-path="discussion.html"><a href="discussion.html#error-rate-guidance-2"><i class="fa fa-check"></i><b>6.3.3</b> Error rate guidance</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="discussion.html"><a href="discussion.html#not-covered"><i class="fa fa-check"></i><b>6.4</b> Not covered</a></li>
<li class="chapter" data-level="6.5" data-path="discussion.html"><a href="discussion.html#outlook-implementation"><i class="fa fa-check"></i><b>6.5</b> Outlook</a></li>
<li class="chapter" data-level="6.6" data-path="discussion.html"><a href="discussion.html#ethics"><i class="fa fa-check"></i><b>6.6</b> Ethical &amp; Practical Considerations</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="discussion.html"><a href="discussion.html#pdf-extraction-limitations"><i class="fa fa-check"></i><b>6.6.1</b> PDF extraction limitations</a></li>
<li class="chapter" data-level="6.6.2" data-path="discussion.html"><a href="discussion.html#computational-constraints"><i class="fa fa-check"></i><b>6.6.2</b> Computational constraints</a></li>
<li class="chapter" data-level="6.6.3" data-path="discussion.html"><a href="discussion.html#generalizability-scope"><i class="fa fa-check"></i><b>6.6.3</b> Generalizability scope</a></li>
<li class="chapter" data-level="6.6.4" data-path="discussion.html"><a href="discussion.html#ethical-considerations"><i class="fa fa-check"></i><b>6.6.4</b> Ethical considerations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="discussion.html"><a href="discussion.html#conclusion"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i>Glossary</a></li>
<li class="chapter" data-level="8" data-path="page-identification-report.html"><a href="page-identification-report.html"><i class="fa fa-check"></i><b>8</b> Appendix A - Page identification report</a>
<ul>
<li class="chapter" data-level="8.1" data-path="page-identification-report.html"><a href="page-identification-report.html#regex-page-identification"><i class="fa fa-check"></i><b>8.1</b> Baseline: Regex</a></li>
<li class="chapter" data-level="8.2" data-path="page-identification-report.html"><a href="page-identification-report.html#toc-understanding"><i class="fa fa-check"></i><b>8.2</b> Table of Contents understanding</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="page-identification-report.html"><a href="page-identification-report.html#text-based-toc-understanding"><i class="fa fa-check"></i><b>8.2.1</b> Details for the approaches</a></li>
<li class="chapter" data-level="8.2.2" data-path="page-identification-report.html"><a href="page-identification-report.html#results-5"><i class="fa fa-check"></i><b>8.2.2</b> Results</a>
<ul>
<li class="chapter" data-level="8.2.2.1" data-path="page-identification-report.html"><a href="page-identification-report.html#comparison-of-the-different-approaches"><i class="fa fa-check"></i><b>8.2.2.1</b> Comparison of the different approaches</a></li>
</ul></li>
<li class="chapter" data-level="8.2.3" data-path="page-identification-report.html"><a href="page-identification-report.html#machine-readable-toc-approach-specific-results"><i class="fa fa-check"></i><b>8.2.3</b> Machine readable TOC approach specific results</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="page-identification-report.html"><a href="page-identification-report.html#llm-page-identification"><i class="fa fa-check"></i><b>8.3</b> Classification with LLMs</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="page-identification-report.html"><a href="page-identification-report.html#binary-classification-1"><i class="fa fa-check"></i><b>8.3.1</b> Binary classification</a></li>
<li class="chapter" data-level="8.3.2" data-path="page-identification-report.html"><a href="page-identification-report.html#multi-class-classification-1"><i class="fa fa-check"></i><b>8.3.2</b> Multi-class classification</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="page-identification-report.html"><a href="page-identification-report.html#tf-classifier"><i class="fa fa-check"></i><b>8.4</b> Term frequency based classifier</a></li>
<li class="chapter" data-level="8.5" data-path="page-identification-report.html"><a href="page-identification-report.html#summary-4"><i class="fa fa-check"></i><b>8.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="information-extraction-report.html"><a href="information-extraction-report.html"><i class="fa fa-check"></i><b>9</b> Appendix B - Information extraction report</a>
<ul>
<li class="chapter" data-level="9.1" data-path="information-extraction-report.html"><a href="information-extraction-report.html#baseline-regex"><i class="fa fa-check"></i><b>9.1</b> Baseline: Regex</a></li>
<li class="chapter" data-level="9.2" data-path="information-extraction-report.html"><a href="information-extraction-report.html#extraction-with-llms-real-tables"><i class="fa fa-check"></i><b>9.2</b> Extraction with LLMs</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="information-extraction-report.html"><a href="information-extraction-report.html#real-table-extraction-results"><i class="fa fa-check"></i><b>9.2.1</b> Real tables</a></li>
<li class="chapter" data-level="9.2.2" data-path="information-extraction-report.html"><a href="information-extraction-report.html#synthetic-table-extraction"><i class="fa fa-check"></i><b>9.2.2</b> Synthetic tables</a></li>
<li class="chapter" data-level="9.2.3" data-path="information-extraction-report.html"><a href="information-extraction-report.html#real-table-extraction-synth-context"><i class="fa fa-check"></i><b>9.2.3</b> Hybrid approach</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="information-extraction-report.html"><a href="information-extraction-report.html#summary-5"><i class="fa fa-check"></i><b>9.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="error-guidance-report.html"><a href="error-guidance-report.html"><i class="fa fa-check"></i><b>10</b> Appendix C - Error rate guidance report</a>
<ul>
<li class="chapter" data-level="10.1" data-path="error-guidance-report.html"><a href="error-guidance-report.html#page-identification-9"><i class="fa fa-check"></i><b>10.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="error-guidance-report.html"><a href="error-guidance-report.html#binary-classification-2"><i class="fa fa-check"></i><b>10.1.1</b> Binary classification</a></li>
<li class="chapter" data-level="10.1.2" data-path="error-guidance-report.html"><a href="error-guidance-report.html#multi-class-classification-2"><i class="fa fa-check"></i><b>10.1.2</b> Multi-class classification</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="error-guidance-report.html"><a href="error-guidance-report.html#extraction-with-llms"><i class="fa fa-check"></i><b>10.2</b> Extraction with LLMs</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="error-guidance-report.html"><a href="error-guidance-report.html#real-tables-4"><i class="fa fa-check"></i><b>10.2.1</b> Real tables</a></li>
<li class="chapter" data-level="10.2.2" data-path="error-guidance-report.html"><a href="error-guidance-report.html#synthetic-tables-4"><i class="fa fa-check"></i><b>10.2.2</b> Synthetic tables</a></li>
<li class="chapter" data-level="10.2.3" data-path="error-guidance-report.html"><a href="error-guidance-report.html#hybrid-respect-units"><i class="fa fa-check"></i><b>10.2.3</b> Hybrid approach</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="feature-effect-analysis.html"><a href="feature-effect-analysis.html"><i class="fa fa-check"></i><b>11</b> Appendix D - Feature effect analysis</a>
<ul>
<li class="chapter" data-level="11.1" data-path="feature-effect-analysis.html"><a href="feature-effect-analysis.html#regular-expressions-4"><i class="fa fa-check"></i><b>11.1</b> Regular expressions</a></li>
<li class="chapter" data-level="11.2" data-path="feature-effect-analysis.html"><a href="feature-effect-analysis.html#real-tables-5"><i class="fa fa-check"></i><b>11.2</b> Real tables</a></li>
<li class="chapter" data-level="11.3" data-path="feature-effect-analysis.html"><a href="feature-effect-analysis.html#synthetic-tables-5"><i class="fa fa-check"></i><b>11.3</b> Synthetic tables</a></li>
<li class="chapter" data-level="11.4" data-path="feature-effect-analysis.html"><a href="feature-effect-analysis.html#hybrid-approach-3"><i class="fa fa-check"></i><b>11.4</b> Hybrid approach</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html"><i class="fa fa-check"></i><b>12</b> Appendix E - Miscellaneous</a>
<ul>
<li class="chapter" data-level="12.1" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#hitl"><i class="fa fa-check"></i><b>12.1</b> Human in the loop application</a></li>
<li class="chapter" data-level="12.2" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#local-machine"><i class="fa fa-check"></i><b>12.2</b> Local machine</a></li>
<li class="chapter" data-level="12.3" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#benchmarks"><i class="fa fa-check"></i><b>12.3</b> Benchmarks</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#text-extraction-benchmark"><i class="fa fa-check"></i><b>12.3.1</b> Text extraction</a></li>
<li class="chapter" data-level="12.3.2" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#table-detection-benchmark"><i class="fa fa-check"></i><b>12.3.2</b> Table detection</a>
<ul>
<li class="chapter" data-level="12.3.2.1" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#old-classification-with-llm"><i class="fa fa-check"></i><b>12.3.2.1</b> old classification with llm</a></li>
<li class="chapter" data-level="12.3.2.2" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#yolo"><i class="fa fa-check"></i><b>12.3.2.2</b> yolo benchmark and table transformer</a></li>
</ul></li>
<li class="chapter" data-level="12.3.3" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#vllm-batch-speed"><i class="fa fa-check"></i><b>12.3.3</b> Large language model process speed</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#prompts"><i class="fa fa-check"></i><b>12.4</b> Prompts</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#toc-understanding-promts"><i class="fa fa-check"></i><b>12.4.1</b> TOC understanding</a></li>
<li class="chapter" data-level="12.4.2" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#classification-prompts"><i class="fa fa-check"></i><b>12.4.2</b> Classification</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#regex-page-identification-code"><i class="fa fa-check"></i><b>12.5</b> Regular expressions</a></li>
<li class="chapter" data-level="12.6" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#annual-comprehensive-financial-report-balance-sheet"><i class="fa fa-check"></i><b>12.6</b> Annual Comprehensive Financial Report Balance Sheet</a></li>
<li class="chapter" data-level="12.7" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#regex-extraction-mistakes"><i class="fa fa-check"></i><b>12.7</b> Table extraction with regular expressions</a></li>
<li class="chapter" data-level="12.8" data-path="appendix-e---miscellaneous.html"><a href="appendix-e---miscellaneous.html#tf-missclassifications"><i class="fa fa-check"></i><b>12.8</b> Term frequency missclassifications</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>13</b> Tables</a>
<ul>
<li class="chapter" data-level="13.1" data-path="tables.html"><a href="tables.html#classification"><i class="fa fa-check"></i><b>13.1</b> Classification</a></li>
<li class="chapter" data-level="13.2" data-path="tables.html"><a href="tables.html#table-extraction"><i class="fa fa-check"></i><b>13.2</b> Table extraction</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="tables.html"><a href="tables.html#hybrid-approach-4"><i class="fa fa-check"></i><b>13.2.1</b> Hybrid approach</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="figure-collection.html"><a href="figure-collection.html"><i class="fa fa-check"></i><b>14</b> Figures</a>
<ul>
<li class="chapter" data-level="14.1" data-path="figure-collection.html"><a href="figure-collection.html#page-identification-10"><i class="fa fa-check"></i><b>14.1</b> Page identification</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="figure-collection.html"><a href="figure-collection.html#regex-baseline"><i class="fa fa-check"></i><b>14.1.1</b> Regex baseline</a></li>
<li class="chapter" data-level="14.1.2" data-path="figure-collection.html"><a href="figure-collection.html#toc-understanding-1"><i class="fa fa-check"></i><b>14.1.2</b> TOC understanding</a></li>
<li class="chapter" data-level="14.1.3" data-path="figure-collection.html"><a href="figure-collection.html#classification-1"><i class="fa fa-check"></i><b>14.1.3</b> Classification</a>
<ul>
<li class="chapter" data-level="14.1.3.1" data-path="figure-collection.html"><a href="figure-collection.html#binary"><i class="fa fa-check"></i><b>14.1.3.1</b> Binary</a></li>
<li class="chapter" data-level="14.1.3.2" data-path="figure-collection.html"><a href="figure-collection.html#multi-class-classification-3"><i class="fa fa-check"></i><b>14.1.3.2</b> Multi-class classification</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="figure-collection.html"><a href="figure-collection.html#table-extraction-1"><i class="fa fa-check"></i><b>14.2</b> Table extraction</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="figure-collection.html"><a href="figure-collection.html#regex-approach"><i class="fa fa-check"></i><b>14.2.1</b> Regex approach</a>
<ul>
<li class="chapter" data-level="14.2.1.1" data-path="figure-collection.html"><a href="figure-collection.html#real-tables-6"><i class="fa fa-check"></i><b>14.2.1.1</b> Real tables</a></li>
<li class="chapter" data-level="14.2.1.2" data-path="figure-collection.html"><a href="figure-collection.html#synthetic-tables-6"><i class="fa fa-check"></i><b>14.2.1.2</b> Synthetic tables</a></li>
</ul></li>
<li class="chapter" data-level="14.2.2" data-path="figure-collection.html"><a href="figure-collection.html#real-tables-7"><i class="fa fa-check"></i><b>14.2.2</b> Real tables</a>
<ul>
<li class="chapter" data-level="14.2.2.1" data-path="figure-collection.html"><a href="figure-collection.html#examples-from-same-company"><i class="fa fa-check"></i><b>14.2.2.1</b> Examples from same company</a></li>
<li class="chapter" data-level="14.2.2.2" data-path="figure-collection.html"><a href="figure-collection.html#openai-models-1"><i class="fa fa-check"></i><b>14.2.2.2</b> OpenAI models</a></li>
<li class="chapter" data-level="14.2.2.3" data-path="figure-collection.html"><a href="figure-collection.html#comparing-input-formats-and-text-extration-libraries"><i class="fa fa-check"></i><b>14.2.2.3</b> Comparing input formats and text extration libraries</a></li>
<li class="chapter" data-level="14.2.2.4" data-path="figure-collection.html"><a href="figure-collection.html#hypotheses-6"><i class="fa fa-check"></i><b>14.2.2.4</b> Hypotheses</a></li>
</ul></li>
<li class="chapter" data-level="14.2.3" data-path="figure-collection.html"><a href="figure-collection.html#synthetic-tables-7"><i class="fa fa-check"></i><b>14.2.3</b> Synthetic tables</a>
<ul>
<li class="chapter" data-level="14.2.3.1" data-path="figure-collection.html"><a href="figure-collection.html#confidence-4"><i class="fa fa-check"></i><b>14.2.3.1</b> Confidence</a></li>
</ul></li>
<li class="chapter" data-level="14.2.4" data-path="figure-collection.html"><a href="figure-collection.html#hybrid-approach-5"><i class="fa fa-check"></i><b>14.2.4</b> Hybrid approach</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="layout-testing.html"><a href="layout-testing.html"><i class="fa fa-check"></i><b>15</b> Layout testing</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Extraction of tabular data from annual reports with LLMs</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="implementation" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">4</span> Implementation<a href="implementation.html#implementation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>(max 5p)</p>
<div id="environments" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Environments<a href="implementation.html#environments" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The computations for this thesis are performed in two environments. Tasks that do not require a <a href="glossary.html#acronyms_GPU">GPU</a> are run locally. You can find the specifications of the local device in section <a href="appendix-e---miscellaneous.html#local-machine">12.2</a>. Other tasks are run on the Datexis Kubernetes cluster.</p>
</div>
<div id="software-packages" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Software Packages<a href="implementation.html#software-packages" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="python" class="section level5 hasAnchor paragraph-start" number="4.2.0.0.1">
<h5><span class="header-section-number">4.2.0.0.1</span> Python<a href="implementation.html#python" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We use <a href="glossary.html#acronyms_vllm">vLLM (Virtual Large Language Model)</a> and <em>chromadb</em> to set up our in-context learning <a href="glossary.html#acronyms_LLM">LLM</a> pipeline. <a href="glossary.html#acronyms_vllm">vLLM</a> is a fast and easy to use framework to provide <a href="glossary.html#acronyms_LLM">LLM</a>s locally or as service. <em>chromadb</em> is a vector database and key component of our <a href="glossary.html#acronyms_RAG">RAG</a> architecture. It provides the <a href="glossary.html#acronyms_LLM">LLM</a> with examples that are most similar regarding their vector representation.</p>
</div>
<p>For data wrangling we use <em>pandas</em>. For transferring data and saving results we use the <em>json</em> library. We extract texts from <a href="glossary.html#acronyms_PDF">PDF</a>s mainly with <em>pypdfium2</em> and use <em>sklearn</em> for building random forest classifiers.</p>
<div id="r" class="section level5 hasAnchor paragraph-start" number="4.2.0.0.2">
<h5><span class="header-section-number">4.2.0.0.2</span> R<a href="implementation.html#r" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We use the <em>tidyverse</em> library for data wrangling and creating our visualizations with <em>ggplot</em>. We use <em>h2o</em> for building random forest models on the Datexis cluster and <em>shapviz</em> to interpret these models. <em>knitr</em> is used to create this thesis document.</p>
</div>
</div>
<div id="ground-truth-datasets" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Ground truth datasets<a href="implementation.html#ground-truth-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="ground-truth-creation" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Ground truth creation<a href="implementation.html#ground-truth-creation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This section describes the ground truth creation process in detail. It describes our initial annotation process and what improvements are made, based on later iterations and findings from the experiments.</p>
<div id="page-identification-3" class="section level5 hasAnchor paragraph-start" number="4.3.1.0.1">
<h5><span class="header-section-number">4.3.1.0.1</span> Page identification<a href="implementation.html#page-identification-3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>For the page identification task the chosen documents are searched for the target pages either by using the search functionality, <a href="glossary.html#acronyms_TOC">TOC</a> or scrolling through all pages. For each target page the filepath, page and type is listed in a csv file. For some reports there are multiple pages present for a single target type. In this case, both pages are added to the ground truth. Sometimes the <strong>Aktiva</strong> and <strong>Passiva</strong> page are on a single page. In this case a single entry is made and its type is <em>Aktiva&amp;Passiva</em>. If a table spans two pages, both pages are recorded. Excluding pages that need <a href="glossary.html#acronyms_OCR">OCR</a> processing we created 252 entries.</p>
</div>
<p>For double checking all identified pages are extracted from their original PDF files and combined in a single file. Thus, problems with the numbers shown in the PDF viewer and the actual page number in the file are identified and resolved. After the first experiments pages, that have been classified as a target by multiple models, are checked. Thus, some additional target tables, that span two pages, are identified.</p>
<p>Additionally we identified all pages, that contain a table of any type in a earlier created sample of pages. This smaller sample is based on all pages that are classified as holding a table of type <strong>Aktiva</strong>, <strong>Passiva</strong> or <strong>GuV</strong> by the <a href="glossary.html#acronyms_regex">regex</a> approach. The true and false positive classified ones. This ground truth is used to test the capabilities of various Python libraries, <a href="glossary.html#acronyms_LLM">LLM</a>s and visual models to detect tables. Results can be found in the appendix in section <a href="appendix-e---miscellaneous.html#table-detection-benchmark">12.3.2</a>.</p>
<div id="information-extraction-3" class="section level5 hasAnchor paragraph-start" number="4.3.1.0.2">
<h5><span class="header-section-number">4.3.1.0.2</span> Information extraction<a href="implementation.html#information-extraction-3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>For the information extraction task we copy the numeric values from the annual reports into csv files, replace the thousands separators and floating point delimiters and multiply those values by 1_000, if a currency unit is given for the column the value comes from. The csv files are already prefilled with all entities defined in the legal text, identified by their full hierarchy. Thus, we choose which line to put the value in, if the description in the annual report is different.</p>
</div>
<p>There are cases, where a single line defined in the legal text is split up into multiple lines in the annual reports. In those cases we enter the sum into the according row in the csv file. If entities are found, that do not fit any entity given in the legal text, this entry is dropped. For the first iteration the csv files just contained the entities and column names but no values.</p>
<p>In the second iteration we use the predictions of Qwen3-235B, check the values and mark mistakes, correct the values and log all mistakes found. In this iteration we check the ground truth created in the first iteration as well and correct mistakes made earlier.</p>
<p>Additionally, we implemented an algorithm to generate synthetic <strong>Aktiva</strong> tables with systematically varied characteristics to enable experiments that focus those characteristics as possible predictors for the prediction performance. Additionally, this enables us to estimate an upper bound for the extraction task with real <strong>Aktiva</strong> tables.</p>
<div id="error-rate-guidiance-1" class="section level5 hasAnchor paragraph-start" number="4.3.1.0.3">
<h5><span class="header-section-number">4.3.1.0.3</span> Error rate guidiance<a href="implementation.html#error-rate-guidiance-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>There is not ground truth for the calculated <em>confidence</em> scores. We will simply check, if the true and false predictions can be separated based on the returned <em>confidence scores</em>.</p>
</div>
</div>
<div id="ground-truth-database-composition" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Ground truth database composition<a href="implementation.html#ground-truth-database-composition" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="implementation.html#cb5-1" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;./scripts/page_identification_preparations.R&quot;</span>)</span>
<span id="cb5-2"><a href="implementation.html#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="implementation.html#cb5-3" tabindex="-1"></a>num_multiple_tables_per_document <span class="ot">&lt;-</span> df_targets_no_ocr <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="implementation.html#cb5-4" tabindex="-1"></a>  <span class="fu">anti_join</span>(consecutive_pages, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;filepath&quot;</span>, <span class="st">&quot;page&quot;</span>, <span class="st">&quot;type&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-5"><a href="implementation.html#cb5-5" tabindex="-1"></a>  <span class="fu">arrange</span>(filepath, page) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="implementation.html#cb5-6" tabindex="-1"></a>  <span class="fu">group_by</span>(filepath, type) <span class="sc">%&gt;%</span> </span>
<span id="cb5-7"><a href="implementation.html#cb5-7" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb5-8"><a href="implementation.html#cb5-8" tabindex="-1"></a>  <span class="fu">filter</span>(count <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="implementation.html#cb5-9" tabindex="-1"></a>  <span class="fu">group_by</span>(filepath) <span class="sc">%&gt;%</span> </span>
<span id="cb5-10"><a href="implementation.html#cb5-10" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb5-11"><a href="implementation.html#cb5-11" tabindex="-1"></a>  <span class="fu">nrow</span>()</span>
<span id="cb5-12"><a href="implementation.html#cb5-12" tabindex="-1"></a></span>
<span id="cb5-13"><a href="implementation.html#cb5-13" tabindex="-1"></a>multiple_tables_per_type_and_document <span class="ot">&lt;-</span> data_unnested <span class="sc">%&gt;%</span></span>
<span id="cb5-14"><a href="implementation.html#cb5-14" tabindex="-1"></a>  <span class="fu">anti_join</span>(consecutive_pages, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;filepath&quot;</span>, <span class="st">&quot;page&quot;</span>, <span class="st">&quot;type&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-15"><a href="implementation.html#cb5-15" tabindex="-1"></a>  <span class="fu">arrange</span>(filepath, page) <span class="sc">%&gt;%</span></span>
<span id="cb5-16"><a href="implementation.html#cb5-16" tabindex="-1"></a>  <span class="fu">group_by</span>(filepath, type) <span class="sc">%&gt;%</span> </span>
<span id="cb5-17"><a href="implementation.html#cb5-17" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb5-18"><a href="implementation.html#cb5-18" tabindex="-1"></a>  <span class="fu">filter</span>(count <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-19"><a href="implementation.html#cb5-19" tabindex="-1"></a>  <span class="fu">group_by</span>(type) <span class="sc">%&gt;%</span> </span>
<span id="cb5-20"><a href="implementation.html#cb5-20" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">&quot;multiple targets in document&quot;</span> <span class="ot">=</span> <span class="fu">n</span>())</span>
<span id="cb5-21"><a href="implementation.html#cb5-21" tabindex="-1"></a></span>
<span id="cb5-22"><a href="implementation.html#cb5-22" tabindex="-1"></a>df_special_targets <span class="ot">&lt;-</span> multiple_tables_per_type_and_document <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(consecutive_pages <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(type) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="st">&quot;target two pages long&quot;</span> <span class="ot">=</span> <span class="fu">n</span>())) <span class="sc">%&gt;%</span> <span class="fu">mutate_if</span>(is.numeric,coalesce,<span class="dv">0</span>)</span></code></pre></div>
</details>
<p>This section describes the resulting ground truth database in detail separate for all our tasks. It shows how many documents from which companies are included and how the synthetic dataset is created.</p>
<div id="page-identification-4" class="section level5 hasAnchor paragraph-start" number="4.3.2.0.1">
<h5><span class="header-section-number">4.3.2.0.1</span> Page identification<a href="implementation.html#page-identification-4" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Figure <a href="implementation.html#fig:document-base-page-identification">4.1</a> shows how the document base for the tasks in this section is composed. Overall 74 annual reports from 7 companies are used. For this thesis the tables of interest are those that show <strong>Aktiva</strong>, <strong>Passiva</strong> and <strong>GuV</strong>. Among the 4981 pages 265 tables have to be identified on 251 pages. Figure <a href="implementation.html#fig:document-base-page-identification">4.1</a> also gives an impression on how many pages the documents have. The documents of <em>IBB</em> tend to be longer. The documents of <em>Amt fÃ¼r Statistik Berlin-Brandenburg</em> tend to be shorter.</p>
</div>
<div class="pre-detail">
<p>
You can have a look at the ground truth data unfolding the following details element.
</p>
</div>
<div class="hideme">
<table>
<caption>
<span id="tab:ground-truth-tables-of-interest">Table 4.1: </span>Showing all pages of interest with the target table type and filepath.
</caption>
</table>
<div class="datatables html-widget html-fill-item" id="htmlwidget-cf09b0c84a9c9806b6b8" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-cf09b0c84a9c9806b6b8">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251"],["../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2022_<wbr>low.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2022_<wbr>low.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2022_<wbr>low.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2022_<wbr>low.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2022_<wbr>low.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2022_<wbr>low.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2023_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2023_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2023_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2020.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2020.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2020.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2020.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2020.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2020.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2020_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2020_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2020_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2023.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2023.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2023.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2023.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2023.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2023.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2021_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2021_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2021_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2019.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2019.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2019.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2019.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2022_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2022_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2022_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2019_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/2019_<wbr>Geschaeftsbericht_<wbr>BBB.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2021.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2021.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2021.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2021.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2021.pdf","../Geschaeftsberichte/Berliner BÃ¤der Betriebe/GB_<wbr>BBB_<wbr>Infra_<wbr>2021.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2017.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2017.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2017.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2017.pdf","../Geschaeftsberichte/IBB/ibb-jahresabschluss-und-lagebericht-2023.pdf","../Geschaeftsberichte/IBB/ibb-jahresabschluss-und-lagebericht-2023.pdf","../Geschaeftsberichte/IBB/ibb-jahresabschluss-und-lagebericht-2023.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2020.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2020.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2020.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2020.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2013.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2013.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2013.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2013.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2014.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2014.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2014.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2014.pdf","../Geschaeftsberichte/IBB/ibb-geschaeftsbericht-2021.pdf","../Geschaeftsberichte/IBB/ibb-geschaeftsbericht-2021.pdf","../Geschaeftsberichte/IBB/ibb-geschaeftsbericht-2021.pdf","../Geschaeftsberichte/IBB/ibb-geschaeftsbericht-2021.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>digitaler_<wbr>geschaeftsbericht_<wbr>2017.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>digitaler_<wbr>geschaeftsbericht_<wbr>2017.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>digitaler_<wbr>geschaeftsbericht_<wbr>2017.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>digitaler_<wbr>geschaeftsbericht_<wbr>2017.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2007.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2007.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2007.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2007.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2008.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2008.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2008.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2008.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2011.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2011.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2011.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2011.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2012.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2012.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2012.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2012.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2010.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2010.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2010.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2010.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2015.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2015.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2015.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2015.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2019.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2019.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2019.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2019.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2009.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2009.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2009.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2009.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2004.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2004.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2004.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2004.pdf","../Geschaeftsberichte/IBB/ibb-jahresabschluss-und-lagebericht-2024.pdf","../Geschaeftsberichte/IBB/ibb-jahresabschluss-und-lagebericht-2024.pdf","../Geschaeftsberichte/IBB/ibb-jahresabschluss-und-lagebericht-2024.pdf","../Geschaeftsberichte/IBB/ibb-jahresabschluss-und-lagebericht-2024.pdf","../Geschaeftsberichte/IBB/ibb-jahresabschluss-und-lagebericht-2024.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2006.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2006.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2006.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2006.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2005.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2005.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2005.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2005.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2016.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2016.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2016.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2016.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2018.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2018.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2018.pdf","../Geschaeftsberichte/IBB/ibb_<wbr>geschaeftsbericht_<wbr>2018.pdf","../Geschaeftsberichte/IBB/ibb-jahresabschluss-und-lagebericht-2022.pdf","../Geschaeftsberichte/IBB/ibb-jahresabschluss-und-lagebericht-2022.pdf","../Geschaeftsberichte/Berlinovo/geschaeftsbericht_<wbr>berlinovo_<wbr>2017_<wbr>0.pdf","../Geschaeftsberichte/Berlinovo/geschaeftsbericht_<wbr>berlinovo_<wbr>2017_<wbr>0.pdf","../Geschaeftsberichte/Berlinovo/geschaeftsbericht_<wbr>berlinovo_<wbr>2017_<wbr>0.pdf","../Geschaeftsberichte/Berlinovo/040815_<wbr>berlinovo_<wbr>gb_<wbr>online_<wbr>rz.pdf","../Geschaeftsberichte/Berlinovo/040815_<wbr>berlinovo_<wbr>gb_<wbr>online_<wbr>rz.pdf","../Geschaeftsberichte/Berlinovo/040815_<wbr>berlinovo_<wbr>gb_<wbr>online_<wbr>rz.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>gb_<wbr>2016_<wbr>online_<wbr>2.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>gb_<wbr>2016_<wbr>online_<wbr>2.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>gb_<wbr>2016_<wbr>online_<wbr>2.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>Finanzbericht_<wbr>2023_<wbr>barrierearm.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>Finanzbericht_<wbr>2023_<wbr>barrierearm.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>Finanzbericht_<wbr>2023_<wbr>barrierearm.pdf","../Geschaeftsberichte/Berlinovo/020712_<wbr>BIH_<wbr>Jaresabschluss_<wbr>2010_<wbr>online.pdf","../Geschaeftsberichte/Berlinovo/020712_<wbr>BIH_<wbr>Jaresabschluss_<wbr>2010_<wbr>online.pdf","../Geschaeftsberichte/Berlinovo/020712_<wbr>BIH_<wbr>Jaresabschluss_<wbr>2010_<wbr>online.pdf","../Geschaeftsberichte/Berlinovo/210512_<wbr>BIH_<wbr>Jahresabschluss_<wbr>2011_<wbr>online.pdf","../Geschaeftsberichte/Berlinovo/210512_<wbr>BIH_<wbr>Jahresabschluss_<wbr>2011_<wbr>online.pdf","../Geschaeftsberichte/Berlinovo/210512_<wbr>BIH_<wbr>Jahresabschluss_<wbr>2011_<wbr>online.pdf","../Geschaeftsberichte/Berlinovo/070813_<wbr>GB_<wbr>berlinovo_<wbr>2012_<wbr>screen%2520-%2520Korrekturfassung.pdf","../Geschaeftsberichte/Berlinovo/070813_<wbr>GB_<wbr>berlinovo_<wbr>2012_<wbr>screen%2520-%2520Korrekturfassung.pdf","../Geschaeftsberichte/Berlinovo/070813_<wbr>GB_<wbr>berlinovo_<wbr>2012_<wbr>screen%2520-%2520Korrekturfassung.pdf","../Geschaeftsberichte/Berlinovo/Finanzbericht_<wbr>Berlinovo_<wbr>2022_<wbr>bf_<wbr>s.pdf","../Geschaeftsberichte/Berlinovo/Finanzbericht_<wbr>Berlinovo_<wbr>2022_<wbr>bf_<wbr>s.pdf","../Geschaeftsberichte/Berlinovo/Finanzbericht_<wbr>Berlinovo_<wbr>2022_<wbr>bf_<wbr>s.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>Finanzbericht_<wbr>2023.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>Finanzbericht_<wbr>2023.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>Finanzbericht_<wbr>2023.pdf","../Geschaeftsberichte/Berlinovo/200514_<wbr>gb_<wbr>2013_<wbr>online_<wbr>2.pdf","../Geschaeftsberichte/Berlinovo/200514_<wbr>gb_<wbr>2013_<wbr>online_<wbr>2.pdf","../Geschaeftsberichte/Berlinovo/200514_<wbr>gb_<wbr>2013_<wbr>online_<wbr>2.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>gb_<wbr>2015_<wbr>online_<wbr>0.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>gb_<wbr>2015_<wbr>online_<wbr>0.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>gb_<wbr>2015_<wbr>online_<wbr>0.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>gb2019_<wbr>s.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>gb2019_<wbr>s.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>Finanzbericht_<wbr>2021.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>Finanzbericht_<wbr>2021.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>Finanzbericht_<wbr>2021.pdf","../Geschaeftsberichte/Berlinovo/Finanzbericht_<wbr>Berlinovo_<wbr>2022_<wbr>s.pdf","../Geschaeftsberichte/Berlinovo/Finanzbericht_<wbr>Berlinovo_<wbr>2022_<wbr>s.pdf","../Geschaeftsberichte/Berlinovo/Finanzbericht_<wbr>Berlinovo_<wbr>2022_<wbr>s.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>gb2018_<wbr>s.pdf","../Geschaeftsberichte/Berlinovo/berlinovo_<wbr>gb2018_<wbr>s.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2019_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2019_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2019_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2021_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2021_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2021_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2023_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2023_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2023_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2011_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2011_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2011_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2018_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2018_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2018_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2022_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2022_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2022_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2016_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2016_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2016_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2009_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2009_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2009_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2014_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2014_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2014_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2007_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2007_<wbr>BBB.pdf","../Geschaeftsberichte/Amt fÃ¼r Statistik Berlin-Brandenburg/AP_<wbr>Geschaeftsbericht_<wbr>DE_<wbr>2007_<wbr>BBB.pdf","../Geschaeftsberichte/degewo AG/212131_<wbr>degewo_<wbr>2022_<wbr>Konzernlagebericht_<wbr>Konzernabschluss.pdf","../Geschaeftsberichte/degewo AG/212131_<wbr>degewo_<wbr>2022_<wbr>Konzernlagebericht_<wbr>Konzernabschluss.pdf","../Geschaeftsberichte/degewo AG/212131_<wbr>degewo_<wbr>2022_<wbr>Konzernlagebericht_<wbr>Konzernabschluss.pdf","../Geschaeftsberichte/Berlin Energie und Netzholding/Jahresabschluss_<wbr>2021_<wbr>BEN_<wbr>GmbH.pdf","../Geschaeftsberichte/Berlin Energie und Netzholding/Jahresabschluss_<wbr>2021_<wbr>BEN_<wbr>GmbH.pdf","../Geschaeftsberichte/Berlin Energie und Netzholding/Jahresabschluss-BEN-GmbH-2023.pdf","../Geschaeftsberichte/Berlin Energie und Netzholding/Jahresabschluss-BEN-GmbH-2023.pdf","../Geschaeftsberichte/Berlin Energie und Netzholding/Jahresabschluss-BEN-GmbH-2023.pdf","../Geschaeftsberichte/Berlin Energie und Netzholding/Jahresabschluss-BEN-GmbH-2023.pdf","../Geschaeftsberichte/Berlin Energie und Netzholding/SIGNATURE_<wbr>DEE00084236.1.1_<wbr>550912_<wbr>Endexemplar_<wbr>20230331.pdf","../Geschaeftsberichte/Berlin Energie und Netzholding/SIGNATURE_<wbr>DEE00084236.1.1_<wbr>550912_<wbr>Endexemplar_<wbr>20230331.pdf","../Geschaeftsberichte/Berlin Energie und Netzholding/SIGNATURE_<wbr>DEE00084236.1.1_<wbr>550912_<wbr>Endexemplar_<wbr>20230331.pdf","../Geschaeftsberichte/Berlin Energie und Netzholding/SIGNATURE_<wbr>DEE00084236.1.1_<wbr>550912_<wbr>Endexemplar_<wbr>20230331.pdf","../Geschaeftsberichte/Berlin Energie und Netzholding/SIGNATURE_<wbr>DEE00084236.1.1_<wbr>550912_<wbr>Endexemplar_<wbr>20230331.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2019.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2019.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2019.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2018.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2018.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2018.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Gesch%C3%A4ftsbericht_<wbr>2020.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Gesch%C3%A4ftsbericht_<wbr>2020.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Gesch%C3%A4ftsbericht_<wbr>2021.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Gesch%C3%A4ftsbericht_<wbr>2021.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaftsbericht_<wbr>2023_<wbr>bf.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaftsbericht_<wbr>2023_<wbr>bf.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2012.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2012.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2012.pdf","../Geschaeftsberichte/GESOBAU AG/Gesch%C3%A4ftsbericht_<wbr>2022_<wbr>bf.pdf","../Geschaeftsberichte/GESOBAU AG/Gesch%C3%A4ftsbericht_<wbr>2022_<wbr>bf.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2013.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2013.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2013.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2015.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2015.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2015.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Gesch%C3%A4ftsbericht_<wbr>2024.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Gesch%C3%A4ftsbericht_<wbr>2024.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Gesch%C3%A4ftsbericht_<wbr>2024.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2014.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2014.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2014.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2016.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2016.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2016.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2016.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2017.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2017.pdf","../Geschaeftsberichte/GESOBAU AG/GESOBAU_<wbr>Geschaeftsbericht_<wbr>2017.pdf"],["10","11","13","28","29","31","16","17","19","10","11","13","28","29","31","36","37","39","7","8","10","25","26","28","34","35","37","6","7","15","16","20","21","23","20","21","10","11","13","26","27","29","42","43","44","45","4","5","6","55","56","57","58","98","99","100","101","74","75","76","77","69","70","71","72","14","15","16","17","74","75","76","77","72","73","74","75","115","116","117","118","116","117","118","119","106","107","108","109","44","45","46","47","44","45","46","47","89","90","91","92","66","67","68","69","32","33","34","36","37","68","69","70","71","66","67","68","69","44","45","46","47","47","48","49","50","4","5","50","51","52","60","61","62","53","54","55","44","45","46","20","21","22","20","21","22","50","51","52","42","43","44","44","45","46","50","51","52","62","63","64","37","38","40","41","42","42","43","44","32","33","32","33","34","8","9","10","7","8","9","18","19","20","28","29","30","8","9","10","32","33","34","26","27","28","24","25","26","16","17","18","30","31","33","9","10","21","23","42","43","20","21","23","42","43","54","55","56","52","53","54","29","30","34","35","38","39","40","41","42","32","33","40","41","42","40","41","42","62","63","64","40","41","42","42","43","44","62","52","53","54"],["Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva&Passiva","GuV","Aktiva&Passiva","GuV","Aktiva","Passiva","GuV","Aktiva&Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV","GuV","Aktiva&Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva&Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva&Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva&Passiva","GuV","Aktiva&Passiva","GuV","Aktiva&Passiva","GuV","Aktiva","Passiva","GuV","Aktiva&Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva&Passiva","GuV","Aktiva&Passiva","GuV","Aktiva&Passiva","GuV","Aktiva","Passiva","GuV","Aktiva&Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","Aktiva","Passiva","GuV","GuV","Aktiva","Passiva","GuV"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>filepath<\/th>\n      <th>page<\/th>\n      <th>type<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"dom":"tiprfl","columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"filepath","targets":1},{"name":"page","targets":2},{"name":"type","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="implementation.html#cb6-1" tabindex="-1"></a>df_pages <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb6-2"><a href="implementation.html#cb6-2" tabindex="-1"></a>  <span class="at">docs_per_company =</span> <span class="fu">n</span>(), <span class="at">pages_per_company =</span> <span class="fu">sum</span>(pages)</span>
<span id="cb6-3"><a href="implementation.html#cb6-3" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb6-4"><a href="implementation.html#cb6-4" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb6-5"><a href="implementation.html#cb6-5" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> company, <span class="at">y =</span> pages, <span class="at">fill =</span> needs_ocr), <span class="at">color =</span> <span class="st">&quot;#00000033&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-6"><a href="implementation.html#cb6-6" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb6-7"><a href="implementation.html#cb6-7" tabindex="-1"></a>    <span class="at">data =</span> . <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span> <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>),</span>
<span id="cb6-8"><a href="implementation.html#cb6-8" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> company, <span class="at">y =</span> pages_per_company, <span class="at">label =</span> docs_per_company, <span class="at">group =</span> company),</span>
<span id="cb6-9"><a href="implementation.html#cb6-9" tabindex="-1"></a>    <span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,</span>
<span id="cb6-10"><a href="implementation.html#cb6-10" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>,</span>
<span id="cb6-11"><a href="implementation.html#cb6-11" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb6-12"><a href="implementation.html#cb6-12" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb6-13"><a href="implementation.html#cb6-13" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(</span>
<span id="cb6-14"><a href="implementation.html#cb6-14" tabindex="-1"></a>    <span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">45</span>),</span>
<span id="cb6-15"><a href="implementation.html#cb6-15" tabindex="-1"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_wrap</span>(<span class="dv">30</span>)</span>
<span id="cb6-16"><a href="implementation.html#cb6-16" tabindex="-1"></a>    )</span></code></pre></div>
</details>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:document-base-page-identification"></span>
<img src="_main_files/figure-html/document-base-page-identification-1.png" alt="Showing the number of pages (bar height) and number of documents (number above the bar) per company for the data used for the page identification task. Some documents would require ocr before being processed and were not used." width="672" />
<p class="caption">
Figure 4.1: Showing the number of pages (bar height) and number of documents (number above the bar) per company for the data used for the page identification task. Some documents would require ocr before being processed and were not used.
</p>
</div>
<p>Table <a href="implementation.html#tab:display-multiple-tables-per-type-and-document">4.2</a> shows how many documents have multiple target tables per type and how many target tables span two pages. In total 21 tables are distributed on two pages. In 8 documents there are multiple tables per type of interest. There are 14 pages with two target tables (<strong>Aktiva</strong> and <strong>Passiva</strong>) on it.</p>
<table>
<caption>
<span id="tab:display-multiple-tables-per-type-and-document">Table 4.2: </span>Showing the number of documents with multiple target tables per type and the number of target tables that span two pages.
</caption>
</table>
<div class="datatables html-widget html-fill-item" id="htmlwidget-89ebf7e7431fba448070" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-89ebf7e7431fba448070">{"x":{"filter":"none","vertical":false,"data":[["1","2","3"],["Aktiva","GuV","Passiva"],["7","8","7"],["1","20","0"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>type<\/th>\n      <th>multiple targets in document<\/th>\n      <th>target two pages long<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"dom":"tiprfl","columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"type","targets":1},{"name":"multiple targets in document","targets":2},{"name":"target two pages long","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="information-extraction-data-sampling" class="section level5 hasAnchor paragraph-start" number="4.3.2.0.2">
<h5><span class="header-section-number">4.3.2.0.2</span> Information extraction<a href="implementation.html#information-extraction-data-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>For the manual information extraction we need up to 12 minutes per table. The maximum amount of values to copy and format (or type manually) among the tables used is 40. In addition to this manual process conceptional process can be necessary, because the values have to matched to the strict grammar. Sometimes we have to decide that there is no row a value fits in or there are multiple values that have to get summed up in order to calculate the value that fits in the predefined schema.</p>
</div>
<p>This manual work was done for 36 documents. For every company that published the detailed form of balance sheets a single document was included. Additionally documents were included for <em>Amt fÃ¼r Statistik und Brandenburg</em> to check, if a context learning approach is benefiting from documents from the same company.</p>
<p>Later, the predictions of the <a href="glossary.html#acronyms_LLM">LLM</a>s were used, to create additional 106 ground truth tables. The old ground truth tables were checked in this this iteration and an error rate of 2.4 % was detected. Thus, the human reference score for percentage of correct predictions is 0.976. Figure <a href="implementation.html#fig:table-extraction-doc-base">4.2</a> shows how many <strong>Aktiva</strong> tables are used for all tasks in this subsection, that use real data instead of synthetic data.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="implementation.html#cb7-1" tabindex="-1"></a>new_doc_base <span class="sc">%&gt;%</span> <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="implementation.html#cb7-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-3"><a href="implementation.html#cb7-3" tabindex="-1"></a>    <span class="at">.before =</span> <span class="dv">1</span>, </span>
<span id="cb7-4"><a href="implementation.html#cb7-4" tabindex="-1"></a>    <span class="at">company =</span> <span class="fu">str_match</span>(filepath, <span class="st">&quot;/pvc/benchmark_truth/real_tables_extended/(.*)__&quot;</span>)[<span class="dv">2</span>],</span>
<span id="cb7-5"><a href="implementation.html#cb7-5" tabindex="-1"></a>    <span class="at">initial_doc_base =</span> <span class="fu">str_remove</span>(filepath, <span class="st">&quot;_extended&quot;</span>) <span class="sc">%in%</span> old_doc_base<span class="sc">$</span>filepath</span>
<span id="cb7-6"><a href="implementation.html#cb7-6" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb7-7"><a href="implementation.html#cb7-7" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> company, <span class="at">fill =</span> initial_doc_base)) <span class="sc">+</span></span>
<span id="cb7-8"><a href="implementation.html#cb7-8" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(</span>
<span id="cb7-9"><a href="implementation.html#cb7-9" tabindex="-1"></a>    <span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">60</span>),</span>
<span id="cb7-10"><a href="implementation.html#cb7-10" tabindex="-1"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_wrap</span>(<span class="dv">30</span>)</span>
<span id="cb7-11"><a href="implementation.html#cb7-11" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb7-12"><a href="implementation.html#cb7-12" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb7-13"><a href="implementation.html#cb7-13" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb7-14"><a href="implementation.html#cb7-14" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>,</span>
<span id="cb7-15"><a href="implementation.html#cb7-15" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="at">l =</span> <span class="dv">0</span>)</span>
<span id="cb7-16"><a href="implementation.html#cb7-16" tabindex="-1"></a>  )</span></code></pre></div>
</details>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:table-extraction-doc-base"></span>
<img src="_main_files/figure-html/table-extraction-doc-base-1.png" alt="Showing the number of documents used for the table extraction task. The number of Aktiva tables is equal to the number documents." width="100%" />
<p class="caption">
Figure 4.2: Showing the number of documents used for the table extraction task. The number of Aktiva tables is equal to the number documents.
</p>
</div>
<p>To overcome the limited amount of real data and to allow the systematic investigation of potential predictors for the extraction performance, even if their occurrence is very unbalanced within the real data, synthetic <strong>Aktiva</strong> tables were created. Subsection <a href="information-extraction-report.html#synthetic-table-extraction">9.2.2</a> gives a detailed description, which table features are varied systematically, resulting in 16_504 tables in three formats each.</p>
</div>
</div>
<div id="data-processing" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Data processing<a href="implementation.html#data-processing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This section is describing the data flow for our <a href="glossary.html#acronyms_LLM">LLM</a> using approaches. Figure <a href="implementation.html#fig:data-flow-llm">4.3</a> is visualizing the different processing steps. On the blue area the data flow of the benchmark is presented, starting with the <a href="glossary.html#acronyms_PDF">PDF</a> of an annual report as input and the benchmark results as output in <a href="glossary.html#acronyms_json">json</a> format. The green area shows how R (Markdown) is used to visualize the results for analysis and interpretation as well as to document the results in this thesis.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:data-flow-llm"></span>
<img src="images/unified_flowchart.png" alt="Showing the processing steps from input data to the results in this thesis." width="100%" />
<p class="caption">
Figure 4.3: Showing the processing steps from input data to the results in this thesis.
</p>
</div>
<p>We start by extracting the text for each page from the annual reports, using PDF extraction libraries like <em>pdfium</em>, <em>pymupdf</em> or <em>pdfplumber</em>. We do this once for each document and save all text extracts in a <a href="glossary.html#acronyms_json">json</a> file together with the original file path and pagenumber.</p>
<p>For <a href="glossary.html#acronyms_LLM">LLM</a> approaches we embed the texts in the prompt template. The (merged) texts are then processed by the algorithm, predicting, if the text is including a specific type of information or not. The predictions are compared with ground truth.</p>
<p>The results of this check are saved as <a href="glossary.html#acronyms_json">json</a>. We save the result for every individual check, as well as calculated performance metrics and the runtime needed to process all texts as batch. This allows us to reevaluate or exclude single results and recalculate the aggregated metrics later. All steps from the text extraction to the result saving are implemented in <em>Python</em>.</p>
<p>The process for the information extraction is similar. One difference is, that the algorithm makes multiple predictions per text. Thus, we save not a single prediction and evaluation but a data frame with all predictions and all ground truth values per text. Saving the ground truth values in this data frame is not necessary but allows us a more convenient reevaluation.</p>
</div>
<div id="evaluation-and-reporting" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> Evaluation and Reporting<a href="implementation.html#evaluation-and-reporting" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We mostly use <em>R</em> for evaluation, visualization and reporting. We use the <em>bookdown</em> library<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>, to create a report, that is linked to our data and thus automatically includes new results and updates all figures and tables. This allows us to run small additional experiments until the very end of thesis writing.</p>
<p>Furthermore, this allows us to create a <a href="glossary.html#acronyms_PDF">PDF</a> version as well as a <a href="glossary.html#acronyms_HTML">HTML (hyper text markup language)</a> version of the thesis at the same time with low additional effort. The HTML version allows to use some helpful interactive elements as paginated tables with search and sorting capabilities, image light boxes and image sliders. Thus , a lot of information can be offered without occupying pages over pages with tables and figures. The <a href="glossary.html#acronyms_HTML">HTML</a> version is more machine readable as well.</p>
</div>
<div id="speedup-with-vllm-and-batching" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> Speedup with vLLM and batching<a href="implementation.html#speedup-with-vllm-and-batching" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We run our final experiments with the <a href="glossary.html#acronyms_vllm">vLLM</a> library on Python, using its batch processing capabilities. Our first test used the <em>transformers</em> library directly and did not use batch processing. Section <a href="appendix-e---miscellaneous.html#vllm-batch-speed">12.3.3</a> shows the runtime reduction that is achieved with the final setup.</p>
</div>
<div id="gpu-benchmark" class="section level2 hasAnchor" number="4.7">
<h2><span class="header-section-number">4.7</span> Hardware normalization<a href="implementation.html#gpu-benchmark" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To make the runtime of different <a href="glossary.html#acronyms_LLM">LLM</a>s running on different amounts and types of <a href="glossary.html#acronyms_GPU">GPU</a>s comparable, we conducted a benchmark running the models Qwen2.5-7B and Qwen2.5-32B with different hardware compositions on the Datexis cluster. Figure <a href="implementation.html#fig:gpu-benchmark-plot">4.4</a> shows the runtime for classifying 100 pages with the multi-class approach, providing three random examples for the in-context learning.</p>
<p>The classification time with Qwen2.5-32B on <a href="glossary.html#acronyms_GPU">GPU</a>s of type B200 is a little faster than running Qwen2.5-7B on the same amount of A100 <a href="glossary.html#acronyms_GPU">GPU</a>s. We calculate normalized runtimes for our experiments, based on these runtime measures for small and larger <a href="glossary.html#acronyms_LLM">LLM</a>s on different types and numbers of <a href="glossary.html#acronyms_GPU">GPU</a>s. A minute of computation on a single B200 is comparable to 4:30 minutes of computation on a single A100.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="implementation.html#cb8-1" tabindex="-1"></a>df_gpu_benchmark <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;../benchmark_jobs/page_identification/gpu_benchmark/gpu_factors.csv&quot;</span>)</span>
<span id="cb8-2"><a href="implementation.html#cb8-2" tabindex="-1"></a></span>
<span id="cb8-3"><a href="implementation.html#cb8-3" tabindex="-1"></a>df_gpu_benchmark <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gpu_number, <span class="at">y =</span> runtime_in_s, <span class="at">color =</span> gpu_type)) <span class="sc">+</span> <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">linetype =</span> model_name)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
</details>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:gpu-benchmark-plot"></span>
<img src="_main_files/figure-html/gpu-benchmark-plot-1.png" alt="Showing the runtime to classify 100 pages with the multi-class approach, providing three random examples for the in-context learning." width="672" />
<p class="caption">
Figure 4.4: Showing the runtime to classify 100 pages with the multi-class approach, providing three random examples for the in-context learning.
</p>
</div>
</div>
<div id="summary-2" class="section level2 hasAnchor" number="4.8">
<h2><span class="header-section-number">4.8</span> Summary<a href="implementation.html#summary-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p>For the next project we probably will start using <em>Quarto</em> instead of <em>bookdown</em>. This is the new reporting framework of Posit, we became aware of too late.<a href="implementation.html#fnref3" class="footnote-back">â©ï¸</a></p></li>
</ol>
</div>
<script>
// Lightbox functionality for displaying images in a modal view
document.addEventListener("DOMContentLoaded", function () {
  // Create a lightbox container
  const lightbox = document.createElement("div");
  lightbox.id = "lightbox";
  lightbox.style.position = "fixed";
  lightbox.style.top = "0";
  lightbox.style.left = "0";
  lightbox.style.width = "100%";
  lightbox.style.height = "100%";
  lightbox.style.backgroundColor = "rgba(0, 0, 0, 0.8)";
  lightbox.style.display = "none";
  lightbox.style.justifyContent = "center";
  lightbox.style.alignItems = "center";
  lightbox.style.zIndex = "1000";
  document.body.appendChild(lightbox);

  // Add an image element to the lightbox
  const lightboxImage = document.createElement("img");
  lightboxImage.id = "lightbox-image";
  // lightboxImage.style.maxWidth = "90%";
  // lightboxImage.style.maxHeight = "90%";
  lightbox.appendChild(lightboxImage);

  // Close lightbox on click
  lightbox.addEventListener("click", function () {
    lightbox.style.display = "none";
  });

  // Add onclick event to all images except the excluded one
  const images = document.querySelectorAll("img");
  images.forEach((img) => {
    if (img.src.includes("images/BHT_Logo_horizontal_Anthrazit_transparent.svg")) {
      return; // Skip the excluded image
    }
    img.style.cursor = "pointer"; // Change cursor to indicate clickability
    img.addEventListener("click", function () {
      lightboxImage.src = img.src; // Set the lightbox image source
      lightbox.style.display = "flex"; // Show the lightbox
    });
  });
});
</script>

<script>
// Image slider/carousel functionality for divs with class "image-slider"
document.addEventListener("DOMContentLoaded", function () {
  document.querySelectorAll('.image-slider').forEach(function (slider) {
    const images = slider.querySelectorAll('img');
    if (images.length < 2) return; // No need for slider if only one image

    // Hide all images except the first
    images.forEach((img, i) => img.style.display = i === 0 ? 'inline' : 'none');
    let current = 0;

    // Create navigation buttons
    const prevBtn = document.createElement('button');
    prevBtn.textContent = 'â¨ Prev';
    prevBtn.style.marginRight = '10px';
    const nextBtn = document.createElement('button');
    nextBtn.textContent = 'Next â©';
    nextBtn.style.marginLeft = '10px';

    // Create a caption container
    const captionContainer = document.createElement('div');
    captionContainer.style.fontStyle = 'italic';
    captionContainer.style.color = '#555';

    // Create a flex container for buttons and caption
    const controlsContainer = document.createElement('div');
    controlsContainer.style.display = 'flex';
    controlsContainer.style.justifyContent = 'space-between';
    controlsContainer.style.alignItems = 'center';
    controlsContainer.style.marginTop = '10px';
    controlsContainer.style.width = '100%';

    // Place buttons and caption in flex container
    controlsContainer.appendChild(prevBtn);
    controlsContainer.appendChild(captionContainer);
    controlsContainer.appendChild(nextBtn);

    // Function to update the caption
    const updateCaption = () => {
      const caption = images[current].nextElementSibling;
      if (caption && caption.classList.contains('image-caption')) {
        captionContainer.textContent = caption.textContent;
      } else {
        captionContainer.textContent = ''; // Clear caption if none exists
      }
    };

    // Function to show the next image
    const showNextImage = () => {
      images[current].style.display = 'none';
      current = (current + 1) % images.length;
      images[current].style.display = 'inline';
      updateCaption();
    };

    // Function to show the previous image
    const showPrevImage = () => {
      images[current].style.display = 'none';
      current = (current - 1 + images.length) % images.length;
      images[current].style.display = 'inline';
      updateCaption();
    };

    // Button click handlers
    prevBtn.onclick = function () {
      stopAutoSlide();
      showPrevImage();
    };
    nextBtn.onclick = function () {
      stopAutoSlide();
      showNextImage();
    };

    // Insert controls container below images
    slider.appendChild(controlsContainer);

    // Automatic sliding
    let autoSlideInterval = setInterval(showNextImage, 2000);

    // Stop automatic sliding on user interaction
    const stopAutoSlide = () => {
      clearInterval(autoSlideInterval);
    };

    // Stop auto-slide when the user interacts with the slider
    prevBtn.addEventListener('click', stopAutoSlide);
    nextBtn.addEventListener('click', stopAutoSlide);
    images.forEach((img) => {
      img.addEventListener('click', stopAutoSlide);
    });

    // Initialize the caption
    updateCaption();
  });
});
</script>

<script>
// Dropdown filter functionality for images with lightbox
document.addEventListener("DOMContentLoaded", function () {
  document.querySelectorAll('.image-selector').forEach(function (selector) {
    const images = selector.querySelectorAll('img');
    if (images.length === 0) return;

    // Create a dropdown filter container
    const filterContainer = document.createElement('div');
    filterContainer.classList.add('filter-container');

    const dropdown = document.createElement('select');
    dropdown.multiple = true;
    dropdown.classList.add('filter-dropdown');

    // Add options to the dropdown
    const uniqueCategories = [];
    images.forEach((img) => {
      const caption = img.nextElementSibling;
      if (caption && caption.classList.contains('image-caption')) {
        const category = caption.textContent.trim();
        if (!uniqueCategories.includes(category)) uniqueCategories.push(category);
      }
    });

    uniqueCategories.forEach((category) => {
      const option = document.createElement('option');
      option.value = category;
      option.textContent = category;
      // Do NOT set option.selected here!
      dropdown.appendChild(option);
    });

    filterContainer.appendChild(dropdown);
    selector.appendChild(filterContainer);

    // Add a grid container for filtered images
    const gridContainer = document.createElement('div');
    gridContainer.classList.add('image-grid');
    selector.appendChild(gridContainer);

    // Choices.js initialization
    const choices = new Choices(dropdown, {
      removeItemButton: true,
      shouldSort: false,
      searchEnabled: false,
      placeholder: true,
      placeholderValue: 'Filter categories',
    });

    // Clear any existing selection first, then set initial selection
    choices.removeActiveItems(); // This clears existing selections
    choices.setChoiceByValue(uniqueCategories[0]); // This sets only the first category

    // Filtering function
    const filterImages = () => {
      const selectedCategories = Array.from(dropdown.selectedOptions).map(opt => opt.value);
      gridContainer.innerHTML = '';
      let shownWrappers = [];
      images.forEach((img) => {
        const caption = img.nextElementSibling;
        if (caption && caption.classList.contains('image-caption')) {
          const category = caption.textContent.trim();
          if (selectedCategories.includes(category)) {
            const imgWrapper = document.createElement('div');
            imgWrapper.classList.add('image-wrapper');
            const imgClone = img.cloneNode(true);
            imgClone.style.cursor = 'pointer';
            imgClone.addEventListener('click', function () {
              const lightboxImage = document.querySelector("#lightbox img");
              const lightbox = document.querySelector("#lightbox");
              lightboxImage.src = imgClone.src;
              lightbox.style.display = 'flex';
            });
            imgWrapper.appendChild(imgClone);
            const captionClone = caption.cloneNode(true);
            imgWrapper.appendChild(captionClone);
            gridContainer.appendChild(imgWrapper);
            shownWrappers.push(imgWrapper);
          }
        }
      });
      // If only one image is shown, make it span both columns
      if (shownWrappers.length === 1) {
        shownWrappers[0].style.gridColumn = "span 2";
      }
    };

    // Listen for changes from Choices.js
    dropdown.addEventListener('change', filterImages);

    // Initial grid (only first category shown)
    filterImages();
  });
});
</script>
<script>
document.addEventListener("DOMContentLoaded", function () {
  var codes = document.querySelectorAll('.hideme');
  var code, i, d, s, p;
  for (i = 0; i < codes.length; i++) {
    code = codes[i];
    p = code.parentNode;
    d = document.createElement('details');
    s = document.createElement('summary');
    s.innerText = 'Details';
    // <details><summary>Details</summary></details>
    d.appendChild(s);
    // move the code into <details>
    p.replaceChild(d, code);
    d.appendChild(code);
  }
});
</script>
            </section>

          </div>
        </div>
      </div>
<a href="methodology.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="results.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["_main.pdf"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
