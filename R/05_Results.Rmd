# Results

```{r page-identification-data-loading, echo=FALSE, warning=FALSE, error=FALSE, message=FALSE}
source("scripts/page_identification_regex.R")
```

## Page identification

As described in \@ref(text-extraction-benchmark) open source libraries have been used to extract the text from the annual reports.

### Baseline: Regex {#regex-page-identification}

Building a sound regular expression often is an iterative process. In a first approach a very simple one was implemented. 

The regular expressions can be found in the appendix (see \@ref(regex-page-identification)).

```{python, eval=FALSE, echo = knitr::is_html_output()}
simple_regex_patterns = {
    "Aktiva": [
        r"aktiva",
        r"((20\d{2}).*(20\d{2}))"
    ],
    "Passiva": [
        r"passiva",
        r"((20\d{2}).*(20\d{2}))"
    ],
    "GuV": [
        r"gewinn",
        r"verlust",
        r"rechnung",
        r"((20\d{2}).*(20\d{2}))"
    ]
}
```

```{r display-results-df, echo=FALSE, results="asis"}
metric_summaries["Aktiva"][[1]] %>%
  mutate_if(
    is.numeric, 
    ~ifelse(
      . == max(., na.rm = TRUE),
      paste0("**", ., "**"),
      .
    )
  ) %>% arrange(desc(method)) %>% 
  render_table(alignment="llrrr", caption="Comparing page identification metrics for different regular expressions for classification task 'Aktiva'", ref="display-results-df")
```

\@ref(tab:display-results-df)

### Advanced techniques

#### Table of Contents understanding

* top 1
* top k

* toc analysis
* cleaned measures

#### Classification with LLMs {#llm-page-identification}

##### Binary classification

* f1
* multiple models
* best model detail (different methods / settings)

##### Multi classification

* f1
* multiple models
* best model detail (different methods / settings)

### Comparison

#### F1

#### Energy usage and runtime

## Table extraction