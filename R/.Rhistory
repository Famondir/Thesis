library(jsonlite)
json_files_table_detection_llm <- list.files("../benchmark_results/table_detection/llm/", pattern = "\\.json$", full.names = TRUE)
meta_list_llm <- list()
# Loop through each .json file
for (file in json_files_table_detection_llm) {
# Read the JSON file
json_data <- fromJSON(file)
# Extract the threshold and metrics from the "metrics" key
metrics <- as.data.frame(fromJSON(json_data$metrics))
lst <- list(
metrics = metrics,
model = basename(file),
runtime = json_data$runtime
)
meta_list_llm[[length(meta_list_llm) + 1]] <- lst
}
json_files_table_detection_llm <- list.files("../benchmark_results/table_detection/llm/", pattern = "\\.json$", full.names = TRUE)
meta_list_llm <- list()
# Loop through each .json file
for (file in json_files_table_detection_llm) {
# Read the JSON file
json_data <- fromJSON(file)
# Extract the threshold and metrics from the "metrics" key
metrics <- as.data.frame(json_data$metrics)
lst <- list(
metrics = metrics,
model = basename(file),
runtime = json_data$runtime
)
meta_list_llm[[length(meta_list_llm) + 1]] <- lst
}
meta_list_llm
View(meta_list_llm)
meta_list_llm[[1]]
meta_list_llm[[2]]
meta_list_llm[[3]]
meta_list_llm[[3]]$metrics
meta_list_llm[[3]]$metrics$Aktiva.f1_score
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
llm = result$model
parameters = 0
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df <- results_df %>%
add_row(
llm = llm,
parameters = parameters,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
library(tidyverse)
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
llm = result$model
parameters = 0
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df <- results_df %>%
add_row(
llm = llm,
parameters = parameters,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
llm = result$model
parameters = 0
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df_llm <- results_df %>%
add_row(
llm = llm,
parameters = parameters,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
llm = result$model
parameters = 0
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df_llm <- results_df_llm %>%
add_row(
llm = llm,
parameters = parameters,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
llm = result$model
parameters = "0B"
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df_llm <- results_df_llm %>%
add_row(
llm = llm,
parameters = parameters,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
View(results_df_llm)
meta_list_llm[[3]]$model
meta_list_llm[[3]]$model %>% str_split("_")
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
method = character(),
loop = numeric(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
name_split = result$model %>% str_split("_")
llm = name_split[2]
parameters = "0B"
method = name_split[4]
loop = name_split[-1]
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df_llm <- results_df_llm %>%
add_row(
llm = llm,
parameters = parameters,
method = method,
loop = loop,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
method = character(),
loop = numeric(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
name_split = result$model %>% str_split("_")
llm = name_split[2]
parameters = "0B"
method = name_split[4]
loop = name_split[-1] %>% str_remove(".sjon") %>% as.integer()
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df_llm <- results_df_llm %>%
add_row(
llm = llm,
parameters = parameters,
method = method,
loop = loop,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
method = character(),
loop = numeric(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
name_split = result$model %>% str_split("_")
llm = name_split[[2]]
parameters = "0B"
method = name_split[[4]]
loop = name_split[[-1]] %>% str_remove(".sjon") %>% as.integer()
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df_llm <- results_df_llm %>%
add_row(
llm = llm,
parameters = parameters,
method = method,
loop = loop,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
method = character(),
loop = numeric(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
name_split = result$model %>% str_split("_")
llm = name_split[2]
parameters = "0B"
method = name_split[4]
loop = name_split[-1] %>% str_remove(".sjon") %>% as.integer()
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df_llm <- results_df_llm %>%
add_row(
llm = llm,
parameters = parameters,
method = method,
loop = loop,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
rlang::last_trace()
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
method = character(),
loop = character(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
name_split = result$model %>% str_split("_")
llm = name_split[2]
parameters = "0B"
method = name_split[4]
loop = name_split[-1] %>% str_remove(".sjon") # %>% as.integer()
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df_llm <- results_df_llm %>%
add_row(
llm = llm,
parameters = parameters,
method = method,
loop = loop,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
method = character(),
loop = character(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
name_split = result$model %>% str_split("_")
llm = name_split[2]
print(llm)
parameters = "0B"
method = name_split[4]
loop = name_split[-1] %>% str_remove(".sjon") # %>% as.integer()
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df_llm <- results_df_llm %>%
add_row(
llm = llm,
parameters = parameters,
method = method,
loop = loop,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
method = character(),
loop = character(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
name_split = result$model %>% str_split("_")
print(name_split)
llm = name_split[2]
print(llm)
parameters = "0B"
method = name_split[4]
loop = name_split[-1] %>% str_remove(".sjon") # %>% as.integer()
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df_llm <- results_df_llm %>%
add_row(
llm = llm,
parameters = parameters,
method = method,
loop = loop,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
method = character(),
loop = character(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
name_split = result$model %>% str_split("_")
llm = name_split[[1]][2]
print(llm)
parameters = "0B"
method = name_split[4]
loop = name_split[-1] %>% str_remove(".sjon") # %>% as.integer()
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df_llm <- results_df_llm %>%
add_row(
llm = llm,
parameters = parameters,
method = method,
loop = loop,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
method = character(),
loop = character(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
name_split = result$model %>% str_split("_")
name_split = name_split[[1]]
llm = name_split[2]
print(llm)
parameters = "0B"
method = name_split[4]
loop = name_split[-1] %>% str_remove(".sjon") # %>% as.integer()
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df_llm <- results_df_llm %>%
add_row(
llm = llm,
parameters = parameters,
method = method,
loop = loop,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
View(results_df_llm)
results_df_llm <- data.frame(
llm = character(),
parameters = character(),
method = character(),
loop = character(),
# acc = numeric(),
# precision = numeric(),
# recall = numeric(),
F1_Aktiva = numeric(),
runtime_in_s = numeric(),
stringsAsFactors = FALSE
)
for (result in meta_list_llm) {
name_split = result$model %>% str_split("_")
name_split = name_split[[1]]
llm = name_split[2]
parameters = "0B"
method = name_split[4]
loop = name_split[-1] %>% str_remove(".sjon") # %>% as.integer()
F1_Aktiva = result$metrics$Aktiva.f1_score
runtime = result$runtime
results_df_llm <- results_df_llm %>%
add_row(
llm = llm,
parameters = parameters,
method = method,
loop = loop,
# acc = acc,
# precision = precision,
# recall = recall,
F1_Aktiva = F1_Aktiva,
runtime_in_s = runtime
)
}
View(results_df_llm)
